(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.j)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.f)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.e)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.h)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"128B":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("Kqap"),i=n("BFxc"),o=n("xbPD"),s=n("mCNh");function a(t,e){return arguments.length>=2?function(n){return Object(s.a)(Object(r.a)(t,e),Object(i.a)(1),Object(o.a)(e))(n)}:function(e){return Object(s.a)(Object(r.a)((e,n,r)=>t(e,n,r+1)),Object(i.a)(1))(e)}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"39oe":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>{try{if(t instanceof class{constructor(t){this.value=t}})return t.value;if(!s()||"string"!=typeof t||""===t)return t;const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,u.forEach(t=>{const n=e.querySelectorAll(t);for(let r=n.length-1;r>=0;r--){const t=n[r];t.parentNode?t.parentNode.removeChild(t):e.removeChild(t);const s=o(t);for(let e=0;e<s.length;e++)i(s[e])}});const r=o(e);for(let t=0;t<r.length;t++)i(r[t]);const a=document.createElement("div");a.appendChild(e);const c=a.querySelector("div");return null!==c?c.innerHTML:a.innerHTML}catch(e){return console.error(e),""}},i=t=>{if(t.nodeType&&1!==t.nodeType)return;for(let n=t.attributes.length-1;n>=0;n--){const e=t.attributes.item(n),r=e.name;if(!a.includes(r.toLowerCase())){t.removeAttribute(r);continue}const i=e.value;null!=i&&i.toLowerCase().includes("javascript:")&&t.removeAttribute(r)}const e=o(t);for(let n=0;n<e.length;n++)i(e[n])},o=t=>null!=t.children?t.children:t.childNodes,s=()=>{const t=window,e=t&&t.Ionic&&t.Ionic.config;return!e||(e.get?e.get("sanitizerEnabled",!0):!0===e.sanitizerEnabled||void 0===e.sanitizerEnabled)},a=["class","id","href","src","name","slot"],u=["script","style","iframe","meta","link","object","embed"]},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4pTB":function(t,e){},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.G)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.A)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),d=l("sessionStorage"),f=new s.b("@firebase/database"),p=(e=1,function(){return e++}),g=function(t){var e=Object(o.F)(t),n=new o.d;n.update(e);var r=n.digest();return o.g.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?Object(o.G)(i):i,n+=" "}return n},m=null,y=!0,b=function(t,e){Object(o.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=s.a.VERBOSE,m=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,d.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===y&&(y=!1,null===m&&!0===d.get("logging_enabled")&&b(!0)),m){var n=v.apply(null,t);m(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.h)([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(i.h)(t));f.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(i.h)(t));throw f.error(n),new Error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(i.h)(t));f.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",I="[MAX_NAME]",x=function(t,e){if(t===e)return 0;if(t===T||e===I)return-1;if(e===T||t===I)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},j=function(t,e){return t===e?0:t<e?-1:1},k=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.G)(e))},A=function(t){if("object"!=typeof t||null===t)return Object(o.G)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.G)(e[i]),r+=":",r+=A(t[e[i]]);return r+"}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var P,D,L,M,F,U,V,$,q,H,z=function(t){var e,n,r,i,s;Object(o.e)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},B=new RegExp("^-?(0*)\\d{1,10}$"),G=function(t){if(B.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},W=function(t){try{t()}catch(e){setTimeout((function(){throw C("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},K=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Y=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.E)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.E)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.E)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),X=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.e)("string"==typeof t,"typeof type must == string"),Object(o.e)("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return R(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),Z=function(t,e){var n=J(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new X(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Q(n.pathString)}},J=function(t){var e="",n="",r="",o="",s="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.j)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},tt=/[\[\].#$\/\u0000-\u001F\u007F]/,et=/[\[\].#$\u0000-\u001F\u007F]/,nt=function(t){return"string"==typeof t&&0!==t.length&&!tt.test(t)},rt=function(t){return"string"==typeof t&&0!==t.length&&!et.test(t)},it=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.i)(t,".sv")},ot=function(t,e,n,r,i){i&&void 0===n||st(Object(o.m)(t,e,i),n,r)},st=function(t,e,n){var r=n instanceof Q?new Y(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&Object(o.E)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(R(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!nt(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),st(t,n,r),r.pop()})),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},at=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.m)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];R(n,(function(t,e){var n=new Q(t);if(st(s,e,r.child(n)),".priority"===n.getBack()&&!it(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!nt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Q.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},ut=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.m)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!it(n))throw new Error(Object(o.m)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ct=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},lt=function(t,e,n,r){if(!(r&&void 0===n||nt(n)))throw new Error(Object(o.m)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ht=function(t,e,n,r){if(!(r&&void 0===n||rt(n)))throw new Error(Object(o.m)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ht(t,e,n,r)},ft=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},pt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!nt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rt(t)}(r))throw new Error(Object(o.m)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.m)(t,e,r)+"must be a boolean.")},vt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.H)("OnDisconnect.cancel",0,1,arguments.length),Object(o.I)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.H)("OnDisconnect.remove",0,1,arguments.length),ft("OnDisconnect.remove",this.path_),Object(o.I)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.H)("OnDisconnect.set",1,2,arguments.length),ft("OnDisconnect.set",this.path_),ot("OnDisconnect.set",1,t,this.path_,!1),Object(o.I)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.H)("OnDisconnect.setWithPriority",2,3,arguments.length),ft("OnDisconnect.setWithPriority",this.path_),ot("OnDisconnect.setWithPriority",1,t,this.path_,!1),ut("OnDisconnect.setWithPriority",2,e,!1),Object(o.I)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.H)("OnDisconnect.update",1,2,arguments.length),ft("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("OnDisconnect.update",1,t,this.path_,!1),Object(o.I)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),mt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.H)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),yt=(P="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",D=0,L=[],function(t){var e,n=t===D;D=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=P.charAt(t%64),t=Math.floor(t/64);Object(o.e)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===L[e];e--)L[e]=0;L[e]++}else for(e=0;e<12;e++)L[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=P.charAt(L[e]);return Object(o.e)(20===i.length,"nextPushId: Length should be 20."),i}),bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),_t=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new bt(T,t),r=new bt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return bt.MIN},t}(),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return M},set:function(t){M=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(I,M)},e.prototype.makePost=function(t,e){return Object(o.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,M)},e.prototype.toString=function(){return".key"},e}(_t),Et=new wt,Ot=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},Ct=function(t){if(t.isLeafNode()){var e=t.val();Object(o.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.i)(e,".sv"),"Priority must be a string or number.")}else Object(o.e)(t===F||t.isEmpty(),"priority of unexpected type.");Object(o.e)(t===F||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},St=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ct(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return U},set:function(t){U=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ot(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Tt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(I,new St("[PRIORITY-POST]",$))},e.prototype.makePost=function(t,e){var n=V(t);return new bt(e,new St("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(_t)),It=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:kt.EMPTY_NODE,this.right=null!=o?o:kt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return kt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return kt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),jt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),kt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new It(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new It(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new jt,t}(),At=Math.log(2),Nt=function(){function t(t){this.count=parseInt(Math.log(t+1)/At,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new xt(s,o.node,xt.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new xt(s,o.node,xt.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new xt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,xt.BLACK):(a(h,xt.BLACK),a(h,xt.RED))}return o}(new Nt(t.length));return new kt(r||e,o)},Pt={},Dt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.e)(Pt&&Tt,"ChildrenNode.ts has not been loaded"),q=q||new t({".priority":Pt},{".priority":Tt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.D)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof kt?e:null},t.prototype.hasIndex=function(t){return Object(o.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.e)(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(bt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?Rt(s,e.getCompare()):Pt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var d=Object(i.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.B)(this.indexes_,(function(t,i){var s=Object(o.D)(r.indexSet_,i);if(Object(o.e)(s,"Missing index implementation for "+i),t===Pt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(bt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Rt(a,s.getCompare())}return Pt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new bt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.B)(this.indexes_,(function(t){if(t===Pt)return t;var r=n.get(e.name);return r?t.remove(new bt(e.name,r)):t})),this.indexSet_)},t}();function Lt(t,e){return x(t.name,e.name)}function Mt(t,e){return x(t,e)}var Ft=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ct(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return H||(H=new t(new kt(Mt),null,Dt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||H},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?H:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new bt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?H:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.e)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Tt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ot(this.getPriority().val())+":"),this.forEachChild(Tt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Tt),r=e.getIterator(Tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new kt(Mt),Ft.EMPTY_NODE,Dt.Default)||this}return Object(i.d)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ft.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ft));function Vt(t,e){if(void 0===e&&(e=null),null===t)return Ft.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new St(t,Vt(e));if(t instanceof Array){var n=Ft.EMPTY_NODE;return R(t,(function(e,r){if(Object(o.i)(t,e)&&"."!==e.substring(0,1)){var i=Vt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Vt(e))}var r=[],i=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=Vt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new bt(t,n)))}})),0===r.length)return Ft.EMPTY_NODE;var s=Rt(r,Lt,(function(t){return t.name}),Mt);if(i){var a=Rt(r,Tt.getCompare());return new Ft(s,Vt(e),new Dt({".priority":a},{".priority":Tt}))}return new Ft(s,Vt(e),Dt.Default)}Object.defineProperties(bt,{MIN:{value:new bt(T,Ft.EMPTY_NODE)},MAX:{value:new bt(I,Ut)}}),wt.__EMPTY_NODE=Ft.EMPTY_NODE,St.__childrenNodeConstructor=Ft,F=Ut,function(t){$=t}(Ut),function(t){V=t}(Vt);var $t,qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return bt.MAX},e.prototype.makePost=function(t,e){var n=Vt(t);return new bt(e,n)},e.prototype.toString=function(){return".value"},e}(_t)),Ht=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.e)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.d)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Vt(t),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,n);return new bt(e,r)},e.prototype.maxPost=function(){var t=Ft.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new bt(I,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(_t),zt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.H)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.H)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.H)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.H)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.H)("DataSnapshot.child",0,1,arguments.length),e=String(e),ht("DataSnapshot.child",1,e,!1);var n=new Q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Tt)},t.prototype.hasChild=function(t){Object(o.H)("DataSnapshot.hasChild",1,1,arguments.length),ht("DataSnapshot.hasChild",1,t,!1);var e=new Q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.H)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.H)("DataSnapshot.forEach",1,1,arguments.length),Object(o.I)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Tt))}))},t.prototype.hasChildren=function(){return Object(o.H)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.H)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.H)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Bt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.G)(this.snapshot.exportVal())},t}(),Gt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Wt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Bt("value",this,new zt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Kt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.i)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.e)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Bt(t.type,this,new zt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Qt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.e)($t,"Reference.ts has not been loaded"),$t},set:function(t){$t=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Tt){if(null!=e&&!it(e)||null!=n&&!it(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(t.getIndex()instanceof Ht||t.getIndex()===qt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.H)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.H)("Query.on",2,4,arguments.length),ct("Query.on",1,e,!1),Object(o.I)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Wt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Kt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.H)("Query.off",0,3,arguments.length),ct("Query.off",1,t,!0),Object(o.I)("Query.off",2,e,!0),Object(o.J)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new Wt(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Kt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;Object(o.H)("Query.once",1,4,arguments.length),ct("Query.once",1,e,!1),Object(o.I)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function(t){u&&(u=!1,s.off(e,l),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,l,(function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.H)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.H)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.H)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ht("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ht(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.H)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.H)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.H)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.H)("Query.startAt",0,2,arguments.length),ot("Query.startAt",1,e,this.path,!0),lt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.H)("Query.endAt",0,2,arguments.length),ot("Query.endAt",1,e,this.path,!0),lt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.H)("Query.equalTo",1,2,arguments.length),ot("Query.equalTo",1,t,this.path,!1),lt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.H)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.H)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.H)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.I)(t,3,r.cancel,!0),r.context=n,Object(o.J)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.m)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Yt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Xt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Zt=function(t,e,n){return t&&"object"==typeof t?(Object(o.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Jt(t[".sv"],e,n):"object"==typeof t[".sv"]?te(t[".sv"],e):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Jt=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.e)(!1,"Unexpected server value: "+t)}},te=function(t,e,n){t.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.e)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},ee=function(t,e,n,r){return re(e,new Xt(n,t),r)},ne=function(t,e,n){return re(t,new Yt(e),n)};function re(t,e,n){var r,i=t.getPriority().val(),o=Zt(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Zt(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new St(a,Vt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new St(o))),u.forEachChild(Tt,(function(t,i){var o=re(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ie,oe,se=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Tt,(function(t,e){n.remember(new Q(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Q(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ae=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ue=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.e)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ae.ACK_USER_WRITE,this.source=ue.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Q(e));return new t(Q.Empty,n,this.revert)}return Object(o.e)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),le=function(){function t(t,e){void 0===e&&(ie||(ie=new kt(j)),e=ie),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new Q(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Q(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),he=function(){function t(t,e){this.source=t,this.path=e,this.type=ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Q.Empty):new t(this.source,this.path.popFront())},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ae.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ae.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new de(this.source,Q.Empty,n.value):new t(this.source,Q.Empty,n)}return Object(o.e)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new pe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new pe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new pe(Ft.EMPTY_NODE,!1,!1),new pe(Ft.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),me=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ve.childRemovedChange(e,a)):Object(o.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ve.childAddedChange(e,n)):s.trackChildChange(ve.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Tt,(function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Tt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ft.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.e)(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ve.CHILD_ADDED&&i===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,r.oldSnap));else if(e===ve.CHILD_CHANGED&&i===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||i!==ve.CHILD_CHANGED)throw Object(o.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),be=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_e=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),we=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ee=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.e)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.e)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,u=new ye;if(n.type===ae.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),s=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,u))}else if(n.type===ae.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,u))}else if(n.type===ae.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ae.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,u)}var d=u.getChanges();return t.maybeAddValueEvent_(e,s,d),new we(s,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(Object(o.e)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Ft?c:Ft.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){Object(o.e)(1===e.getLength(),"Can't have a priority with additional path components");var f=s.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,u);a=null!=p?this.filter_.updatePriority(f,p):s.getNode()}else{var g=e.popFront(),v=void 0;if(s.isCompleteForChild(d)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),u);v=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());a=null!=v?this.filter_.updateChild(s.getNode(),d,v,g,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=u.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),h,f,d,be,null)}var p=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new _e(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new _e(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),d=u.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var p=c.getCompleteChild(l);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ft.EMPTY_NODE}if(d.equals(f))s=t;else{var g=this.filter_.updateChild(u.getNode(),l,f,h,c,o);s=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:le.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new Q(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new Q(e),d,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=le.Empty;return a.getNode().forEachChild(Et,(function(t,e){u=u.set(new Q(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=le.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,be,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new _e(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.e)(h instanceof Ft,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=u.getImmediateChild(d)),(c=null!=f?this.filter_.updateChild(u,d,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(u,d,Ft.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Q.Empty),t.updateEventSnap(c,s,this.filter_.filtersNodes())},t}(),Oe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.f)("Should only compare child_ events.");var n=new bt(t.childName,t.snapshotNode),r=new bt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ce=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new me(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ee(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Ft.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ft.EMPTY_NODE,s.getNode(),null),c=new pe(a,o.isFullyInitialized(),r.filtersNodes()),l=new pe(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(l,c),this.eventGenerator_=new Oe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.e)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ae.MERGE&&null!==t.source.queryId&&(Object(o.e)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.e)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.e)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Tt,(function(t,e){n.push(ve.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Se=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.e)(oe,"Reference.ts has not been loaded"),oe},set:function(t){Object(o.e)(!oe,"__referenceConstructor has already been defined"),oe=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var u=this.views.get(a);return Object(o.e)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=Object(i.j)(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Ft?(a=n.calcCompleteEventChildren(r),u=!1):(a=Ft.EMPTY_NODE,u=!1);var c=new ge(new pe(a,u,!1),new pe(r,i,!1));s=new Ce(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,s,a=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===a)try{for(var h=Object(i.j)(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=Object(i.f)(d.value,2),g=p[0];c=c.concat((f=p[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(g),f.getQuery().getQueryParams().loadsAllData()||u.push(f.getQuery()))}}catch(v){o={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(f=this.views.get(a))&&(c=c.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||u.push(f.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.j)(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.j)(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.j)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Q.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new le(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Tt,(function(e,n){t.push(new bt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.e)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(e.child(n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Q.Empty,this.writeTree_,t)},t.Empty=new t(new le(null)),t}(),Ie=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new xe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.e)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.e)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):R(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Q.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Ft.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(Q.Empty)?a.apply(n||Ft.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ft.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Tt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Tt,(function(t,e){var r=i.childCompoundWrite(new Q(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.e)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(Q.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&c.length<r;)0!==l(d,n)&&c.push(d),d=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Q.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Te.Empty,i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)n.contains(a)?(u=Q.relativePath(n,a),r=r.addWrite(u,s.snap)):a.contains(n)&&(u=Q.relativePath(a,n),r=r.addWrite(Q.Empty,s.snap.getChild(u)));else{if(!s.children)throw Object(o.f)("WriteRecord should have .snap or .children");if(n.contains(a))u=Q.relativePath(n,a),r=r.addWrites(u,s.children);else if(a.contains(n))if((u=Q.relativePath(a,n)).isEmpty())r=r.addWrites(Q.Empty,s.children);else{var c=Object(o.D)(s.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(Q.Empty,l)}}}}}return r},t}(),xe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),je=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Ie,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new de(ue.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new fe(ue.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=le.Empty;return null!=n.snap?r=r.set(Q.Empty,!0):R(n.children,(function(t,e){r=r.set(new Q(t),e)})),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new de(ue.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new fe(ue.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new he(ue.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=Q.relativePath(s,e),c=new de(ue.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=Q.relativePath(s,e),c=le.fromObject(n),l=new fe(ue.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=Q.relativePath(o,e),u=new he(ue.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Q.relativePath(t,r);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(s=s||u.hasCompleteView(),i=i||u.getCompleteServerCache(Q.Empty)):(u=new Se,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Ft.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Q.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.e)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var d=this.pendingWriteTree_.childWrites(r),f=u.addEventRegistration(e,n,d,i,a);if(!c&&!s){var p=u.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var g=f[p],v=g.getQuery(),m=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(v),this.tagForQuery_(v),m.hashFn,m.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Q.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),R(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.e)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ft.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.e)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Q.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Q.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),ke=function(){function t(){this.rootNode_=Ft.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ae=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.k)(this.counters_)},t}(),Ne=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ae),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Pe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,(function(e,i){i>0&&Object(o.i)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),De=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();m&&_("event: "+e.toString()),W(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Me=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.h)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.e)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Fe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.d)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Me),Ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.u)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.d)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Me),Ve=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&W((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),$e=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=Ne.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ve(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.w)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.f)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=s,n.password=a;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.f)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.w)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.G)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.h)(e),r=N(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.w)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.G)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),qe=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.w)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.w)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),He="";function ze(t){He=t}var Be=null;"undefined"!=typeof MozWebSocket?Be=MozWebSocket:"undefined"!=typeof WebSocket&&(Be=WebSocket);var Ge=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=Ne.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.w)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.w)()){var r={headers:{"User-Agent":"Firebase/5/"+He+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Be(this.connURL,[],r)}else this.mySock=new Be(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Be&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.A)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.G)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),We=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$e,Ge]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Ge&&Ge.isAvailable(),s=o&&!Ge.previouslyFailed();if(e.webSocketOnly&&(o||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ge];else{var a=this.transports_=[];try{for(var u=Object(i.j)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ke=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new We(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=K((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=k("t",t),n=k("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=k("t",t),n=k("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=k("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),K((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Qe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ye=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.w)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Fe.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Ue.getInstance().on("online",l.onOnline_,l),l}return Object(i.d)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_(Object(o.G)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.e)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.i)(t,"w")){var n=Object(o.D)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.o)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.z)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.e)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.G)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(o.G)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new Ke(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){C(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&C(e),h())}))}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.s)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return A(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Q(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.j)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.j)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.w)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+He.replace(/\./g,"-")]=1,Object(o.u)()?t["framework.cordova"]=1:Object(o.x)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ue.getInstance().currentlyOnline();return Object(o.s)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Qe),Xe=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.d)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.e)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.D)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.C)(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.A)(u.responseText)}catch(e){C("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&C("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(Qe),Ze=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new De,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new se,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Ne.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Xe(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.G)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new Ye(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Ne.getOrCreateReporter(this.repoInfo_,(function(){return new Pe(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new ke,this.infoSyncTree_=new je({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new je({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=Object(o.B)(e,(function(t){return Vt(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Vt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=Object(o.B)(e,(function(t){return Vt(t)}));s=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Vt(e);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Q("/.info/"+t),r=Vt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=Vt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new zt(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+Object(o.G)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new zt(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Vt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=ne(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||C("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(R(e,(function(e,n){i=!1,s[e]=ee(t.child(e),Vt(n),r.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||C("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,i)})),R(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new se;this.onDisconnect_.forEachTree(Q.Empty,(function(r,i){var o=ee(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Q.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new se,this.eventQueue_.raiseEventsForChangedPath(Q.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Vt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Vt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.s)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&R(e,(function(e,n){var i=Vt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,Object(i.h)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&W((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!1,configurable:!0}),t}(),Je=function(){function t(e){this.indexedFilter_=new me(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new bt(e,n))||(n=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ft.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ft.EMPTY_NODE);var i=this;return e.forEachChild(Tt,(function(t,e){i.matches(new bt(t,e))||(r=r.updateImmediateChild(t,Ft.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),tn=function(){function t(t){this.rangedFilter_=new Je(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new bt(e,n))||(n=Ft.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ft.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ft.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Ft.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.e)(u.numChildren()===this.limit_,"");var c=new bt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,d)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,d));var g=u.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ve.childAddedChange(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(l.name,l.node)),i.trackChildChange(ve.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Ft.EMPTY_NODE)):t},t}(),en=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Tt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Tt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new me(this.getIndex()):this.hasLimit()?new tn(this):new Je(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Tt?e=n.PRIORITY_INDEX:this.index_===qt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(Object(o.e)(this.index_ instanceof Ht,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.G)(e),this.startSet_&&(r[n.START_AT]=Object(o.G)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.G)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.G)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.G)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),nn=function(t){function e(e,n){if(!(e instanceof Ze))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,en.DEFAULT,!1)||this}return Object(i.d)(e,t),e.prototype.getKey=function(){return Object(o.H)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.H)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Q||(null===this.path.getFront()?dt("Reference.child",1,t,!1):ht("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.H)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.H)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.H)("Reference.set",1,2,arguments.length),ft("Reference.set",this.path),ot("Reference.set",1,t,this.path,!1),Object(o.I)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.H)("Reference.update",1,2,arguments.length),ft("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("Reference.update",1,t,this.path,!1),Object(o.I)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.H)("Reference.setWithPriority",2,3,arguments.length),ft("Reference.setWithPriority",this.path),ot("Reference.setWithPriority",1,t,this.path,!1),ut("Reference.setWithPriority",2,e,!1),Object(o.I)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.H)("Reference.remove",0,1,arguments.length),ft("Reference.remove",this.path),Object(o.I)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.H)("Reference.transaction",1,3,arguments.length),ft("Reference.transaction",this.path),Object(o.I)("Reference.transaction",1,t,!1),Object(o.I)("Reference.transaction",2,e,!0),gt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new mt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.H)("Reference.setPriority",1,2,arguments.length),ft("Reference.setPriority",this.path),ut("Reference.setPriority",1,t,!1),Object(o.I)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.H)("Reference.push",0,2,arguments.length),ft("Reference.push",this.path),ot("Reference.push",1,t,this.path,!0),Object(o.I)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=yt(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return ft("Reference.onDisconnect",this.path),new vt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Qt);Qt.__referenceConstructor=nn,Se.__referenceConstructor=nn;var rn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),on=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new rn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Q?e:new Q(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,Object(o.D)(r.node_.children,i)||new rn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.e)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.i)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),sn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});Ze.MAX_TRANSACTION_RETRIES_=25,Ze.prototype.transactionsInit_=function(){this.transactionQueueTree_=new on},Ze.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new nn(this,t);s.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:p(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new zt(a.currentInputSnapshot,new nn(this,a.path),Tt);a.onComplete(null,!1,l)}}else{st("transaction failed: Data returned ",c,a.path),a.status=sn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(a),h.setValue(d);var f=void 0;"object"==typeof c&&null!==c&&Object(o.i)(c,".priority")?(f=Object(o.D)(c,".priority"),Object(o.e)(it(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||Ft.EMPTY_NODE).getPriority().val(),f=f;var g=this.generateServerValues(),v=Vt(c,f),m=ne(v,u,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,m,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},Ze.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ft.EMPTY_NODE},Ze.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===sn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Ze.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),s=i,a=i.hash(),u=0;u<e.length;u++){var c=e[u];Object(o.e)(c.status===sn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=sn.SENT,c.retryCount++;var l=Q.relativePath(t,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=sn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new nn(n,e[s].path),c=new zt(a,u,Tt);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)W(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===sn.SENT_NEEDS_ABORT?sn.NEEDS_ABORT:sn.RUN;else for(C("transaction at "+d.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=sn.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),a)},Ze.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},Ze.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===sn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],u=Q.relativePath(e,a.path),c=!1,l=void 0;if(Object(o.e)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===sn.NEEDS_ABORT)c=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===sn.RUN)if(a.retryCount>=Ze.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var d=t[s].update(h.val());if(void 0!==d){st("transaction failed: Data returned ",d,a.path);var f=Vt(d);"object"==typeof d&&null!=d&&Object(o.i)(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=a.currentWriteId,g=this.generateServerValues(),v=ne(f,h,g);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,v,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[s].status=sn.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===l){var m=new nn(this,t[s].path),y=new zt(t[s].currentInputSnapshot,m,Tt);n.push(t[s].onComplete.bind(null,null,!1,y))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)W(n[s]);this.sendReadyTransactions_()}},Ze.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Ze.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Ze.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Ze.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==sn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Ze.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Ze.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)e[s].status===sn.SENT_NEEDS_ABORT||(e[s].status===sn.SENT?(Object(o.e)(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=sn.SENT_NEEDS_ABORT,e[s].abortReason="set"):(Object(o.e)(e[s].status===sn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),s=0;s<n.length;s++)W(n[s])}};var an,un=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';C(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),cn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),ln=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return an||(an=new t),an},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.j)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.j)(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.j)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.j)(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new X(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new cn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=Z(i,r),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,a=(s=Z(i="http://"+u+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var c=r&&o?new cn:new un(t,e);return pt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||O("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,c).database},t.prototype.deleteRepo=function(t){var e=Object(o.D)(this.repos_,t.app.name);e&&Object(o.D)(e,t.key)===t||O("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.D)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.D)(r,t.toURLString());return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Ze(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.e)(this,(function(t){return this.checkDeleted_("delete"),ln.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof Ze||O("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new nn(this.repo_,Q.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?O("Cannot call useEmulator() after instance has already been initialized."):ln.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.H)("database.ref",0,1,arguments.length),t instanceof nn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.H)(e,1,1,arguments.length);var n=Z(t,this.repo_.repoInfo_.nodeAdmin);pt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||O(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&O("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.H)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.H)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),dn=Object.freeze({__proto__:null,forceLongPolling:function(){Ge.forceDisallow(),$e.forceAllow()},forceWebSockets:function(){$e.forceDisallow()},isWebSocketsAvailable:function(){return Ge.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;ze(t.version);var u=new a.c("auth-internal",new a.b("database-standalone"));return u.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:ln.getInstance().databaseFromApp(e,u,n,s),namespace:i}}}),fn=Ye;Ye.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ye.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var pn=Object.freeze({__proto__:null,DataConnection:fn,RealTimeConnection:Ke,hijackHash:function(t){var e=Ye.prototype.put;return Ye.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ye.prototype.put=e}},ConnectionTarget:X,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){ln.getInstance().forceRestClient(t)}}),gn=hn.ServerValue;!function(e){ze(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return ln.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:nn,Query:Qt,Database:hn,DataSnapshot:zt,enableLogging:b,INTERNAL:dn,ServerValue:gn,TEST_ACCESS:pn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.1"),Object(o.w)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8RMS":function(t,e,n){"use strict";n.r(e),n.d(e,"MENU_BACK_BUTTON_PRIORITY",(function(){return o})),n.d(e,"OVERLAY_BACK_BUTTON_PRIORITY",(function(){return i})),n.d(e,"startHardwareBackButton",(function(){return r}));const r=()=>{const t=document;let e=!1;t.addEventListener("backbutton",()=>{if(e)return;let n=0,r=[];const i=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(t,e){r.push({priority:t,handler:e,id:n++})}}});t.dispatchEvent(i);const o=()=>{if(r.length>0){let t={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(e=>{e.priority>=t.priority&&(t=e)}),e=!0,r=r.filter(e=>e.id!==t.id),(async t=>{try{if(t&&t.handler){const e=t.handler(o);null!=e&&await e}}catch(e){console.error(e)}})(t).then(()=>e=!1)}};o()})},i=100,o=99},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return ie})),n.d(e,"b",(function(){return si})),n.d(e,"c",(function(){return ei})),n.d(e,"d",(function(){return Jr})),n.d(e,"e",(function(){return ti})),n.d(e,"f",(function(){return oo})),n.d(e,"g",(function(){return Ui})),n.d(e,"h",(function(){return Bt})),n.d(e,"i",(function(){return gi})),n.d(e,"j",(function(){return be})),n.d(e,"k",(function(){return ci})),n.d(e,"l",(function(){return Oe})),n.d(e,"m",(function(){return X})),n.d(e,"n",(function(){return Yr})),n.d(e,"o",(function(){return k})),n.d(e,"p",(function(){return c})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return Qt})),n.d(e,"s",(function(){return qe})),n.d(e,"t",(function(){return He})),n.d(e,"u",(function(){return ui})),n.d(e,"v",(function(){return V})),n.d(e,"w",(function(){return $i})),n.d(e,"x",(function(){return U})),n.d(e,"y",(function(){return Pi})),n.d(e,"z",(function(){return bi})),n.d(e,"A",(function(){return l})),n.d(e,"B",(function(){return oi})),n.d(e,"C",(function(){return ii})),n.d(e,"D",(function(){return Ie})),n.d(e,"E",(function(){return Se})),n.d(e,"F",(function(){return Te})),n.d(e,"G",(function(){return je})),n.d(e,"H",(function(){return Ft})),n.d(e,"I",(function(){return d})),n.d(e,"J",(function(){return zi})),n.d(e,"K",(function(){return qi})),n.d(e,"L",(function(){return We})),n.d(e,"M",(function(){return Ii})),n.d(e,"N",(function(){return Ae})),n.d(e,"O",(function(){return ke})),n.d(e,"P",(function(){return Qe})),n.d(e,"Q",(function(){return z})),n.d(e,"R",(function(){return ce})),n.d(e,"S",(function(){return Di})),n.d(e,"T",(function(){return gt})),n.d(e,"U",(function(){return E})),n.d(e,"V",(function(){return pt})),n.d(e,"W",(function(){return to})),n.d(e,"X",(function(){return ki})),n.d(e,"Y",(function(){return _e})),n.d(e,"Z",(function(){return ai})),n.d(e,"ab",(function(){return Wt})),n.d(e,"bb",(function(){return Kr})),n.d(e,"cb",(function(){return Lt})),n.d(e,"db",(function(){return $t})),n.d(e,"eb",(function(){return bt})),n.d(e,"fb",(function(){return ot})),n.d(e,"gb",(function(){return so})),n.d(e,"hb",(function(){return ni})),n.d(e,"ib",(function(){return eo})),n.d(e,"jb",(function(){return no})),n.d(e,"kb",(function(){return ro})),n.d(e,"lb",(function(){return io})),n.d(e,"mb",(function(){return Qr})),n.d(e,"nb",(function(){return Ur})),n.d(e,"ob",(function(){return at})),n.d(e,"pb",(function(){return ht})),n.d(e,"qb",(function(){return ct})),n.d(e,"rb",(function(){return ut})),n.d(e,"sb",(function(){return lt})),n.d(e,"tb",(function(){return er})),n.d(e,"ub",(function(){return Ns})),n.d(e,"vb",(function(){return fn})),n.d(e,"wb",(function(){return Er})),n.d(e,"xb",(function(){return ao})),n.d(e,"yb",(function(){return zr})),n.d(e,"zb",(function(){return Zi})),n.d(e,"Ab",(function(){return Br})),n.d(e,"Bb",(function(){return Gr})),n.d(e,"Cb",(function(){return st})),n.d(e,"Db",(function(){return x})),n.d(e,"Eb",(function(){return $n})),n.d(e,"Fb",(function(){return le})),n.d(e,"Gb",(function(){return fe})),n.d(e,"Hb",(function(){return de})),n.d(e,"Ib",(function(){return ae})),n.d(e,"Jb",(function(){return Kn})),n.d(e,"Kb",(function(){return Wn})),n.d(e,"Lb",(function(){return yo})),n.d(e,"Mb",(function(){return dr})),n.d(e,"Nb",(function(){return wo})),n.d(e,"Ob",(function(){return Or})),n.d(e,"Pb",(function(){return Eo})),n.d(e,"Qb",(function(){return _o})),n.d(e,"Rb",(function(){return Cr})),n.d(e,"Sb",(function(){return fo})),n.d(e,"Tb",(function(){return Hr})),n.d(e,"Ub",(function(){return G})),n.d(e,"Vb",(function(){return _})),n.d(e,"Wb",(function(){return Co})),n.d(e,"Xb",(function(){return dn})),n.d(e,"Yb",(function(){return it})),n.d(e,"Zb",(function(){return Io})),n.d(e,"ac",(function(){return g})),n.d(e,"bc",(function(){return L}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t,e,n){return(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})()}const c=u("Inject",t=>({token:t})),l=u("Optional"),h=u("Self"),d=u("SkipSelf");var f=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function p(t){for(let e in t)if(t[e]===p)return e;throw Error("Could not find renamed property on target object.")}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return m(t,t[y])||m(t,t[b])}function m(t,e){return e&&e.token===t?e:null}const y=p({"\u0275prov":p}),b=p({ngInjectableDef:p});function _(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const w=p({__forward_ref__:p});function E(t){return t.__forward_ref__=E,t.toString=function(){return _(this())},t}function O(t){return"function"==typeof(e=t)&&e.hasOwnProperty(w)&&e.__forward_ref__===E?t():t;var e}const C="undefined"!=typeof globalThis&&globalThis,S="undefined"!=typeof window&&window,T="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,I="undefined"!=typeof global&&global,x=C||I||S||T;class j{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const k=new j("INJECTOR",-1),A={},N=/\n/gm,R=p({provide:String,useValue:p});let P=void 0;function D(t){const e=P;return P=t,e}function L(t,e=f.Default){return function(t,e=f.Default){if(void 0===P)throw new Error("inject() must be called from an injection context");return null===P?function(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&f.Optional)return null;throw new Error(`Injector: NOT_FOUND [${_(t)}]`)}(t,0,e):P.get(t,e&f.Optional?null:void 0,e)}(O(t),e)}class M{get(t,e=A){if(e===A){const e=new Error(`NullInjectorError: No provider for ${_(t)}!`);throw e.name="NullInjectorError",e}return e}}function F(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=_(e);if(Array.isArray(e))i=e.map(_).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):_(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(N,"\n  ")}`}class U{}class V{}function $(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function q(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function H(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}const z=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();let B=void 0;function G(t){B=t}const W=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(x))();function K(t){return t.ngDebugContext}function Q(t){return t.ngOriginalError}function Y(t,...e){t.error(...e)}class X{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Y}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?K(t)?K(t):this._findContext(Q(t)):null}_findOriginalError(t){let e=Q(t);for(;e&&Q(e);)e=Q(e);return e}}class Z{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class J extends Z{getTypeName(){return"HTML"}}class tt extends Z{getTypeName(){return"Style"}}class et extends Z{getTypeName(){return"Script"}}class nt extends Z{getTypeName(){return"URL"}}class rt extends Z{getTypeName(){return"ResourceURL"}}function it(t){return t instanceof Z?t.changingThisBreaksApplicationSecurity:t}function ot(t,e){const n=st(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function st(t){return t instanceof Z&&t.getTypeName()||null}function at(t){return new J(t)}function ut(t){return new tt(t)}function ct(t){return new et(t)}function lt(t){return new nt(t)}function ht(t){return new rt(t)}let dt=!0,ft=!1;function pt(){return ft=!0,dt}function gt(){if(ft)throw new Error("Cannot enable prod mode after platform setup.");dt=!1}class vt{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const mt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,yt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bt(t){return(t=String(t)).match(mt)||t.match(yt)?t:(pt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function _t(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function wt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Et=_t("area,br,col,hr,img,wbr"),Ot=_t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ct=_t("rp,rt"),St=wt(Ct,Ot),Tt=wt(Et,wt(Ot,_t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wt(Ct,_t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),St),It=_t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xt=_t("srcset"),jt=wt(It,xt,_t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kt=_t("script,style,template");class At{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Tt.hasOwnProperty(e))return this.sanitizedSomething=!0,!kt.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!jt.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;It[o]&&(s=bt(s)),xt[o]&&(r=s,s=(r=String(r)).split(",").map(t=>bt(t.trim())).join(", ")),this.buf.push(" ",e,'="',Pt(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Tt.hasOwnProperty(e)&&!Et.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Pt(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Nt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rt=/([^\#-~ |!])/g;function Pt(t){return t.replace(/&/g,"&amp;").replace(Nt,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Rt,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dt;function Lt(t,e){let n=null;try{Dt=Dt||new vt(t);let r=e?String(e):"";n=Dt.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Dt.getInertBodyElement(r)}while(r!==o);const s=new At,a=s.sanitizeChildren(Mt(n)||n);return pt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Mt(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Mt(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ft=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ut=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Vt=/^url\(([^)]+)\)$/;function $t(t){if(!(t=String(t).trim()))return"";const e=t.match(Vt);return e&&bt(e[1])===e[1]||t.match(Ut)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(pt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function qt(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(Ht,(...t)=>"-"+t[1].toLowerCase())}const Ht=/([A-Z])/g;function zt(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Bt=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Gt(),t})();const Gt=(...t)=>{},Wt=new j("Set Injector scope."),Kt=function(t,e,n){return new te(t,e,n)};let Qt=(()=>{class t{static create(t,e){return Array.isArray(t)?Kt(t,e,""):Kt(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=A,t.NULL=new M,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>L(k)}),t.__NG_ELEMENT_ID__=-1,t})();const Yt=function(t){return t},Xt=[],Zt=Yt,Jt=function(){return Array.prototype.slice.call(arguments)};class te{constructor(t,e=Qt.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Qt,{token:Qt,fn:Yt,deps:Xt,value:this,useNew:!1}),r.set(k,{token:k,fn:Yt,deps:Xt,value:this,useNew:!1}),this.scope=function t(e,n){let r=null;if(n)if(n=O(n),Array.isArray(n))for(let i=0;i<n.length;i++)r=t(e,n[i])||r;else{if("function"==typeof n)throw re("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw re("Unexpected provider",n);{let t=O(n.provide);const i=ee(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Jt)throw ne(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Jt,value:Xt});t=n,r.deps.push({token:t,options:6})}const o=e.get(t);if(o&&o.fn==Jt)throw ne(t);t===Wt&&(r=i.value),e.set(t,i)}}return r}(r,t)}get(t,e,n=f.Default){const r=this._records;let i=r.get(t);if(void 0===i){const e=v(t);if(e){const n=e&&e.providedIn;("any"===n||null!=n&&n===this.scope)&&r.set(t,i=ee({provide:t,useFactory:e.factory,deps:Xt}))}void 0===i&&r.set(t,null)}let o=D(this);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let a;if(!n||s&f.SkipSelf)a=s&f.Self?Qt.NULL.get(e,s&f.Optional?void 0!==o?o:null:o):i.get(e,o,f.Default);else{if(a=n.value,a==Zt)throw Error("\u0275Circular dependency");if(a===Xt){n.value=Zt;let e=void 0,o=n.useNew,s=n.fn,u=n.deps,c=Xt;if(u.length){c=[];for(let e=0;e<u.length;e++){const n=u[e],o=n.options,s=2&o?r.get(n.token):void 0;c.push(t(n.token,s,r,s||4&o?i:Qt.NULL,1&o?null:Qt.THROW_IF_NOT_FOUND,f.Default))}}n.value=a=o?new s(...c):s.apply(e,c)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Zt&&(n.value=Xt),a}}(t,i,r,this.parent,e,n)}catch(s){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=F("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}finally{D(o)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(_(n))),`StaticInjector[${t.join(", ")}]`}}function ee(t){const e=function(t){let e=Xt;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=O(n[t]);if(Array.isArray(i))for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof l||n==l?r|=1:n instanceof d||n==d?r&=-3:n instanceof h||n==h?r&=-5:i=n instanceof c?n.token:O(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:O(t.useExisting),options:6}];else if(!n&&!(R in t))throw re("'deps' required",t);return e}(t);let n=Yt,r=Xt,i=!1,o=O(t.provide);if(R in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=O(t.useClass);else{if("function"!=typeof o)throw re("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}function ne(t){return re("Cannot mix multi providers and regular providers",t)}function re(t,e){return new Error(F(t,e,"StaticInjectorError"))}const ie=new j("AnalyzeForEntryComponents");let oe=null;function se(){if(!oe){const t=x.Symbol;if(t&&t.iterator)oe=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(oe=n)}}}return oe}function ae(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function ue(t,e){const n=le(t),r=le(e);if(n&&r)return function(t,e,n){const r=t[se()](),i=e[se()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,ue);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||ae(t,e)}}class ce{constructor(t){this.wrapped=t}static wrap(t){return new ce(t)}static unwrap(t){return ce.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ce}}function le(t){return!!he(t)&&(Array.isArray(t)||!(t instanceof Map)&&se()in t)}function he(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function de(t){return!!t&&"function"==typeof t.then}function fe(t){return!!t&&"function"==typeof t.subscribe}class pe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class ge{}function ve(t){const e=Error(`No component factory found for ${_(t)}. Did you add it to @NgModule.entryComponents?`);return e[me]=t,e}const me="ngComponent";class ye{resolveComponentFactory(t){throw ve(t)}}let be=(()=>{class t{}return t.NULL=new ye,t})();class _e{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw ve(t);return new we(e,this._ngModule)}}class we extends ge{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Ee(...t){}let Oe=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ce(t),t})();const Ce=Ee;class Se{}const Te=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Ie=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xe(),t})();const xe=Ee;let je=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class ke{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ae=new ke("9.1.12");class Ne{constructor(){}supports(t){return le(t)}create(t){return new Pe(t)}}const Re=(t,e)=>e;class Pe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Re}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Fe(n,r,i)?e:n,s=Fe(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!le(t))throw new Error(`Error trying to diff '${_(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&ae(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),ae(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[se()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&ae(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),ae(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(ae(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ae(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new De(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Me),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Me),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class De{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Le{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&ae(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Me{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Le,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fe(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ue{constructor(){}supports(t){return t instanceof Map||he(t)}create(){return new Ve}}class Ve{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||he(t)))throw new Error(`Error trying to diff '${_(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new $e(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){ae(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class $e{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let qe=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new l]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new Ne])}),t})(),He=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new l]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new Ue])}),t})();const ze=[new Ue],Be=new qe([new Ne]),Ge=new He(ze);let We=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ke(t,Oe),t})();const Ke=Ee;let Qe=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ye(t,Oe),t})();const Ye=Ee;function Xe(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Ze(n,e),n}(i,t)}function Ze(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Je(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function tn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function en(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function nn(t,e){return t.nodes[e]}function rn(t,e){return t.nodes[e]}function on(t,e){return t.nodes[e]}function sn(t,e){return t.nodes[e]}function an(t,e){return t.nodes[e]}const un={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},cn=()=>{},ln=new Map;function hn(t){let e=ln.get(t);return e||(e=_(t)+"_"+ln.size,ln.set(t,e)),e}function dn(t,e,n,r){if(ce.isWrapped(r)){r=ce.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=ce.unwrap(t.oldValues[i]);t.oldValues[i]=new ce(o)}return r}function fn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let pn=0;function gn(t,e,n,r){return!(!(2&t.state)&&ae(t.oldValues[e.bindingIndex+n],r))}function vn(t,e,n,r){return!!gn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function mn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!ue(i,r)){const o=e.bindings[n].name;throw Xe(un.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function yn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function bn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function _n(t,e,n,r){try{return yn(33554432&t.def.nodes[e].flags?rn(t,e).componentView:t),un.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function wn(t){return t.parent?rn(t.parent,t.parentNodeDef.nodeIndex):null}function En(t){return t.parent?t.parentNodeDef.parent:null}function On(t,e){switch(201347067&e.flags){case 1:return rn(t,e.nodeIndex).renderElement;case 2:return nn(t,e.nodeIndex).renderText}}function Cn(t,e){return t?`${t}:${e}`:e}function Sn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Tn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function In(t){return 1<<t%32}function xn(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=In(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function jn(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:hn(n)}})}function kn(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===z.Native?rn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const An=new WeakMap;function Nn(t){let e=An.get(t);return e||(e=t(()=>cn),e.factory=t,An.set(t,e)),e}function Rn(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(On(t,t.def.lastRenderRootNode))),Pn(t,e,0,t.def.nodes.length-1,n,r,i)}function Pn(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Ln(t,n,e,i,o,s),a+=n.childCount}}function Dn(t,e,n,r,i,o){let s=t;for(;s&&!Sn(s);)s=s.parent;const a=s.parent,u=En(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const t=a.def.nodes[l];t.ngContentIndex===e&&Ln(a,t,n,r,i,o),l+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Mn(t,s[e],n,r,i,o)}}function Ln(t,e,n,r,i,o){if(8&e.flags)Dn(t,e.ngContent.index,n,r,i,o);else{const s=On(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Mn(t,s,n,r,i,o),32&e.bindingFlags&&Mn(rn(t,e.nodeIndex).componentView,s,n,r,i,o)):Mn(t,s,n,r,i,o),16777216&e.flags){const s=rn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Rn(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Pn(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Mn(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Fn=/^:([^:]+):(.+)$/;function Un(t){if(":"===t[0]){const e=t.match(Fn);return[e[1],e[2]]}return["",t]}function Vn(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function $n(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,g,v,m,y,b){switch(t){case 1:return e+qn(n)+r;case 2:return e+qn(n)+r+qn(i)+o;case 3:return e+qn(n)+r+qn(i)+o+qn(s)+a;case 4:return e+qn(n)+r+qn(i)+o+qn(s)+a+qn(u)+c;case 5:return e+qn(n)+r+qn(i)+o+qn(s)+a+qn(u)+c+qn(l)+h;case 6:return e+qn(n)+r+qn(i)+o+qn(s)+a+qn(u)+c+qn(l)+h+qn(d)+f;case 7:return e+qn(n)+r+qn(i)+o+qn(s)+a+qn(u)+c+qn(l)+h+qn(d)+f+qn(p)+g;case 8:return e+qn(n)+r+qn(i)+o+qn(s)+a+qn(u)+c+qn(l)+h+qn(d)+f+qn(p)+g+qn(v)+m;case 9:return e+qn(n)+r+qn(i)+o+qn(s)+a+qn(u)+c+qn(l)+h+qn(d)+f+qn(p)+g+qn(v)+m+qn(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function qn(t){return null!=t?t.toString():""}const Hn={},zn=hn(Qt),Bn=hn(k),Gn=hn(U);function Wn(t,e,n,r){return n=O(n),{index:-1,deps:jn(r,_(e)),flags:t,token:e,value:n}}function Kn(t){const e={},n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];o.token===Wt&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,e[hn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,scope:r}}function Qn(t,e,n=Qt.THROW_IF_NOT_FOUND){const r=D(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case zn:case Bn:case Gn:return t}const o=t._def.providersByKey[i];let s;if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=Yn(t,o)),e===Hn?void 0:e}if((s=v(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,s)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:n,token:e.token},t._providers[n]=Hn,t._providers[n]=Yn(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{D(r)}}function Yn(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Qn(t,n[0]));case 2:return new e(Qn(t,n[0]),Qn(t,n[1]));case 3:return new e(Qn(t,n[0]),Qn(t,n[1]),Qn(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=Qn(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Qn(t,n[0]));case 2:return e(Qn(t,n[0]),Qn(t,n[1]));case 3:return e(Qn(t,n[0]),Qn(t,n[1]),Qn(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=Qn(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Qn(t,e.deps[0]);break;case 256:n=e.value}return n===Hn||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Hn:n}function Xn(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,q(n,e),un.dirtyParentQueries(r),Jn(r),r}function Zn(t,e,n){const r=e?On(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Rn(n,2,i,o,void 0)}function Jn(t){Rn(t,3,null,null,void 0)}const tr={};function er(t,e,n,r,i,o){return new nr(t,e,n,r,i,o)}class nr extends ge{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Nn(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=un.createRootView(t,e||[],n,i,r,tr),a=on(s,o).instance;return n&&s.renderer.setAttribute(rn(s,0).renderElement,"ng-version",Ae.full),new rr(s,new ar(s),a)}}class rr extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Oe(rn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new hr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ir(t,e,n){return new or(t,e,n)}class or{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Oe(this._data.renderElement)}get injector(){return new hr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=En(t),t=t.parent;return t?new hr(t,e):new hr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Xn(this._data,t);un.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new ar(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof we||(i=o.get(U));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,$(i,n,r),function(t,e){const n=wn(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),un.dirtyParentQueries(r),Zn(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];q(r,e),null==n&&(n=r.length),$(r,n,i),un.dirtyParentQueries(i),Jn(i),Zn(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Xn(this._data,t);e&&un.destroyView(e)}detach(t){const e=Xn(this._data,t);return e?new ar(e):null}}function sr(t){return new ar(t)}class ar{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Rn(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){yn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{un.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){un.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),un.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Jn(this._view),un.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ur(t,e){return new cr(t,e)}class cr extends We{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new ar(un.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Oe(rn(this._parentView,this._def.nodeIndex).renderElement)}}function lr(t,e){return new hr(t,e)}class hr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Qt.THROW_IF_NOT_FOUND){return un.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:hn(t)},e)}}function dr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=rn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return nn(t,n.nodeIndex).renderText;if(20240&n.flags)return on(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function fr(t,e,n,r){return new pr(t,e,n,r)}class pr{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=H(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Yn(t,i))}}(this)}get(t,e=Qt.THROW_IF_NOT_FOUND,n=f.Default){let r=0;return n&f.SkipSelf?r|=1:n&f.Self&&(r|=4),Qn(this,{token:t,tokenKey:hn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(be)}destroy(){if(this._destroyed)throw new Error(`The ng module ${_(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Hn){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const gr=hn(Ie),vr=hn(Oe),mr=hn(Qe),yr=hn(We),br=hn(Bt),_r=hn(Qt),wr=hn(k);function Er(t,e,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[t,e]=s[l];u[t]={flags:8,name:l,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return Sr(t,e|=16384,n,r,i,i,o,u,c)}function Or(t,e,n){return Sr(-1,t|=16,null,0,e,e,n)}function Cr(t,e,n,r,i){return Sr(-1,t,e,0,n,r,i)}function Sr(t,e,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=xn(n);u||(u=[]),a||(a=[]),o=O(o);const d=jn(s,_(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Vn(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Tr(t,e){return kr(t,e)}function Ir(t,e){let n=t;for(;n.parent&&!Sn(n);)n=n.parent;return Ar(n.parent,En(n),!0,e.provider.value,e.provider.deps)}function xr(t,e){const n=Ar(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!fe(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(jr(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function jr(t,e,n){return r=>_n(t,e,n,r)}function kr(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Ar(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Rr(t,e,n,i[0]));case 2:return r(Rr(t,e,n,i[0]),Rr(t,e,n,i[1]));case 3:return r(Rr(t,e,n,i[0]),Rr(t,e,n,i[1]),Rr(t,e,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Rr(t,e,n,i[r]));return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return Rr(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Ar(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Rr(t,e,n,i[0]));case 2:return new r(Rr(t,e,n,i[0]),Rr(t,e,n,i[1]));case 3:return new r(Rr(t,e,n,i[0]),Rr(t,e,n,i[1]),Rr(t,e,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Rr(t,e,n,i[r]));return new r(...s)}}const Nr={};function Rr(t,e,n,r,i=Qt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===br&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case gr:return Pr(a,e,n).renderer;case vr:return new Oe(rn(a,e.nodeIndex).renderElement);case mr:return rn(a,e.nodeIndex).viewContainer;case yr:if(e.element.template)return rn(a,e.nodeIndex).template;break;case br:return sr(Pr(a,e,n));case _r:case wr:return lr(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=on(a,t.nodeIndex);return e||(e={instance:kr(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Sn(a),e=En(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,Nr);return u!==Nr||i===Nr?u:o.root.ngModule.injector.get(r.token,i)}function Pr(t,e,n){let r;if(n)r=rn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Sn(r);)r=r.parent;return r}function Dr(t,e,n,r,i,o){if(32768&n.flags){const e=rn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=ce.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new pe(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Lr(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Fr(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Mr(t,s,e,r)),s=s.parent}}function Mr(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Fr(t,i,e.flags&n,r++),i+=e.childCount}return r}function Fr(t,e,n,r){const i=on(t,e);if(!i)return;const o=i.instance;o&&(un.setCurrentNode(t,e),1048576&n&&en(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&en(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Ur=new j("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>W}),Vr=void 0;var $r=["en",[["a","p"],["AM","PM"],Vr],[["AM","PM"],Vr,Vr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vr,"{1} 'at' {0}",Vr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let qr={};function Hr(t,e,n){"string"!=typeof e&&(n=e,e=t[Kr.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),qr[e]=t,n&&(qr[e][Kr.ExtraData]=n)}function zr(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Wr(e);if(n)return n;const r=e.split("-")[0];if(n=Wr(r),n)return n;if("en"===r)return $r;throw new Error(`Missing locale data for the locale "${t}".`)}function Br(t){return zr(t)[Kr.CurrencyCode]||null}function Gr(t){return zr(t)[Kr.PluralCase]}function Wr(t){return t in qr||(qr[t]=x.ng&&x.ng.common&&x.ng.common.locales&&x.ng.common.locales[t]),qr[t]}const Kr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Qr="USD";class Yr extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function Xr(){return this._results[se()]()}class Zr{constructor(){this.dirty=!0,this._results=[],this.changes=new Yr,this.length=0;const t=se(),e=Zr.prototype;e[t]||(e[t]=Xr)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Jr=new j("Application Initializer");class ti{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();de(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const ei=new j("AppId");function ni(){return`${ri()}${ri()}${ri()}`}function ri(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ii=new j("Platform Initializer"),oi=new j("Platform ID"),si=new j("appBootstrapListener");class ai{log(t){console.log(t)}warn(t){console.warn(t)}}const ui=new j("LocaleId"),ci=new j("DefaultCurrencyCode");function li(){throw new Error("Runtime compiler is not loaded")}const hi=li,di=li,fi=li,pi=li;class gi{constructor(){this.compileModuleSync=hi,this.compileModuleAsync=di,this.compileModuleAndAllComponentsSync=fi,this.compileModuleAndAllComponentsAsync=pi}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class vi{}const mi=(()=>Promise.resolve(0))();function yi(t){"undefined"==typeof Zone?mi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class bi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yr(!1),this.onMicrotaskEmpty=new Yr(!1),this.onStable=new Yr(!1),this.onError=new Yr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=x.requestAnimationFrame,e=x.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(x,()=>{t.lastRequestAnimationFrameId=-1,Oi(t),Ei(t)}),Oi(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ci(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Si(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Ci(t),e.invoke(r,i,o,s,a)}finally{Si(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Oi(t),Ei(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,wi,_i,_i);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function _i(){}const wi={};function Ei(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Oi(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ci(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Si(t){t._nesting--,Ei(t)}class Ti{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yr,this.onMicrotaskEmpty=new Yr,this.onStable=new Yr,this.onError=new Yr}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}class Ii{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bi.assertNotInAngularZone(),yi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class xi{constructor(){this._applications=new Map,Ni.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ni.findTestabilityInTree(this,t,e)}}class ji{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ki(t){Ni=t}let Ai,Ni=new ji;const Ri=new j("AllowMultipleToken");class Pi{constructor(t,e){this.name=t,this.token=e}}function Di(t,e,n=[]){const r="Platform: "+e,i=new j(r);return(e=[])=>{let o=Li();if(!o||o.injector.get(Ri,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Wt,useValue:"platform"});!function(t){if(Ai&&!Ai.destroyed&&!Ai.injector.get(Ri,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ai=t.get(Mi);const e=t.get(ii,null);e&&e.forEach(t=>t())}(Qt.create({providers:t,name:r}))}return function(t){const e=Li();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Li(){return Ai&&!Ai.destroyed?Ai:null}class Mi{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ti:("zone.js"===t?void 0:t)||new bi({enableLongStackTrace:pt(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:bi,useValue:n}];return n.run(()=>{const e=Qt.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(X,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Vi(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return de(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ti);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Fi({},e);return function(t,e,n){return t.get(vi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ui);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${_(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Fi(t,e){return Array.isArray(e)?e.reduce(Fi,t):Object.assign(Object.assign({},t),e)}class Ui{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=pt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{bi.assertNotInAngularZone(),yi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ge?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof we?void 0:this._injector.get(U),i=n.create(Qt.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Ii,null);return o&&i.injector.get(xi).registerApplication(i.location.nativeElement,o),this._loadComponent(i),pt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Vi(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(si,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Vi(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function Vi(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $i{}class qi{}const Hi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class zi{constructor(t,e){this._compiler=t,this._config=e||Hi}load(t){return this._compiler instanceof gi?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Bi(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Bi(t,e,r))}}function Bi(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Gi{constructor(t,e){this.name=t,this.callback=e}}class Wi{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Ki&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ki extends Wi{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Ki&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Ki&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Ki&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Ki)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Qi=new Map;function Yi(t){return Qi.get(t)||null}const Xi=Yi,Zi=function(t){return Yi(t)};function Ji(t){Qi.set(t.nativeNode,t)}const to=Di(null,"core",[{provide:oi,useValue:"unknown"},{provide:Mi,deps:[Qt]},{provide:xi,deps:[]},{provide:ai,deps:[]}]);function eo(){return Be}function no(){return Ge}function ro(t){return t||"en-US"}function io(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class oo{constructor(t){}}function so(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=xn(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Nn(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||cn},provider:null,text:null,query:null,ngContent:null}}function ao(t,e,n,r,i,o,s=[],a,u,c,l,h){c||(c=cn);const{matchedQueries:d,references:f,matchedQueryIds:p}=xn(n);let g=null,v=null;o&&([g,v]=Un(o)),a=a||[];const m=[];for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=Un(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}m[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const y=[];for(let _=0;_<u.length;_++){const[t,e]=u[_];y[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=Un(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==z.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+pn++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),l&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:m,bindingFlags:Vn(m),outputs:y,element:{ns:g,name:v,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||cn},provider:null,text:null,query:null,ngContent:null}}function uo(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=kn(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===z.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function co(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],s=lo(t,n.nodeIndex,Cn(o.target,o.eventName));let a=o.target,u=t;"component"===o.target&&(a=null,u=e);const c=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=c}}function lo(t,e,n){return r=>_n(t,e,n,r)}function ho(t,e,n,r){if(!vn(t,e,n,r))return!1;const i=e.bindings[n],o=rn(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Ft.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function fo(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:In(e),bindings:r},ngContent:null}}function po(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Tn(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&an(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&an(t,n).setDirty(),n+=e.childCount}}function go(t,e){const n=an(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=vo(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=on(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=vo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function vo(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(mo(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=rn(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(vo(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=wn(o);s&&s===n&&vo(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];vo(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function mo(t,e,n){if(null!=n)switch(n){case 1:return rn(t,e.nodeIndex).renderElement;case 0:return new Oe(rn(t,e.nodeIndex).renderElement);case 2:return rn(t,e.nodeIndex).template;case 3:return rn(t,e.nodeIndex).viewContainer;case 4:return on(t,e.nodeIndex).instance}}function yo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function bo(t,e,n){const r=kn(t,e,n);r&&Dn(t,n.ngContent.index,1,r,null,void 0)}function _o(t,e){return Oo(128,t,H(e+1))}function wo(t,e){return Oo(32,t,H(e))}function Eo(t,e){const n=Object.keys(e),r=n.length,i=[];for(let o=0;o<r;o++)i.push(n[o]);return Oo(64,t,i)}function Oo(t,e,n){const r=[];for(let i=0;i<n.length;i++){const t=n[i];r.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Vn(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Co(t,e,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function So(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=kn(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function To(t,e){return(null!=t?t.toString():"")+e.suffix}function Io(t,e,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=c,t.bindingIndex=i,t.outputIndex=o,t.renderParent=l,s|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(jo(c,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!l&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?c.element.publicProviders[hn(t.provider.token)]=t:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[hn(t.provider.token)]=t),e&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,xo(t)||(l=t);else for(;c&&p===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),c=t,l=c&&xo(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||cn,updateRenderer:r||cn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function xo(t){return 0!=(1&t.flags)&&null===t.element.name}function jo(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function ko(t,e,n,r){const i=Ro(t.root,t.renderer,t,e,n);return Po(i,t.component,r),Do(i),i}function Ao(t,e,n){const r=Ro(t,t.renderer,null,null,e);return Po(r,n,n),Do(r),r}function No(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ro(t.root,o,t,e.element.componentProvider,n)}function Ro(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Po(t,e,n){t.component=e,t.context=n}function Do(t){let e;Sn(t)&&(e=rn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(un.setCurrentNode(t,i),201347067&o.flags){case 1:const n=uo(t,e,o);let a=void 0;if(33554432&o.flags){const e=Nn(o.element.componentView);a=un.createComponentView(t,o,e,n)}co(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?ur(t,o):void 0},16777216&o.flags&&(s.viewContainer=ir(t,o,s));break;case 2:s=So(t,e,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:Tr(t,o)});break;case 16:s={instance:Ir(t,o)};break;case 16384:s=r[i],s||(s={instance:xr(t,o)}),32768&o.flags&&Po(rn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Zr;break;case 8:bo(t,e,o),s=void 0}r[i]=s}zo(t,Ho.CreateViewNodes),Ko(t,201326592,268435456,0)}function Lo(t){Uo(t),un.updateDirectives(t,1),Bo(t,Ho.CheckNoChanges),un.updateRenderer(t,1),zo(t,Ho.CheckNoChanges),t.state&=-97}function Mo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,tn(t,0,256),Uo(t),un.updateDirectives(t,0),Bo(t,Ho.CheckAndUpdate),Ko(t,67108864,536870912,0);let e=tn(t,256,512);Lr(t,2097152|(e?1048576:0)),un.updateRenderer(t,0),zo(t,Ho.CheckAndUpdate),Ko(t,134217728,536870912,0),e=tn(t,512,768),Lr(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,tn(t,768,1024)}function Fo(t,e,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings.length;let f=!1;return d>0&&ho(t,e,0,n)&&(f=!0),d>1&&ho(t,e,1,r)&&(f=!0),d>2&&ho(t,e,2,i)&&(f=!0),d>3&&ho(t,e,3,o)&&(f=!0),d>4&&ho(t,e,4,s)&&(f=!0),d>5&&ho(t,e,5,a)&&(f=!0),d>6&&ho(t,e,6,u)&&(f=!0),d>7&&ho(t,e,7,c)&&(f=!0),d>8&&ho(t,e,8,l)&&(f=!0),d>9&&ho(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,s,a,u,c,l,h);case 2:return function(t,e,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&vn(t,e,0,n)&&(d=!0),p>1&&vn(t,e,1,r)&&(d=!0),p>2&&vn(t,e,2,i)&&(d=!0),p>3&&vn(t,e,3,o)&&(d=!0),p>4&&vn(t,e,4,s)&&(d=!0),p>5&&vn(t,e,5,a)&&(d=!0),p>6&&vn(t,e,6,u)&&(d=!0),p>7&&vn(t,e,7,c)&&(d=!0),p>8&&vn(t,e,8,l)&&(d=!0),p>9&&vn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=To(n,f[0])),p>1&&(d+=To(r,f[1])),p>2&&(d+=To(i,f[2])),p>3&&(d+=To(o,f[3])),p>4&&(d+=To(s,f[4])),p>5&&(d+=To(a,f[5])),p>6&&(d+=To(u,f[6])),p>7&&(d+=To(c,f[7])),p>8&&(d+=To(l,f[8])),p>9&&(d+=To(h,f[9]));const g=nn(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,a,u,c,l,h);case 16384:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=on(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const v=e.bindings.length;return v>0&&gn(t,e,0,n)&&(p=!0,g=Dr(t,d,e,0,n,g)),v>1&&gn(t,e,1,r)&&(p=!0,g=Dr(t,d,e,1,r,g)),v>2&&gn(t,e,2,i)&&(p=!0,g=Dr(t,d,e,2,i,g)),v>3&&gn(t,e,3,o)&&(p=!0,g=Dr(t,d,e,3,o,g)),v>4&&gn(t,e,4,s)&&(p=!0,g=Dr(t,d,e,4,s,g)),v>5&&gn(t,e,5,a)&&(p=!0,g=Dr(t,d,e,5,a,g)),v>6&&gn(t,e,6,u)&&(p=!0,g=Dr(t,d,e,6,u,g)),v>7&&gn(t,e,7,c)&&(p=!0,g=Dr(t,d,e,7,c,g)),v>8&&gn(t,e,8,l)&&(p=!0,g=Dr(t,d,e,8,l,g)),v>9&&gn(t,e,9,h)&&(p=!0,g=Dr(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&en(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&vn(t,e,0,n)&&(f=!0),p>1&&vn(t,e,1,r)&&(f=!0),p>2&&vn(t,e,2,i)&&(f=!0),p>3&&vn(t,e,3,o)&&(f=!0),p>4&&vn(t,e,4,s)&&(f=!0),p>5&&vn(t,e,5,a)&&(f=!0),p>6&&vn(t,e,6,u)&&(f=!0),p>7&&vn(t,e,7,c)&&(f=!0),p>8&&vn(t,e,8,l)&&(f=!0),p>9&&vn(t,e,9,h)&&(f=!0),f){const f=sn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=[],p>0&&g.push(n),p>1&&g.push(r),p>2&&g.push(i),p>3&&g.push(o),p>4&&g.push(s),p>5&&g.push(a),p>6&&g.push(u),p>7&&g.push(c),p>8&&g.push(l),p>9&&g.push(h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=u),p>7&&(g[d[7].name]=c),p>8&&(g[d[8].name]=l),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,u);break;case 8:g=t.transform(r,i,o,s,a,u,c);break;case 9:g=t.transform(r,i,o,s,a,u,c,l);break;case 10:g=t.transform(r,i,o,s,a,u,c,l,h)}}f.value=g}return f}(t,e,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,c,l,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)ho(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)vn(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=To(n[t],r[t]);i=e.text.prefix+i;const o=nn(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=on(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)gn(t,e,a,n[a])&&(o=!0,s=Dr(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&en(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)vn(t,e,o,n[o])&&(i=!0);if(i){const i=sn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Uo(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=rn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,bn(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Vo(t,e,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){const d=e.bindings.length;d>0&&mn(t,e,0,n),d>1&&mn(t,e,1,r),d>2&&mn(t,e,2,i),d>3&&mn(t,e,3,o),d>4&&mn(t,e,4,s),d>5&&mn(t,e,5,a),d>6&&mn(t,e,6,u),d>7&&mn(t,e,7,c),d>8&&mn(t,e,8,l),d>9&&mn(t,e,9,h)}(t,e,r,i,o,s,a,u,c,l,h,d):function(t,e,n){for(let r=0;r<n.length;r++)mn(t,e,r,n[r])}(t,e,r),!1}function $o(t,e){if(an(t,e.nodeIndex).dirty)throw Xe(un.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function qo(t){if(!(128&t.state)){if(Bo(t,Ho.Destroy),zo(t,Ho.Destroy),Lr(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=wn(t);if(e){const n=e.template._projectedViews;n&&(q(n,n.indexOf(t)),un.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(rn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(nn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&an(t,n).destroy()}}(t),Sn(t)&&t.renderer.destroy(),t.state|=128}}const Ho=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function zo(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Go(rn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Bo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=rn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Go(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Go(t,e){const n=t.state;switch(e){case Ho.CheckNoChanges:0==(128&n)&&(12==(12&n)?Lo(t):64&n&&Wo(t,Ho.CheckNoChangesProjectedViews));break;case Ho.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Lo(t):64&n&&Wo(t,e));break;case Ho.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Mo(t):64&n&&Wo(t,Ho.CheckAndUpdateProjectedViews));break;case Ho.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Mo(t):64&n&&Wo(t,e));break;case Ho.Destroy:qo(t);break;case Ho.CreateViewNodes:Do(t)}}function Wo(t,e){Bo(t,e),zo(t,e)}function Ko(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(un.setCurrentNode(t,i.nodeIndex),r){case 0:go(t,i);break;case 1:$o(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Qo=!1;function Yo(t,e,n,r,i,o){const s=i.injector.get(Se);return Ao(Zo(t,i,s,e,n),r,o)}function Xo(t,e,n,r,i,o){const s=i.injector.get(Se),a=Zo(t,i,new ks(s),e,n),u=us(r);return xs(ps.create,Ao,null,[a,u,o])}function Zo(t,e,n,r,i){const o=e.injector.get(je),s=e.injector.get(X),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Jo(t,e,n,r){const i=us(n);return xs(ps.create,ko,null,[t,e,i,r])}function ts(t,e,n,r){return n=is.get(e.element.componentProvider.provider.token)||us(n),xs(ps.create,No,null,[t,e,n,r])}function es(t,e,n,r){return fr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===ns.size||(t.providers.forEach(t=>{const r=ns.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{rs.forEach((r,i)=>{v(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=ns.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=jn(i.deps),r.value=i.value)}if(rs.size>0){let e=new Set(t.modules);rs.forEach((r,i)=>{if(e.has(v(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:jn(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[hn(i)]=e}})}}(t=t.factory(()=>cn)),t):t}(r))}const ns=new Map,rs=new Map,is=new Map;function os(t){let e;ns.set(t.token,t),"function"==typeof t.token&&(e=v(t.token))&&"function"==typeof e.providedIn&&rs.set(t.token,t)}function ss(t,e){const n=Nn(e.viewDefFactory),r=Nn(n.nodes[0].element.componentView);is.set(t,r)}function as(){ns.clear(),rs.clear(),is.clear()}function us(t){if(0===ns.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ns.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>cn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=ns.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=jn(n.deps),t.value=n.value)}}}}function cs(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=t.def.nodes[e];return Fo(t,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?sn(t,e).value:void 0}function ls(t,e,n,r,i,o,s,a,u,c,l,h,d){const f=t.def.nodes[e];return Vo(t,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?sn(t,e).value:void 0}function hs(t){return xs(ps.detectChanges,Mo,null,[t])}function ds(t){return xs(ps.checkNoChanges,Lo,null,[t])}function fs(t){return xs(ps.destroy,qo,null,[t])}const ps=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let gs,vs,ms;function ys(t,e){vs=t,ms=e}function bs(t,e,n,r){return ys(t,e),xs(ps.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function _s(t,e){if(128&t.state)throw Je(ps[gs]);return ys(t,Cs(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Es(t,o,r,i):Os(t,o,r,i),16384&o.flags&&ys(t,Cs(t,n)),224&o.flags?sn(t,o.nodeIndex).value:void 0}),t)}function ws(t,e){if(128&t.state)throw Je(ps[gs]);return ys(t,Ss(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Es(t,o,r,i):Os(t,o,r,i),3&o.flags&&ys(t,Ss(t,n)),224&o.flags?sn(t,o.nodeIndex).value:void 0}),t)}function Es(t,e,n,r){if(Fo(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=i[t];8&r.flags&&(n[qt(r.nonMinifiedName)]=zt(o))}const r=e.parent,o=rn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,"bindings="+JSON.stringify(n,null,2))}}}function Os(t,e,n,r){Vo(t,e,n,...r)}function Cs(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ss(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Ts{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=En(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return rn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return lr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Is(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Is(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Sn(t);)t=t.parent;return t.parent?rn(t.parent,En(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?On(this.view,this.nodeDef):On(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):cn)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Is(t,e,n){for(let r in e.references)n[r]=mo(t,e,e.references[r])}function xs(t,e,n,r){const i=gs,o=vs,s=ms;try{gs=t;const a=e.apply(n,r);return vs=o,ms=s,gs=i,a}catch(a){if(K(a)||!vs)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Ze(t,e),t}(a,js())}}function js(){return vs?new Ts(vs,ms):null}class ks{constructor(t){this.delegate=t}createRenderer(t,e){return new As(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class As{constructor(t){this.delegate=t,this.debugContextFactory=js,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Xi(t);!function(t){Qi.delete(t.nativeNode)}(e),e instanceof Wi&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Ki(n,null,r);e.name=t,Ji(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Ji(new Wi(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Ji(new Wi(e,null,n)),e}appendChild(t,e){const n=Xi(t),r=Xi(e);n&&r&&n instanceof Ki&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Xi(t),i=Xi(e),o=Xi(n);r&&i&&r instanceof Ki&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Xi(t),r=Xi(e);n&&r&&n instanceof Ki&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=js();return r&&Ji(new Ki(n,null,r)),n}setAttribute(t,e,n,r){const i=Xi(t);i&&i instanceof Ki&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Xi(t);r&&r instanceof Ki&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Xi(t);n&&n instanceof Ki&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Xi(t);n&&n instanceof Ki&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Xi(t);i&&i instanceof Ki&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Xi(t);r&&r instanceof Ki&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Xi(t);r&&r instanceof Ki&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Xi(t);r&&r.listeners.push(new Gi(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Ns(t,e,n){return new Rs(t,e,n)}class Rs extends V{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Qo)return;Qo=!0;const t=pt()?{setCurrentNode:ys,createRootView:Xo,createEmbeddedView:Jo,createComponentView:ts,createNgModuleRef:es,overrideProvider:os,overrideComponentView:ss,clearOverrides:as,checkAndUpdateView:hs,checkNoChangesView:ds,destroyView:fs,createDebugContext:(t,e)=>new Ts(t,e),handleEvent:bs,updateDirectives:_s,updateRenderer:ws}:{setCurrentNode:()=>{},createRootView:Yo,createEmbeddedView:ko,createComponentView:No,createNgModuleRef:fr,overrideProvider:cn,overrideComponentView:cn,clearOverrides:cn,checkAndUpdateView:Mo,checkNoChangesView:Lo,destroyView:qo,createDebugContext:(t,e)=>new Ts(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?cs:ls,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?cs:ls,t)};un.setCurrentNode=t.setCurrentNode,un.createRootView=t.createRootView,un.createEmbeddedView=t.createEmbeddedView,un.createComponentView=t.createComponentView,un.createNgModuleRef=t.createNgModuleRef,un.overrideProvider=t.overrideProvider,un.overrideComponentView=t.overrideComponentView,un.clearOverrides=t.clearOverrides,un.checkAndUpdateView=t.checkAndUpdateView,un.checkNoChangesView=t.checkNoChangesView,un.destroyView=t.destroyView,un.resolveDep=Rr,un.createDebugContext=t.createDebugContext,un.handleEvent=t.handleEvent,un.updateDirectives=t.updateDirectives,un.updateRenderer=t.updateRenderer,un.dirtyParentQueries=po}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:r}}(Nn(this._ngModuleDefFactory));return un.createNgModuleRef(this.moduleType,t||Qt.NULL,this._bootstrapComponents,e)}}},"9B/o":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,i=n("HDdC"),o=n("a3Cf"),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(){function t(t,e,n){try{n&&"string"!=typeof n&&(n=Object.keys(n).map((function(t){return t+"="+n[t]})).join(",")),this._objectInstance=cordova.InAppBrowser.open(t,e,n)}catch(r){window.open(t,e),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return t.prototype.show=function(){return Object(o.cordovaInstance)(this,"show",{sync:!0},arguments)},t.prototype.close=function(){return Object(o.cordovaInstance)(this,"close",{sync:!0},arguments)},t.prototype.hide=function(){return Object(o.cordovaInstance)(this,"hide",{sync:!0},arguments)},t.prototype.executeScript=function(t){return Object(o.cordovaInstance)(this,"executeScript",{},arguments)},t.prototype.insertCSS=function(t){return Object(o.cordovaInstance)(this,"insertCSS",{},arguments)},t.prototype.on=function(t){var e=this;return function(){if(!0===Object(o.instanceAvailability)(e))return new i.a((function(n){return e._objectInstance.addEventListener(t,n.next.bind(n)),function(){return e._objectInstance.removeEventListener(t,n.next.bind(n))}}))}()},t}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.create=function(t,e,n){return new a(t,e,n)},e.pluginName="InAppBrowser",e.plugin="cordova-plugin-inappbrowser",e.pluginRef="cordova.InAppBrowser",e.repo="https://github.com/apache/cordova-plugin-inappbrowser",e.platforms=["AmazonFire OS","Android","Browser","iOS","macOS","Windows"],e}(o.IonicNativePlugin)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},A36C:function(t,e,n){"use strict";n.d(e,"a",(function(){return Vt})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return _t})),n.d(e,"f",(function(){return Ut})),n.d(e,"g",(function(){return et})),n.d(e,"h",(function(){return Ft})),n.d(e,"i",(function(){return x})),n.d(e,"j",(function(){return A})),n.d(e,"k",(function(){return tt})),n.d(e,"l",(function(){return ct})),n.d(e,"m",(function(){return wt})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return Ct})),n.d(e,"p",(function(){return I})),n.d(e,"q",(function(){return h}));let r,i,o,s=!1,a=!1,u=!1,c=!1,l=!1;const h="undefined"!=typeof window?window:{},d=h.CSS,f=h.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},g=(()=>(f.head.attachShadow+"").indexOf("[native")>-1)(),v=t=>Promise.resolve(t),m=(()=>{try{return new CSSStyleSheet,!0}catch(t){}return!1})(),y=(t,e,n,r)=>{n&&n.map(([n,r,i])=>{const o=_(t,n),s=b(e,i),a=w(n);p.ael(o,r,s,a),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>p.rel(o,r,s,a))})},b=(t,e)=>n=>{try{256&t.$flags$?t.$lazyInstance$[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n])}catch(r){It(r)}},_=(t,e)=>4&e?f:8&e?h:16&e?f.body:t,w=t=>0!=(2&t),E="http://www.w3.org/1999/xlink",O=new WeakMap,C=(t,e,n)=>{let r=kt.get(t);m&&n?(r=r||new CSSStyleSheet,r.replace(e)):r=e,kt.set(t,r)},S=(t,e,n,r)=>{let i=T(e,n),o=kt.get(i);if(t=11===t.nodeType?t:f,o)if("string"==typeof o){let n,s=O.get(t=t.head||t);if(s||O.set(t,s=new Set),!s.has(i)){if(t.host&&(n=t.querySelector(`[sty-id="${i}"]`)))n.innerHTML=o;else{if(p.$cssShim$){n=p.$cssShim$.createHostStyle(r,i,o,!!(10&e.$flags$));const t=n["s-sc"];t&&(i=t,s=null)}else n=f.createElement("style"),n.innerHTML=o;t.insertBefore(n,t.querySelector("link"))}s&&s.add(i)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return i},T=(t,e)=>"sc-"+(e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$),I=t=>At.push(t),x=t=>Ot(t).$modeName$,j={},k=t=>"object"==(t=typeof t)||"function"===t,A=(t,e,...n)=>{let r=null,i=null,o=null,s=!1,a=!1,u=[];const c=e=>{for(let n=0;n<e.length;n++)r=e[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((s="function"!=typeof t&&!k(r))&&(r=String(r)),s&&a?u[u.length-1].$text$+=r:u.push(s?N(null,r):r),a=s)};if(c(n),e){e.key&&(i=e.key),e.name&&(o=e.name);{const t=e.className||e.class;t&&(e.class="object"!=typeof t?t:Object.keys(t).filter(e=>t[e]).join(" "))}}if("function"==typeof t)return t(null===e?{}:e,u,P);const l=N(t,null);return l.$attrs$=e,u.length>0&&(l.$children$=u),l.$key$=i,l.$name$=o,l},N=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),R={},P={forEach:(t,e)=>t.map(D).forEach(e),map:(t,e)=>t.map(D).map(e).map(L)},D=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),L=t=>{if("function"==typeof t.vtag){const e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),A(t.vtag,e,...t.vchildren||[])}const e=N(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},M=(t,e,n,r,i,o)=>{if(n!==r){let a=Tt(t,e),u=e.toLowerCase();if("class"===e){const e=t.classList,i=U(n),o=U(r);e.remove(...i.filter(t=>t&&!o.includes(t))),e.add(...o.filter(t=>t&&!i.includes(t)))}else if("style"===e){for(const e in n)r&&null!=r[e]||(e.includes("-")?t.style.removeProperty(e):t.style[e]="");for(const e in r)n&&r[e]===n[e]||(e.includes("-")?t.style.setProperty(e,r[e]):t.style[e]=r[e])}else if("key"===e);else if("ref"===e)r&&r(t);else if(a||"o"!==e[0]||"n"!==e[1]){const c=k(r);if((a||c&&null!==r)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{let i=null==r?"":r;"list"===e?a=!1:null!=n&&t[e]==i||(t[e]=i)}}catch(s){}let l=!1;u!==(u=u.replace(/^xlink\:?/,""))&&(e=u,l=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(l?t.removeAttributeNS(E,e):t.removeAttribute(e)):(!a||4&o||i)&&!c&&(r=!0===r?"":r,l?t.setAttributeNS(E,e,r):t.setAttribute(e,r))}else e="-"===e[2]?e.slice(3):Tt(h,u)?u.slice(2):u[2]+e.slice(3),n&&p.rel(t,e,n,!1),r&&p.ael(t,e,r,!1)}},F=/\s/,U=t=>t?t.split(F):[],V=(t,e,n,r)=>{const i=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||j,s=e.$attrs$||j;for(r in o)r in s||M(i,r,o[r],void 0,n,e.$flags$);for(r in s)M(i,r,o[r],s[r],n,e.$flags$)},$=(t,e,n,a)=>{let l,h,d,p=e.$children$[n],g=0;if(s||(u=!0,"slot"===p.$tag$&&(r&&a.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)l=p.$elm$=f.createTextNode(p.$text$);else if(1&p.$flags$)l=p.$elm$=f.createTextNode("");else{if(c||(c="svg"===p.$tag$),l=p.$elm$=f.createElementNS(c?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),c&&"foreignObject"===p.$tag$&&(c=!1),V(null,p,c),null!=r&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),p.$children$)for(g=0;g<p.$children$.length;++g)h=$(t,p,g,l),h&&l.appendChild(h);"svg"===p.$tag$?c=!1:"foreignObject"===l.tagName&&(c=!0)}return l["s-hn"]=o,3&p.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=p.$name$||"",d=t&&t.$children$&&t.$children$[n],d&&d.$tag$===p.$tag$&&t.$elm$&&q(t.$elm$,!1)),l},q=(t,e)=>{p.$flags$|=1;const n=t.childNodes;for(let r=n.length-1;r>=0;r--){const t=n[r];t["s-hn"]!==o&&t["s-ol"]&&(W(t).insertBefore(t,G(t)),t["s-ol"].remove(),t["s-ol"]=void 0,u=!0),e&&q(t,e)}p.$flags$&=-2},H=(t,e,n,r,i,s)=>{let a,u=t["s-cr"]&&t["s-cr"].parentNode||t;for(u.shadowRoot&&u.tagName===o&&(u=u.shadowRoot);i<=s;++i)r[i]&&(a=$(null,n,i,t),a&&(r[i].$elm$=a,u.insertBefore(a,G(e))))},z=(t,e,n,r,i)=>{for(;e<=n;++e)(r=t[e])&&(i=r.$elm$,J(r),a=!0,i["s-ol"]?i["s-ol"].remove():q(i,!0),i.remove())},B=(t,e)=>t.$tag$===e.$tag$&&("slot"===t.$tag$?t.$name$===e.$name$:t.$key$===e.$key$),G=t=>t&&t["s-ol"]||t,W=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,K=(t,e)=>{const n=e.$elm$=t.$elm$,r=t.$children$,i=e.$children$,o=e.$tag$,s=e.$text$;let a;null===s?(c="svg"===o||"foreignObject"!==o&&c,"slot"===o||V(t,e,c),null!==r&&null!==i?((t,e,n,r)=>{let i,o,s=0,a=0,u=0,c=0,l=e.length-1,h=e[0],d=e[l],f=r.length-1,p=r[0],g=r[f];for(;s<=l&&a<=f;)if(null==h)h=e[++s];else if(null==d)d=e[--l];else if(null==p)p=r[++a];else if(null==g)g=r[--f];else if(B(h,p))K(h,p),h=e[++s],p=r[++a];else if(B(d,g))K(d,g),d=e[--l],g=r[--f];else if(B(h,g))"slot"!==h.$tag$&&"slot"!==g.$tag$||q(h.$elm$.parentNode,!1),K(h,g),t.insertBefore(h.$elm$,d.$elm$.nextSibling),h=e[++s],g=r[--f];else if(B(d,p))"slot"!==h.$tag$&&"slot"!==g.$tag$||q(d.$elm$.parentNode,!1),K(d,p),t.insertBefore(d.$elm$,h.$elm$),d=e[--l],p=r[++a];else{for(u=-1,c=s;c<=l;++c)if(e[c]&&null!==e[c].$key$&&e[c].$key$===p.$key$){u=c;break}u>=0?(o=e[u],o.$tag$!==p.$tag$?i=$(e&&e[a],n,u,t):(K(o,p),e[u]=void 0,i=o.$elm$),p=r[++a]):(i=$(e&&e[a],n,a,t),p=r[++a]),i&&W(h.$elm$).insertBefore(i,G(h.$elm$))}s>l?H(t,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&z(e,s,l)})(n,r,e,i):null!==i?(null!==t.$text$&&(n.textContent=""),H(n,null,e,i,0,i.length-1)):null!==r&&z(r,0,r.length-1),c&&"svg"===o&&(c=!1)):(a=n["s-cr"])?a.parentNode.textContent=s:t.$text$!==s&&(n.data=s)},Q=t=>{let e,n,r,i,o,s,a=t.childNodes;for(n=0,r=a.length;n<r;n++)if(e=a[n],1===e.nodeType){if(e["s-sr"])for(o=e["s-sn"],e.hidden=!1,i=0;i<r;i++)if(a[i]["s-hn"]!==e["s-hn"])if(s=a[i].nodeType,""!==o){if(1===s&&o===a[i].getAttribute("slot")){e.hidden=!0;break}}else if(1===s||3===s&&""!==a[i].textContent.trim()){e.hidden=!0;break}Q(e)}},Y=[],X=t=>{let e,n,r,i,o,s,u=0,c=t.childNodes,l=c.length;for(;u<l;u++){if(e=c[u],e["s-sr"]&&(n=e["s-cr"]))for(r=n.parentNode.childNodes,i=e["s-sn"],s=r.length-1;s>=0;s--)n=r[s],n["s-cn"]||n["s-nr"]||n["s-hn"]===e["s-hn"]||(Z(n,i)?(o=Y.find(t=>t.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||i,o?o.$slotRefNode$=e:Y.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&Y.map(t=>{Z(t.$nodeToRelocate$,n["s-sn"])&&(o=Y.find(t=>t.$nodeToRelocate$===n),o&&!t.$slotRefNode$&&(t.$slotRefNode$=o.$slotRefNode$))})):Y.some(t=>t.$nodeToRelocate$===n)||Y.push({$nodeToRelocate$:n}));1===e.nodeType&&X(e)}},Z=(t,e)=>1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e,J=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(J)},tt=t=>Ot(t).$hostElement$,et=(t,e,n)=>{const r=tt(t);return{emit:t=>nt(r,e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:t})}},nt=(t,e,n)=>{const r=p.ce(e,n);return t.dispatchEvent(r),r},rt=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(e=>t.$onRenderResolve$=e))},it=(t,e)=>{if(t.$flags$|=16,!(4&t.$flags$))return rt(t,t.$ancestorComponent$),Ut(()=>ot(t,e));t.$flags$|=512},ot=(t,e)=>{const n=t.$lazyInstance$;let r;return e&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map(([t,e])=>ht(n,t,e)),t.$queuedListeners$=null),r=ht(n,"componentWillLoad")),r=dt(r,()=>ht(n,"componentWillRender")),dt(r,()=>st(t,n,e))},st=async(t,e,n)=>{const c=t.$hostElement$,l=c["s-rc"];n&&(t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=S(g&&n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$,n);10&r&&(n["s-sc"]=i,n.classList.add(i+"-h"),2&r&&n.classList.add(i+"-s"))})(t),((t,e)=>{const n=t.$hostElement$,c=t.$cmpMeta$,l=t.$vnode$||N(null,null),h=(d=e)&&d.$tag$===R?e:A(null,null,e);var d;if(o=n.tagName,c.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},c.$attrsToReflect$.map(([t,e])=>h.$attrs$[e]=n[t])),h.$tag$=null,h.$flags$|=4,t.$vnode$=h,h.$elm$=l.$elm$=n.shadowRoot||n,r=n["s-sc"],i=n["s-cr"],s=g&&0!=(1&c.$flags$),a=!1,K(l,h),p.$flags$|=1,u){let t,e,n,r,i,o;X(h.$elm$);let s=0;for(;s<Y.length;s++)t=Y[s],e=t.$nodeToRelocate$,e["s-ol"]||(n=f.createTextNode(""),n["s-nr"]=e,e.parentNode.insertBefore(e["s-ol"]=n,e));for(s=0;s<Y.length;s++)if(t=Y[s],e=t.$nodeToRelocate$,t.$slotRefNode$){for(r=t.$slotRefNode$.parentNode,i=t.$slotRefNode$.nextSibling,n=e["s-ol"];n=n.previousSibling;)if(o=n["s-nr"],o&&o["s-sn"]===e["s-sn"]&&r===o.parentNode&&(o=o.nextSibling,!o||!o["s-nr"])){i=o;break}(!i&&r!==e.parentNode||e.nextSibling!==i)&&e!==i&&(!e["s-hn"]&&e["s-ol"]&&(e["s-hn"]=e["s-ol"].parentNode.nodeName),r.insertBefore(e,i))}else 1===e.nodeType&&(e.hidden=!0)}a&&Q(h.$elm$),p.$flags$&=-2,Y.length=0})(t,at(t,e)),p.$cssShim$&&p.$cssShim$.updateHost(c),l&&(l.map(t=>t()),c["s-rc"]=void 0);{const e=c["s-p"],n=()=>ut(t);0===e.length?n():(Promise.all(e).then(n),t.$flags$|=4,e.length=0)}},at=(t,e)=>{try{e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2}catch(n){It(n,t.$hostElement$)}return e},ut=t=>{const e=t.$hostElement$,n=t.$lazyInstance$,r=t.$ancestorComponent$;64&t.$flags$?ht(n,"componentDidUpdate"):(t.$flags$|=64,ft(e),ht(n,"componentDidLoad"),t.$onReadyResolve$(e),r||lt()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&Mt(()=>it(t,!1)),t.$flags$&=-517},ct=t=>{{const e=Ot(t),n=e.$hostElement$.isConnected;return n&&2==(18&e.$flags$)&&it(e,!1),n}},lt=t=>{ft(f.documentElement),Mt(()=>nt(h,"appload",{detail:{namespace:"ionic"}}))},ht=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){It(r)}},dt=(t,e)=>t&&t.then?t.then(e):e(),ft=t=>t.classList.add("hydrated"),pt=(t,e,n,r,i,o,s)=>{let a,u,c,l;if(1===o.nodeType){for(a=o.getAttribute("c-id"),a&&(u=a.split("."),u[0]!==s&&"0"!==u[0]||(c={$flags$:0,$hostId$:u[0],$nodeId$:u[1],$depth$:u[2],$index$:u[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},e.push(c),o.removeAttribute("c-id"),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,t=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))),l=o.childNodes.length-1;l>=0;l--)pt(t,e,n,r,i,o.childNodes[l],s);if(o.shadowRoot)for(l=o.shadowRoot.childNodes.length-1;l>=0;l--)pt(t,e,n,r,i,o.shadowRoot.childNodes[l],s)}else if(8===o.nodeType)u=o.nodeValue.split("."),u[1]!==s&&"0"!==u[1]||(a=u[0],c={$flags$:0,$hostId$:u[1],$nodeId$:u[2],$depth$:u[3],$index$:u[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(c.$elm$=o.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,e.push(c),o.remove(),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))):c.$hostId$===s&&("s"===a?(c.$tag$="slot",o["s-sn"]=u[5]?c.$name$=u[5]:"",o["s-sr"]=!0,r&&(c.$elm$=f.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),o.parentNode.insertBefore(c.$elm$,o),o.remove(),"0"===c.$depth$&&(r[c.$index$]=c.$elm$)),n.push(c),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c):"r"===a&&(r?o.remove():(i["s-cr"]=o,o["s-cn"]=!0))));else if(t&&"style"===t.$tag$){const e=N(null,o.textContent);e.$elm$=o,e.$index$="0",t.$children$=[e]}},gt=(t,e)=>{if(1===t.nodeType){let n=0;for(;n<t.childNodes.length;n++)gt(t.childNodes[n],e);if(t.shadowRoot)for(n=0;n<t.shadowRoot.childNodes.length;n++)gt(t.shadowRoot.childNodes[n],e)}else if(8===t.nodeType){const n=t.nodeValue.split(".");"o"===n[0]&&(e.set(n[1]+"."+n[2],t),t.nodeValue="",t["s-en"]=n[3])}},vt=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const r=Object.entries(e.$members$),i=t.prototype;if(r.map(([t,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(i,t,{get(){return e=t,Ot(this).$instanceValues$.get(e);var e},set(n){((t,e,n,r)=>{const i=Ot(this),o=i.$hostElement$,s=i.$instanceValues$.get(e),a=i.$flags$,u=i.$lazyInstance$;var c,l;if(l=r.$members$[e][0],n=null==(c=n)||k(c)?c:4&l?"false"!==c&&(""===c||!!c):2&l?parseFloat(c):1&l?String(c):c,!(8&a&&void 0!==s||n===s)&&(i.$instanceValues$.set(e,n),u)){if(r.$watchers$&&128&a){const t=r.$watchers$[e];t&&t.map(t=>{try{u[t](n,s,e)}catch(r){It(r,o)}})}2==(18&a)&&it(i,!1)}})(0,t,n,e)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(i,t,{value(...e){const n=Ot(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[t](...e))}})}),1&n){const n=new Map;i.attributeChangedCallback=function(t,e,r){p.jmp(()=>{const e=n.get(t);this[e]=(null!==r||"boolean"!=typeof this[e])&&r})},t.observedAttributes=r.filter(([t,e])=>15&e[0]).map(([t,r])=>{const i=r[1]||t;return n.set(i,t),512&r[0]&&e.$attrsToReflect$.push([t,i]),i})}}return t},mt=t=>{ht(t,"connectedCallback")},yt=t=>{if(0==(1&p.$flags$)){const e=Ot(t),r=e.$cmpMeta$,i=()=>{};if(1&e.$flags$)y(t,e,r.$listeners$),mt(e.$lazyInstance$);else{let i;if(e.$flags$|=1,i=t.getAttribute("s-id"),i){if(g&&1&r.$flags$){const e=S(t.shadowRoot,r,t.getAttribute("s-mode"));t.classList.remove(e+"-h",e+"-s")}((t,e,n,r)=>{const i=t.shadowRoot,o=[],s=i?[]:null,a=r.$vnode$=N(e,null);p.$orgLocNodes$||gt(f.body,p.$orgLocNodes$=new Map),t["s-id"]=n,t.removeAttribute("s-id"),pt(a,o,[],s,t,t,n),o.map(t=>{const n=t.$hostId$+"."+t.$nodeId$,r=p.$orgLocNodes$.get(n),o=t.$elm$;r&&g&&""===r["s-en"]&&r.parentNode.insertBefore(o,r.nextSibling),i||(o["s-hn"]=e,r&&(o["s-ol"]=r,o["s-ol"]["s-nr"]=o)),p.$orgLocNodes$.delete(n)}),i&&s.map(t=>{t&&i.appendChild(t)})})(t,r.$tagName$,i,e)}i||12&r.$flags$&&bt(t);{let n=t;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){rt(e,e.$ancestorComponent$=n);break}}r.$members$&&Object.entries(r.$members$).map(([e,[n]])=>{if(31&n&&t.hasOwnProperty(e)){const n=t[e];delete t[e],t[e]=n}}),Mt(()=>(async(t,e,r,i,o)=>{if(0==(32&e.$flags$)){{if(e.$flags$|=32,(o=jt(r)).then){const t=()=>{};o=await o,t()}o.isProxied||(r.$watchers$=o.watchers,vt(o,r,2),o.isProxied=!0);const t=()=>{};e.$flags$|=8;try{new o(e)}catch(u){It(u)}e.$flags$&=-9,e.$flags$|=128,t(),mt(e.$lazyInstance$)}if(o.style){let i=o.style;"string"!=typeof i&&(i=i[e.$modeName$=(t=>At.map(e=>e(t)).find(t=>!!t))(t)]);const s=T(r,e.$modeName$);if(!kt.has(s)){const t=()=>{};8&r.$flags$&&(i=await n.e(74).then(n.bind(null,"6foE")).then(t=>t.scopeCss(i,s,!1))),C(s,i,!!(1&r.$flags$)),t()}}}const s=e.$ancestorComponent$,a=()=>it(e,!0);s&&s["s-rc"]?s["s-rc"].push(a):a()})(t,e,r))}i()}},bt=t=>{const e=t["s-cr"]=f.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},_t=(t,e={})=>{const n=[],r=e.exclude||[],i=h.customElements,o=f.head,s=o.querySelector("meta[charset]"),a=f.createElement("style"),u=[],c=f.querySelectorAll("[sty-id]");let l,d=!0,v=0;for(Object.assign(p,e),p.$resourcesUrl$=new URL(e.resourcesUrl||"./",f.baseURI).href,p.$flags$|=2;v<c.length;v++)C(c[v].getAttribute("sty-id"),c[v].innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0);t.map(t=>t[1].map(e=>{const o={$flags$:e[0],$tagName$:e[1],$members$:e[2],$listeners$:e[3]};o.$members$=e[2],o.$listeners$=e[3],o.$attrsToReflect$=[],o.$watchers$={},!g&&1&o.$flags$&&(o.$flags$|=8);const s=o.$tagName$,a=class extends HTMLElement{constructor(t){super(t),St(t=this,o),1&o.$flags$&&(g?t.attachShadow({mode:"open",delegatesFocus:!!(16&o.$flags$)}):"shadowRoot"in t||(t.shadowRoot=t))}connectedCallback(){l&&(clearTimeout(l),l=null),d?u.push(this):p.jmp(()=>yt(this))}disconnectedCallback(){p.jmp(()=>(t=>{if(0==(1&p.$flags$)){const e=Ot(t),n=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0),p.$cssShim$&&p.$cssShim$.removeHost(t),ht(n,"disconnectedCallback")}})(this))}componentOnReady(){return Ot(this).$onReadyPromise$}};o.$lazyBundleId$=t[0],r.includes(s)||i.get(s)||(n.push(s),i.define(s,vt(a,o,1)))})),a.innerHTML=n+"{visibility:hidden}.hydrated{visibility:inherit}",a.setAttribute("data-styles",""),o.insertBefore(a,s?s.nextSibling:o.firstChild),d=!1,u.length?u.map(t=>t.connectedCallback()):p.jmp(()=>l=setTimeout(lt,30))},wt=t=>{const e=new URL(t,p.$resourcesUrl$);return e.origin!==h.location.origin?e.href:e.pathname},Et=new WeakMap,Ot=t=>Et.get(t),Ct=(t,e)=>Et.set(e.$lazyInstance$=t,e),St=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(t=>n.$onInstanceResolve$=t),n.$onReadyPromise$=new Promise(t=>n.$onReadyResolve$=t),t["s-p"]=[],t["s-rc"]=[],y(t,n,e.$listeners$),Et.set(t,n)},Tt=(t,e)=>e in t,It=(t,e)=>(0,console.error)(t,e),xt=new Map,jt=(t,e,r)=>{const i=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$,s=xt.get(o);return s?s[i]:n("kLfG")(`./${o}.entry.js`).then(t=>(xt.set(o,t),t[i]),It)},kt=new Map,At=[],Nt=[],Rt=[],Pt=(t,e)=>n=>{t.push(n),l||(l=!0,e&&4&p.$flags$?Mt(Lt):p.raf(Lt))},Dt=t=>{for(let n=0;n<t.length;n++)try{t[n](performance.now())}catch(e){It(e)}t.length=0},Lt=()=>{Dt(Nt),Dt(Rt),(l=Nt.length>0)&&p.raf(Lt)},Mt=t=>v().then(t),Ft=Pt(Nt,!1),Ut=Pt(Rt,!0),Vt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={production:!0,shopListAPI:"https://run.mocky.io/v3/178c994d-8c3d-45e6-a093-e308773c0b65",productCategoryListAPI:"https://run.mocky.io/v3/4069d7f0-509c-47bb-98ae-ef2654efba57",productListAPI:"https://run.mocky.io/v3/93fc0914-208a-4c5d-9db2-b70b5a576ea1",shopAPI:"https://run.mocky.io/v3/da231523-d7c7-4562-9be4-ea66bd95e82a",orderHistorySummaryAPI:"https://37113081-af1d-41a5-8667-b55b887516cd.mock.pstmn.io/historyordersummary",orderedItemsAPI:"https://ebcf8759-6d7c-4206-9f2b-f4ac8750a37b.mock.pstmn.io/orderedItems",customerDeliveryInfoAPI:"https://9dd126a1-4426-4b8a-9977-a9dfd8bd7c69.mock.pstmn.io/deliveryLocation",SHOP_LIST_COLLECTION:"shop_list",SHOP_SERVICE_AREA:"service_area",PRODUCT_CATEGORY:"product_category",PRODUCT_LIST:"product_list",PRODUCT_CATEGORY_MAPPING:"product_category_product_mapping",DELIVERY_ORDER_CONFIG:"delivery_order_config",CUSTOMER_COLLECTION:"customer",ORDER_SUMMARY:"order_summary",CUSTOMER_DELIVERY_PERSONAL_INFO:"customer_delivery_personal_info",ORDERED_ITEMS:"ordered_items"}},BFxc:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return function(e){return 0===t?Object(o.b)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(...t){return Object(i.a)()(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HPGL:function(t,e,n){"use strict";function r(){var t=Date.now(),e=!1;document.addEventListener("deviceready",(function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),e=!0})),setTimeout((function(){!e&&window.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}),5e3)}n.d(e,"a",(function(){return r}))},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IheW:function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return W})),n.d(e,"e",(function(){return G})),n.d(e,"f",(function(){return B})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return M})),n.d(e,"i",(function(){return V})),n.d(e,"j",(function(){return N})),n.d(e,"k",(function(){return R})),n.d(e,"l",(function(){return D})),n.d(e,"m",(function(){return H})),n.d(e,"n",(function(){return A})),n.d(e,"o",(function(){return z})),n.d(e,"p",(function(){return L})),n.d(e,"q",(function(){return F})),n.d(e,"r",(function(){return U})),n.d(e,"s",(function(){return $})),n.d(e,"t",(function(){return q}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),s=n("bOdf"),a=n("pLZG"),u=n("lJxs"),c=n("SVse");class l{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class f{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function v(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function m(t){return"undefined"!=typeof Blob&&t instanceof Blob}function y(t){return"undefined"!=typeof FormData&&t instanceof FormData}class b{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:v(this.body)||m(this.body)||y(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||y(this.body)?null:m(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new b(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const _=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class w{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class E extends w{constructor(t={}){super(t),this.type=_.ResponseHeader}clone(t={}){return new E({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class O extends w{constructor(t={}){super(t),this.type=_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new O({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends w{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function S(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class T{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof b)r=t;else{let i=void 0;i=n.headers instanceof d?n.headers:new d(n.headers);let o=void 0;n.params&&(o=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new b(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Object(i.a)(r).pipe(Object(s.a)(t=>this.handler.handle(t)));if(t instanceof b||"events"===n.observe)return o;const c=o.pipe(Object(a.a)(t=>t instanceof O));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(u.a)(t=>t.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,S(n,e))}post(t,e,n={}){return this.request("POST",t,S(n,e))}put(t,e,n={}){return this.request("PUT",t,S(n,e))}}class I{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const x=new r.q("HTTP_INTERCEPTORS");class j{intercept(t,e){return e.handle(t)}}let k=0;class A{}class N{constructor(t,e){this.callbackMap=t,this.document=e}nextCallback(){return"ng_jsonp_callback_"+k++}handle(t){if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new o.a(e=>{const n=this.nextCallback(),r=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let o=null,s=!1,a=!1;this.callbackMap[n]=t=>{delete this.callbackMap[n],a||(o=t,s=!0)};const u=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},c=t=>{a||(u(),s?(e.next(new O({body:o,status:200,statusText:"OK",url:r})),e.complete()):e.error(new C({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},l=t=>{a||(u(),e.error(new C({error:t,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",c),i.addEventListener("error",l),this.document.body.appendChild(i),e.next({type:_.Sent}),()=>{a=!0,i.removeEventListener("load",c),i.removeEventListener("error",l),u()}})}}class R{constructor(t){this.jsonp=t}intercept(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)}}const P=/^\)\]\}',?\n/;class D{}class L{constructor(){}build(){return new XMLHttpRequest}}class M{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new d(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new E({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(P,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new O({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new C({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new C({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}const F=new r.q("XSRF_COOKIE_NAME"),U=new r.q("XSRF_HEADER_NAME");class V{}class ${constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.z)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class q{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class H{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(x,[]);this.chain=t.reduceRight((t,e)=>new I(t,e),this.backend)}return this.chain.handle(t)}}function z(){return"object"==typeof window?window:{}}class B{static disable(){return{ngModule:B,providers:[{provide:q,useClass:j}]}}static withOptions(t={}){return{ngModule:B,providers:[t.cookieName?{provide:F,useValue:t.cookieName}:[],t.headerName?{provide:U,useValue:t.headerName}:[]]}}}class G{}class W{}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return function(e){const n=new o(t),r=e.lift(n);return n.caught=r}}class o{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const o=Object(r.c)(n,i);o!==i&&this.add(o)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("GyhO"),i=n("z+Ro");function o(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.1","app")},Ji5e:function(t,e,n){},"KOl+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return m})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return _}));var r=n("HDdC"),i=n("xgIS"),o={error:"cordova_not_available"},s={error:"plugin_not_installed"};function a(t){if(window.angular){var e=window.angular.element(document.querySelector("[ng-app]")||document.body).injector();if(e)return e.get("$q")((function(e,n){t(e,n)}));console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise((function(e,n){t(e,n)}));console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n,r){var i,o;void 0===r&&(r={});var s=a((function(s,a){i=r.destruct?g(t,e,n,r,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)})):g(t,e,n,r,s,a),o=a}));return i&&i.error&&(s.catch((function(){})),"function"==typeof o&&o(i.error)),s}function c(t,e,n,r){return void 0===r&&(r={}),a((function(i,o){var s=g(t,e,n,r);s?s.error?o(s.error):s.then&&s.then(i).catch(o):o({error:"unexpected_error"})}))}function l(t,e,n,i){return void 0===i&&(i={}),new r.a((function(r){var o;return(o=i.destruct?g(t,e,n,i,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)})):g(t,e,n,i,r.next.bind(r),r.error.bind(r)))&&o.error&&(r.error(o.error),r.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?g(t,i.clearFunction,n,i,r.next.bind(r),r.error.bind(r)):g(t,i.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}}))}function h(t,e){return e?y(window,e):e=window,Object(i.a)(e,t)}function d(t,e,n){var r,i,a;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),a=t.constructor.getPluginInstallName()),!(!(i=m(r))||e&&void 0===i[e])||(window.cordova?(function(t,e,n){n?console.warn("Native: tried calling "+t+"."+n+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),e&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+e+"'")}(n,a,e),s):(function(t,e){e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(n,e),o))}function f(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}function p(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push((function(t,e){t?r(t):n(e)}));else if("object"===e.callbackStyle&&e.successName&&e.errorName){var i={};i[e.successName]=n,i[e.errorName]=r,t.push(i)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},s=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(s(),o()):(o(),s())}else t.push(n),t.push(r);return t}function g(t,e,n,r,i,o){void 0===r&&(r={}),n=p(n,r,i,o);var s=d(t,e);if(!0===s){var a=m(t.constructor.getPluginRef());return a[e].apply(a,n)}return s}function v(t,e,n,r,i,o){if(void 0===r&&(r={}),n=p(n,r,i,o),f(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function m(t){return y(window,t)}function y(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}var b=function(t,e,n){return void 0===n&&(n={}),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.sync?g(t,e,r,n):n.observable?l(t,e,r,n):n.eventObservable&&n.event?h(n.event,n.element):n.otherPromise?c(t,e,r,n):u(t,e,r,n)}};function _(t,e,n){return void 0===n&&(n={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.sync)return v(t,e,i,n);if(n.observable)return new r.a((function(r){var o;return(o=n.destruct?v(t,e,i,n,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)})):v(t,e,i,n,r.next.bind(r),r.error.bind(r)))&&o.error&&r.error(o.error),function(){try{return n.clearWithArgs?v(t,n.clearFunction,i,n,r.next.bind(r),r.error.bind(r)):v(t,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}}));if(n.otherPromise)return a((function(r,o){var s;(s=n.destruct?v(t,e,i,n,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)})):v(t,e,i,n,r,o))&&s.then?s.then(r,o):o()}));var s,u,c=a((function(r,o){s=n.destruct?v(t,e,i,n,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)})):v(t,e,i,n,r,o),u=o}));return s&&s.error&&(c.catch((function(){})),"function"==typeof u&&u(s.error)),c}}},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},Lq6m:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("KOl+"),i=function(){function t(){}return t.installed=function(){return!0===Object(r.a)(this.pluginRef)},t.getPlugin=function(){return function(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}(window,this.pluginRef)},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms||[]},t}()},MKJQ:function(t,e,n){"use strict";n.d(e,"Y",(function(){return a})),n.d(e,"cc",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"eb",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"fb",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"gb",(function(){return p})),n.d(e,"d",(function(){return g})),n.d(e,"hb",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"ib",(function(){return y})),n.d(e,"f",(function(){return b})),n.d(e,"jb",(function(){return _})),n.d(e,"g",(function(){return w})),n.d(e,"ob",(function(){return E})),n.d(e,"h",(function(){return O})),n.d(e,"kb",(function(){return C})),n.d(e,"i",(function(){return S})),n.d(e,"lb",(function(){return T})),n.d(e,"j",(function(){return I})),n.d(e,"mb",(function(){return x})),n.d(e,"k",(function(){return j})),n.d(e,"nb",(function(){return k})),n.d(e,"l",(function(){return A})),n.d(e,"pb",(function(){return N})),n.d(e,"m",(function(){return R})),n.d(e,"qb",(function(){return P})),n.d(e,"n",(function(){return D})),n.d(e,"rb",(function(){return L})),n.d(e,"o",(function(){return M})),n.d(e,"sb",(function(){return F})),n.d(e,"p",(function(){return U})),n.d(e,"tb",(function(){return V})),n.d(e,"q",(function(){return $})),n.d(e,"wb",(function(){return q})),n.d(e,"r",(function(){return H})),n.d(e,"ub",(function(){return z})),n.d(e,"s",(function(){return B})),n.d(e,"vb",(function(){return G})),n.d(e,"t",(function(){return W})),n.d(e,"xb",(function(){return K})),n.d(e,"u",(function(){return Q})),n.d(e,"yb",(function(){return Y})),n.d(e,"v",(function(){return X})),n.d(e,"zb",(function(){return Z})),n.d(e,"w",(function(){return J})),n.d(e,"Ab",(function(){return tt})),n.d(e,"x",(function(){return et})),n.d(e,"Bb",(function(){return nt})),n.d(e,"y",(function(){return rt})),n.d(e,"Hb",(function(){return it})),n.d(e,"z",(function(){return ot})),n.d(e,"Cb",(function(){return st})),n.d(e,"A",(function(){return at})),n.d(e,"Db",(function(){return ut})),n.d(e,"B",(function(){return ct})),n.d(e,"Eb",(function(){return lt})),n.d(e,"C",(function(){return ht})),n.d(e,"Fb",(function(){return dt})),n.d(e,"D",(function(){return ft})),n.d(e,"Gb",(function(){return pt})),n.d(e,"E",(function(){return gt})),n.d(e,"Ib",(function(){return vt})),n.d(e,"F",(function(){return mt})),n.d(e,"Kb",(function(){return yt})),n.d(e,"G",(function(){return bt})),n.d(e,"Jb",(function(){return _t})),n.d(e,"H",(function(){return wt})),n.d(e,"Nb",(function(){return Et})),n.d(e,"I",(function(){return Ot})),n.d(e,"Lb",(function(){return Ct})),n.d(e,"J",(function(){return St})),n.d(e,"Mb",(function(){return Tt})),n.d(e,"K",(function(){return It})),n.d(e,"Ob",(function(){return xt})),n.d(e,"L",(function(){return jt})),n.d(e,"Pb",(function(){return kt})),n.d(e,"M",(function(){return At})),n.d(e,"Qb",(function(){return Nt})),n.d(e,"N",(function(){return Rt})),n.d(e,"Rb",(function(){return Pt})),n.d(e,"O",(function(){return Dt})),n.d(e,"Tb",(function(){return Lt})),n.d(e,"P",(function(){return Mt})),n.d(e,"Sb",(function(){return Ft})),n.d(e,"Q",(function(){return Ut})),n.d(e,"Vb",(function(){return Vt})),n.d(e,"R",(function(){return $t})),n.d(e,"Ub",(function(){return qt})),n.d(e,"S",(function(){return Ht})),n.d(e,"Wb",(function(){return zt})),n.d(e,"T",(function(){return Bt})),n.d(e,"Xb",(function(){return Gt})),n.d(e,"U",(function(){return Wt})),n.d(e,"Yb",(function(){return Kt})),n.d(e,"V",(function(){return Qt})),n.d(e,"Zb",(function(){return Yt})),n.d(e,"W",(function(){return Xt})),n.d(e,"ac",(function(){return Zt})),n.d(e,"X",(function(){return Jt})),n.d(e,"bc",(function(){return te})),n.d(e,"Z",(function(){return ee})),n.d(e,"dc",(function(){return ne})),n.d(e,"ab",(function(){return re})),n.d(e,"ec",(function(){return ie})),n.d(e,"bb",(function(){return oe})),n.d(e,"fc",(function(){return se})),n.d(e,"cb",(function(){return ae})),n.d(e,"gc",(function(){return ue})),n.d(e,"db",(function(){return ce})),n.d(e,"hc",(function(){return le}));var r=n("8Y7J"),i=n("sZkV"),o=n("SVse"),s=n("iInd"),a=r.vb({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: flex;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n\n      flex-direction: column;\n\n      width: 100%;\n      height: 100%;\n\n      contain: layout size style;\n      z-index: $z-index-page-container;\n    }\n    .tabs-inner[_ngcontent-%COMP%] {\n      position: relative;\n\n      flex: 1;\n\n      contain: layout size style;\n    }"],data:{}});function u(t){return r.Zb(0,[r.Sb(671088640,1,{outlet:0}),r.Lb(null,0),(t()(),r.xb(2,0,null,null,2,"div",[["class","tabs-inner"]],null,null,null,null,null)),(t()(),r.xb(3,16777216,[["outlet",1]],null,1,"ion-router-outlet",[["tabs","true"]],null,[[null,"stackEvents"]],(function(t,e,n){var r=!0;return"stackEvents"===e&&(r=!1!==t.component.onPageSelected(n)&&r),r}),null,null)),r.wb(4,212992,[[1,4]],0,i.gb,[s.b,r.P,r.j,[8,null],[8,"true"],i.e,i.Gb,o.i,r.l,s.m,r.z,s.a,[3,i.gb]],null,{stackEvents:"stackEvents"}),r.Lb(null,1)],(function(t,e){t(e,4,0)}),null)}var c=r.vb({encapsulation:2,styles:[],data:{}});function l(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var h=r.vb({encapsulation:2,styles:[],data:{}});function d(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var f=r.vb({encapsulation:2,styles:[],data:{}});function p(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var g=r.vb({encapsulation:2,styles:[],data:{}});function v(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var m=r.vb({encapsulation:2,styles:[],data:{}});function y(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var b=r.vb({encapsulation:2,styles:[],data:{}});function _(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var w=r.vb({encapsulation:2,styles:[],data:{}});function E(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var O=r.vb({encapsulation:2,styles:[],data:{}});function C(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var S=r.vb({encapsulation:2,styles:[],data:{}});function T(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var I=r.vb({encapsulation:2,styles:[],data:{}});function x(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var j=r.vb({encapsulation:2,styles:[],data:{}});function k(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var A=r.vb({encapsulation:2,styles:[],data:{}});function N(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var R=r.vb({encapsulation:2,styles:[],data:{}});function P(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var D=r.vb({encapsulation:2,styles:[],data:{}});function L(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var M=r.vb({encapsulation:2,styles:[],data:{}});function F(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var U=r.vb({encapsulation:2,styles:[],data:{}});function V(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var $=r.vb({encapsulation:2,styles:[],data:{}});function q(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var H=r.vb({encapsulation:2,styles:[],data:{}});function z(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var B=r.vb({encapsulation:2,styles:[],data:{}});function G(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var W=r.vb({encapsulation:2,styles:[],data:{}});function K(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Q=r.vb({encapsulation:2,styles:[],data:{}});function Y(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var X=r.vb({encapsulation:2,styles:[],data:{}});function Z(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var J=r.vb({encapsulation:2,styles:[],data:{}});function tt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var et=r.vb({encapsulation:2,styles:[],data:{}});function nt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var rt=r.vb({encapsulation:2,styles:[],data:{}});function it(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ot=r.vb({encapsulation:2,styles:[],data:{}});function st(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var at=r.vb({encapsulation:2,styles:[],data:{}});function ut(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ct=r.vb({encapsulation:2,styles:[],data:{}});function lt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ht=r.vb({encapsulation:2,styles:[],data:{}});function dt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ft=r.vb({encapsulation:2,styles:[],data:{}});function pt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var gt=r.vb({encapsulation:2,styles:[],data:{}});function vt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var mt=r.vb({encapsulation:2,styles:[],data:{}});function yt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var bt=r.vb({encapsulation:2,styles:[],data:{}});function _t(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var wt=r.vb({encapsulation:2,styles:[],data:{}});function Et(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Ot=r.vb({encapsulation:2,styles:[],data:{}});function Ct(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var St=r.vb({encapsulation:2,styles:[],data:{}});function Tt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var It=r.vb({encapsulation:2,styles:[],data:{}});function xt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var jt=r.vb({encapsulation:2,styles:[],data:{}});function kt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var At=r.vb({encapsulation:2,styles:[],data:{}});function Nt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Rt=r.vb({encapsulation:2,styles:[],data:{}});function Pt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Dt=r.vb({encapsulation:2,styles:[],data:{}});function Lt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Mt=r.vb({encapsulation:2,styles:[],data:{}});function Ft(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Ut=r.vb({encapsulation:2,styles:[],data:{}});function Vt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var $t=r.vb({encapsulation:2,styles:[],data:{}});function qt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Ht=r.vb({encapsulation:2,styles:[],data:{}});function zt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Bt=r.vb({encapsulation:2,styles:[],data:{}});function Gt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Wt=r.vb({encapsulation:2,styles:[],data:{}});function Kt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Qt=r.vb({encapsulation:2,styles:[],data:{}});function Yt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Xt=r.vb({encapsulation:2,styles:[],data:{}});function Zt(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var Jt=r.vb({encapsulation:2,styles:[],data:{}});function te(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ee=r.vb({encapsulation:2,styles:[],data:{}});function ne(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var re=r.vb({encapsulation:2,styles:[],data:{}});function ie(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var oe=r.vb({encapsulation:2,styles:[],data:{}});function se(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ae=r.vb({encapsulation:2,styles:[],data:{}});function ue(t){return r.Zb(2,[r.Lb(null,0)],null,null)}var ce=r.vb({encapsulation:2,styles:[],data:{}});function le(t){return r.Zb(2,[r.Lb(null,0)],null,null)}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function s(t){return new r.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},QPqR:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return v})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return g})),n.d(e,"p",(function(){return a}));const r=(t,e=[])=>{const n={};return e.forEach(e=>{t.hasAttribute(e)&&(null!==t.getAttribute(e)&&(n[e]=t.getAttribute(e)),t.removeAttribute(e))}),n},i=(t,e,n,r)=>{if("undefined"!=typeof window){const i=window,o=i&&i.Ionic&&i.Ionic.config;if(o){const i=o.get("_ael");if(i)return i(t,e,n,r);if(o._ael)return o._ael(t,e,n,r)}}return t.addEventListener(e,n,r)},o=(t,e,n,r)=>{if("undefined"!=typeof window){const i=window,o=i&&i.Ionic&&i.Ionic.config;if(o){const i=o.get("_rel");if(i)return i(t,e,n,r);if(o._rel)return o._rel(t,e,n,r)}}return t.removeEventListener(e,n,r)},s=(t,e=t)=>t.shadowRoot||e,a=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),u=t=>!!t.shadowRoot&&!!t.attachShadow,c=t=>{const e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},l=(t,e)=>{let n;const r=t.getAttribute("aria-labelledby"),i=t.id;let o=null!==r&&""!==r.trim()?r:e+"-lbl",s=null!==r&&""!==r.trim()?document.querySelector("#"+r):c(t);return s?(null===r&&(s.id=o),n=s.textContent,s.setAttribute("aria-hidden","true")):""!==i.trim()&&(s=document.querySelector(`label[for=${i}]`),s&&(s.id=o=i+"-lbl",n=s.textContent)),{label:s,labelId:o,labelText:n}},h=(t,e,n,r,i)=>{if(t||u(e)){let t=e.querySelector("input.aux-input");t||(t=e.ownerDocument.createElement("input"),t.type="hidden",t.classList.add("aux-input"),e.appendChild(t)),t.disabled=i,t.name=n,t.value=r||""}},d=(t,e,n)=>Math.max(t,Math.min(e,n)),f=(t,e)=>{if(!t){const t="ASSERT: "+e;throw console.error(t),new Error(t)}},p=t=>t.timeStamp||Date.now(),g=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},v=t=>{const e="rtl"===document.dir;switch(t){case"start":return e;case"end":return!e;default:throw new Error(`"${t}" is not a valid value for [side]. Use "start" or "end" instead.`)}},m=(t,e)=>{const n=t._original||t;return{_original:t,emit:y(n.emit.bind(n),e)}},y=(t,e=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(t,e,...r)}}},"Rt+L":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("KOl+");function i(t,e,n,i){return i=Array.from(i),Object(r.e)(t,e,n).apply(this,i)}},SVse:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return _t})),n.d(e,"c",(function(){return Ct})),n.d(e,"d",(function(){return Ot})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return Et})),n.d(e,"g",(function(){return E})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return O})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return wt})),n.d(e,"l",(function(){return ct})),n.d(e,"m",(function(){return ht})),n.d(e,"n",(function(){return st})),n.d(e,"o",(function(){return ot})),n.d(e,"p",(function(){return pt})),n.d(e,"q",(function(){return w})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return xt})),n.d(e,"t",(function(){return W})),n.d(e,"u",(function(){return Tt})),n.d(e,"v",(function(){return It})),n.d(e,"w",(function(){return a})),n.d(e,"x",(function(){return St})),n.d(e,"y",(function(){return o})),n.d(e,"z",(function(){return at})),n.d(e,"A",(function(){return s}));var r=n("8Y7J");let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275prov=Object(r.ac)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.bc)(d)}const h=new r.q("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275prov=Object(r.ac)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.bc)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function v(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275prov=Object(r.ac)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.bc)(u).location;return new w(Object(r.bc)(c),e&&e.origin||"")}const _=new r.q("appBaseHref");class w extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class E extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}let O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=v(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.normalizeQueryParams=m,t.joinWithSlash=g,t.stripTrailingSlash=v,t.\u0275prov=Object(r.ac)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.bc)(y),Object(r.bc)(c))}function S(t){return t.replace(/\/index.html$/,"")}const T={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},I=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),x=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),j=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),k=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),A=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),N=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function R(t,e){return U(Object(r.yb)(t)[r.bb.DateFormat],e)}function P(t,e){return U(Object(r.yb)(t)[r.bb.TimeFormat],e)}function D(t,e){return U(Object(r.yb)(t)[r.bb.DateTimeFormat],e)}function L(t,e){const n=Object(r.yb)(t),i=n[r.bb.NumberSymbols][e];if(void 0===i){if(e===N.CurrencyDecimal)return n[r.bb.NumberSymbols][N.Decimal];if(e===N.CurrencyGroup)return n[r.bb.NumberSymbols][N.Group]}return i}const M=r.Bb;function F(t){if(!t[r.bb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.bb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function U(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const $=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},H=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,z=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),B=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),G=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function W(t,e,n,i){let o=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match($))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.yb)(t)[r.bb.LocaleId]}(e);if(q[i]=q[i]||{},q[i][n])return q[i][n];let o="";switch(n){case"shortDate":o=R(e,A.Short);break;case"mediumDate":o=R(e,A.Medium);break;case"longDate":o=R(e,A.Long);break;case"fullDate":o=R(e,A.Full);break;case"shortTime":o=P(e,A.Short);break;case"mediumTime":o=P(e,A.Medium);break;case"longTime":o=P(e,A.Long);break;case"fullTime":o=P(e,A.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=K(D(e,A.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=K(D(e,A.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");o=K(D(e,A.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");o=K(D(e,A.Full),[c,l])}return o&&(q[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=H.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let u=o.getTimezoneOffset();i&&(u=et(i,u),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(o,i));let c="";return a.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=X(G.Eras,k.Abbreviated);break;case"GGGG":e=X(G.Eras,k.Wide);break;case"GGGGG":e=X(G.Eras,k.Narrow);break;case"y":e=Y(B.FullYear,1,0,!1,!0);break;case"yy":e=Y(B.FullYear,2,0,!0,!0);break;case"yyy":e=Y(B.FullYear,3,0,!1,!0);break;case"yyyy":e=Y(B.FullYear,4,0,!1,!0);break;case"M":case"L":e=Y(B.Month,1,1);break;case"MM":case"LL":e=Y(B.Month,2,1);break;case"MMM":e=X(G.Months,k.Abbreviated);break;case"MMMM":e=X(G.Months,k.Wide);break;case"MMMMM":e=X(G.Months,k.Narrow);break;case"LLL":e=X(G.Months,k.Abbreviated,j.Standalone);break;case"LLLL":e=X(G.Months,k.Wide,j.Standalone);break;case"LLLLL":e=X(G.Months,k.Narrow,j.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=Y(B.Date,1);break;case"dd":e=Y(B.Date,2);break;case"E":case"EE":case"EEE":e=X(G.Days,k.Abbreviated);break;case"EEEE":e=X(G.Days,k.Wide);break;case"EEEEE":e=X(G.Days,k.Narrow);break;case"EEEEEE":e=X(G.Days,k.Short);break;case"a":case"aa":case"aaa":e=X(G.DayPeriods,k.Abbreviated);break;case"aaaa":e=X(G.DayPeriods,k.Wide);break;case"aaaaa":e=X(G.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=X(G.DayPeriods,k.Abbreviated,j.Standalone,!0);break;case"bbbb":e=X(G.DayPeriods,k.Wide,j.Standalone,!0);break;case"bbbbb":e=X(G.DayPeriods,k.Narrow,j.Standalone,!0);break;case"B":case"BB":case"BBB":e=X(G.DayPeriods,k.Abbreviated,j.Format,!0);break;case"BBBB":e=X(G.DayPeriods,k.Wide,j.Format,!0);break;case"BBBBB":e=X(G.DayPeriods,k.Narrow,j.Format,!0);break;case"h":e=Y(B.Hours,1,-12);break;case"hh":e=Y(B.Hours,2,-12);break;case"H":e=Y(B.Hours,1);break;case"HH":e=Y(B.Hours,2);break;case"m":e=Y(B.Minutes,1);break;case"mm":e=Y(B.Minutes,2);break;case"s":e=Y(B.Seconds,1);break;case"ss":e=Y(B.Seconds,2);break;case"S":e=Y(B.FractionalSeconds,1);break;case"SS":e=Y(B.FractionalSeconds,2);break;case"SSS":e=Y(B.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Z(z.Short);break;case"ZZZZZ":e=Z(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Z(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Z(z.Long);break;default:return null}return tt[t]=e,e}(t);c+=e?e(o,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Q(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Y(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case B.FullYear:return e.getFullYear();case B.Month:return e.getMonth();case B.Date:return e.getDate();case B.Hours:return e.getHours();case B.Minutes:return e.getMinutes();case B.Seconds:return e.getSeconds();case B.FractionalSeconds:return e.getMilliseconds();case B.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===B.Hours)0===a&&-12===n&&(a=12);else if(t===B.FractionalSeconds)return u=e,Q(a,3).substr(0,u);var u;const c=L(s,N.MinusSign);return Q(a,e,c,r,i)}}function X(t,e,n=j.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case G.Months:return function(t,e,n){const i=Object(r.yb)(t),o=U([i[r.bb.MonthsFormat],i[r.bb.MonthsStandalone]],e);return U(o,n)}(e,o,i)[t.getMonth()];case G.Days:return function(t,e,n){const i=Object(r.yb)(t),o=U([i[r.bb.DaysFormat],i[r.bb.DaysStandalone]],e);return U(o,n)}(e,o,i)[t.getDay()];case G.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.yb)(t);return F(e),(e[r.bb.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const i=Object(r.yb)(t);F(i);const o=U([i[r.bb.ExtraData][0],i[r.bb.ExtraData][1]],e)||[];return U(o,n)||[]}(e,o,i);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:o,minutes:c}=t[1];a>=r&&u>=i&&(a<o||a===o&&u<c)&&(s=n[e])}else{const{hours:r,minutes:i}=t;r===a&&i===u&&(s=n[e])}}),s)return s}return function(t,e,n){const i=Object(r.yb)(t),o=U([i[r.bb.DayPeriodsFormat],i[r.bb.DayPeriodsStandalone]],e);return U(o,n)}(e,o,i)[a<12?0:1];case G.Eras:return function(t,e){return U(Object(r.yb)(t)[r.bb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function Z(t){return function(e,n,r){const i=-1*r,o=L(n,N.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case z.Short:return(i>=0?"+":"")+Q(s,2,o)+Q(Math.abs(i%60),2,o);case z.ShortGMT:return"GMT"+(i>=0?"+":"")+Q(s,1,o);case z.Long:return"GMT"+(i>=0?"+":"")+Q(s,2,o)+":"+Q(Math.abs(i%60),2,o);case z.Extended:return 0===r?"Z":(i>=0?"+":"")+Q(s,2,o)+":"+Q(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Q(i,t,L(r,N.MinusSign))}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}const rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function it(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ot{}class st extends ot{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(M(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}function at(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class ut{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ct{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ut(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new lt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new lt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class lt{constructor(t,e){this.record=t,this.view=e}}class ht{constructor(t,e){this._viewContainer=t,this._context=new dt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ft("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ft("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}class dt{constructor(){this.$implicit=null,this.ngIf=null}}function ft(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Vb)(e)}'.`)}class pt{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}function gt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Vb)(t)}'`)}class vt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class mt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const yt=new mt,bt=new vt;class _t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.Ib)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.R.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Object(r.Hb)(t))return yt;if(Object(r.Gb)(t))return bt;throw gt(_t,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class wt{transform(t){if(!t)return t;if("string"!=typeof t)throw gt(wt,t);return t.toLowerCase()}}class Et{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return W(t,e,r||this.locale,n)}catch(i){throw gt(Et,i.message)}}}class Ot{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(t,e,n="symbol",i,o){if(function(t){return null==t||""===t||t!=t}(t))return null;o=o||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=e||this._defaultCurrencyCode;"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?function(t,e,n="en"){const i=function(t){return Object(r.yb)(t)[r.bb.Currencies]}(n)[t]||T[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}(s,"symbol"===n?"wide":"narrow",o):n);try{return function(t,e,n,i,o){const s=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.yb)(t)[r.bb.NumberFormats][e]}(e,I.Currency),L(e,N.MinusSign));return s.minFrac=function(t){let e;const n=T[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),s.maxFrac=s.minFrac,function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(rt);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=it(e)),null!=n&&(h=it(n)),null!=r?d=it(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let v=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?v=f.splice(p,f.length):(v=f,f=[0]);const m=[];for(f.length>=e.lgSize&&m.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)m.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&m.unshift(f.join("")),a=m.join(L(n,r)),v.length&&(a+=L(n,i)+v.join("")),g&&(a+=L(n,N.Exponential)+"+"+g)}else a=L(n,N.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,s,e,N.CurrencyGroup,N.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(t),o,s,e,i)}catch(a){throw gt(Ot,a.message)}}}class Ct{}const St="browser";function Tt(t){return t===St}function It(t){return"server"===t}let xt=(()=>{class t{}return t.\u0275prov=Object(r.ac)({token:t,providedIn:"root",factory:()=>new jt(Object(r.bc)(u),window,Object(r.bc)(r.m))}),t})();class jt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(()=>new r.a))}},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),s=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=o.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new s.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class l{constructor(t,e){this.time=t,this.value=e}}function h(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(l){let h;s++,!i||a?(a=!1,i=new c(t,e,r),h=i.subscribe(this),o=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):h=i.subscribe(this),this.add(()=>{s--,h.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}},VRCc:function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return O})),n.d(e,"h",(function(){return b}));var r=n("8Y7J"),i=n("XNiG"),o=n("LRne"),s=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),d=n("UXun"),f=n("SxV6"),p=n("aGrj"),g=n("tf+s"),v=n("pLZG"),m=n("jmUF"),y=n("SVse");const b=new r.q("angularfire2.auth.use-emulator"),_=new r.q("angularfire2.auth.settings"),w=new r.q("angularfire2.auth.tenant-id"),E=new r.q("angularfire2.auth.langugage-code"),O=new r.q("angularfire2.auth.use-device-language"),C=new r.q("angularfire.auth.persistence");let S=(()=>{class t{constructor(t,e,r,b,_,w,E,O,C,S){const T=new m.e(b),I=Object(m.i)(T),x=new i.a,j=Object(o.a)(void 0).pipe(Object(c.b)(T.outsideAngular),Object(l.a)(()=>b.runOutsideAngular(()=>n.e(2).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(m.h)(t,b,e)),Object(h.a)(t=>b.runOutsideAngular(()=>{const e=_,n=w;return Object(m.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=b.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),E&&(r.tenantId=E),r.languageCode=O,C&&r.useDeviceLanguage(),n&&(r.settings=n),S&&r.setPersistence(S),r},[e,E,O,C,n,S])})),Object(d.a)({bufferSize:1,refCount:!1}));if(Object(y.v)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(o.a)(null);else{j.pipe(Object(f.a)()).subscribe();const t=j.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),I,Object(d.a)({bufferSize:1,refCount:!1})),e=t=>new s.a(e=>({unsubscribe:b.runOutsideAngular(()=>t(e))})),n=j.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=j.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Object(p.a)(n),Object(g.a)(T.outsideAngular),Object(c.b)(T.insideAngular)),this.user=t.pipe(Object(p.a)(r),Object(g.a)(T.outsideAngular),Object(c.b)(T.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(o.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(o.a)(null))),this.credential=Object(u.a)(t,x,this.authState.pipe(Object(v.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(g.a)(T.outsideAngular),Object(c.b)(T.insideAngular))}return Object(m.j)(this,j,b,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>x.next(t))}}})}}return t.\u0275prov=Object(r.ac)({factory:function(){return new t(Object(r.bc)(m.c),Object(r.bc)(m.b,8),Object(r.bc)(r.B),Object(r.bc)(r.z),Object(r.bc)(b,8),Object(r.bc)(_,8),Object(r.bc)(w,8),Object(r.bc)(E,8),Object(r.bc)(O,8),Object(r.bc)(C,8))},token:t,providedIn:"any"}),t})();class T{}},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},"X+KH":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("8Y7J"),i=n("xgBC");let o=(()=>{class t{constructor(t){this.storage=t,this.favorites=[],this.HAS_LOGGED_IN="hasLoggedIn",this.HAS_SEEN_TUTORIAL="hasSeenTutorial"}hasFavorite(t){return this.favorites.indexOf(t)>-1}addFavorite(t){this.favorites.push(t)}removeFavorite(t){const e=this.favorites.indexOf(t);e>-1&&this.favorites.splice(e,1)}login(t){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(t),window.dispatchEvent(new CustomEvent("user:login"))))}signup(t){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(t),window.dispatchEvent(new CustomEvent("user:signup"))))}logout(){return this.storage.remove(this.HAS_LOGGED_IN).then(()=>this.storage.remove("username")).then(()=>{window.dispatchEvent(new CustomEvent("user:logout"))})}setUsername(t){return this.storage.set("username",t)}getUsername(){return this.storage.get("username").then(t=>t)}isLoggedIn(){return this.storage.get(this.HAS_LOGGED_IN).then(t=>!0===t)}checkHasSeenTutorial(){return this.storage.get(this.HAS_SEEN_TUTORIAL).then(t=>t)}}return t.\u0275prov=r.ac({factory:function(){return new t(r.bc(i.b))},token:t,providedIn:"root"}),t})()},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},"Y/li":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("Zgba"),i=n("z1RL"),o=n("8RMS");const s=t=>Object(i.a)().duration(t?400:300),a=t=>{let e,n;const o=t.width+8,a=Object(i.a)(),u=Object(i.a)();t.isEndSide?(e=o+"px",n="0px"):(e=-o+"px",n="0px"),a.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${n})`);const c="ios"===Object(r.b)(t),l=c?.2:.25;return u.addElement(t.backdropEl).fromTo("opacity",.01,l),s(c).addAnimation([a,u])},u=t=>{let e,n;const o=Object(r.b)(t),a=t.width;t.isEndSide?(e=-a+"px",n=a+"px"):(e=a+"px",n=-a+"px");const u=Object(i.a)().addElement(t.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),c=Object(i.a)().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),l=Object(i.a)().addElement(t.backdropEl).fromTo("opacity",.01,.32);return s("ios"===o).addAnimation([u,c,l])},c=t=>{const e=Object(r.b)(t),n=t.width*(t.isEndSide?-1:1)+"px",o=Object(i.a)().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return s("ios"===e).addAnimation(o)},l=(()=>{const t=new Map,e=[],n=async t=>(await f(),"start"===t||"end"===t?d(e=>e.side===t&&!e.disabled)||d(e=>e.side===t):null!=t?d(e=>e.menuId===t):d(t=>!t.disabled)||(e.length>0?e[0].el:void 0)),r=async()=>(await f(),l()),i=(e,n)=>{t.set(e,n)},s=t=>{const n=t.side;e.filter(e=>e.side===n&&e!==t).forEach(t=>t.disabled=!0)},l=()=>d(t=>t._isOpen),h=()=>e.some(t=>t.isAnimating),d=t=>{const n=e.find(t);if(void 0!==n)return n.el},f=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(t=>t.componentOnReady()));return i("reveal",c),i("push",u),i("overlay",a),"undefined"!=typeof document&&document.addEventListener("ionBackButton",t=>{const e=l();e&&t.detail.register(o.MENU_BACK_BUTTON_PRIORITY,()=>e.close())}),{registerAnimation:i,get:n,getMenus:async()=>(await f(),e.map(t=>t.el)),getOpen:r,isEnabled:async t=>{const e=await n(t);return!!e&&!e.disabled},swipeGesture:async(t,e)=>{const r=await n(e);return r&&(r.swipeGesture=t),r},isAnimating:async()=>(await f(),h()),isOpen:async t=>{if(null!=t){const e=await n(t);return void 0!==e&&e.isOpen()}return void 0!==await r()},enable:async(t,e)=>{const r=await n(e);return r&&(r.disabled=!t),r},toggle:async t=>{const e=await n(t);return!!e&&e.toggle()},close:async t=>{const e=await(void 0!==t?n(t):r());return void 0!==e&&e.close()},open:async t=>{const e=await n(t);return!!e&&e.open()},_getOpenSync:l,_createAnimation:(e,n)=>{const r=t.get(e);if(!r)throw new Error("animation not registered");return r(n)},_register:t=>{e.indexOf(t)<0&&(t.disabled||s(t),e.push(t))},_unregister:t=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_setOpen:async(t,e,n)=>{if(h())return!1;if(e){const e=await r();e&&t.el!==e&&await e.setOpen(!1,!1)}return t._setOpen(e,n)},_setActiveMenu:s}})()},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var o=n("SeVD"),s=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(o.a)(e)(a)}},Zgba:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o}));var r=n("A36C");const i=t=>s(t),o=(t,e)=>("string"==typeof t&&(e=t,t=void 0),i(t).includes(e)),s=(t=window)=>{if(void 0===t)return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=a(t),e.forEach(e=>t.document.documentElement.classList.add("plt-"+e))),e},a=t=>Object.keys(v).filter(e=>v[e](t)),u=t=>!!p(t,/iPad/i)||!(!p(t,/Macintosh/i)||!l(t)),c=t=>p(t,/android|sink/i),l=t=>g(t,"(any-pointer:coarse)"),h=t=>d(t)||f(t),d=t=>!!(t.cordova||t.phonegap||t.PhoneGap),f=t=>{const e=t.Capacitor;return!(!e||!e.isNative)},p=(t,e)=>e.test(t.navigator.userAgent),g=(t,e)=>t.matchMedia(e).matches,v={ipad:u,iphone:t=>p(t,/iPhone/i),ios:t=>p(t,/iPhone|iPod/i)||u(t),android:c,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return u(t)||(t=>c(t)&&!p(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:d,capacitor:f,electron:t=>p(t,/electron/i),pwa:t=>!(!t.matchMedia("(display-mode: standalone)").matches&&!t.navigator.standalone),mobile:l,mobileweb:t=>l(t)&&!h(t),desktop:t=>!l(t),hybrid:h};class m{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,e){const n=this.m.get(t);return void 0!==n?n:e}getBoolean(t,e=!1){const n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n}getNumber(t,e){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n}set(t,e){this.m.set(t,e)}}const y=new m;let b;const _=t=>t&&Object(r.i)(t)||b,w=()=>{const t=document,e=window,n=e.Ionic=e.Ionic||{};s(e);const i=Object.assign(Object.assign(Object.assign(Object.assign({},(t=>{try{const e=t.sessionStorage.getItem("ionic-persist-config");return null!==e?JSON.parse(e):{}}catch(e){return{}}})(e)),{persistConfig:!1}),n.config),(t=>{const e={};return t.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,e])=>[decodeURIComponent(t),decodeURIComponent(e)]).filter(([t])=>"ionic:"===t.substr(0,"ionic:".length)).map(([t,e])=>[t.slice("ionic:".length),e]).forEach(([t,n])=>{e[t]=n}),e})(e));y.reset(i),y.getBoolean("persistConfig")&&((t,e)=>{try{t.sessionStorage.setItem("ionic-persist-config",JSON.stringify(e))}catch(n){return}})(e,i),n.config=y,n.mode=b=y.get("mode",t.documentElement.getAttribute("mode")||(o(e,"ios")?"ios":"md")),y.set("mode",b),t.documentElement.setAttribute("mode",b),t.documentElement.classList.add(b),y.getBoolean("_testing")&&y.set("animated",!1);const a=t=>t.tagName&&t.tagName.startsWith("ION-"),u=t=>["ios","md"].includes(t);Object(r.p)(t=>{for(;t;){const e=t.mode||t.getAttribute("mode");if(e){if(u(e))return e;a(t)&&console.warn('Invalid ionic mode: "'+e+'", expected: "ios" or "md"')}t=t.parentElement}return b})}},a3Cf:function(t,e,n){"use strict";var r=n("HPGL"),i=n("Lq6m");n.d(e,"IonicNativePlugin",(function(){return i.a}));var o=n("KOl+");n.d(e,"instanceAvailability",(function(){return o.c}));var s=n("xSm1");n.d(e,"cordova",(function(){return s.a})),n("hKQe");var a=n("Rt+L");n.d(e,"cordovaInstance",(function(){return a.a}));var u=n("pxS/");n.d(e,"cordovaPropertyGet",(function(){return u.a})),n.d(e,"cordovaPropertySet",(function(){return u.b})),n("Ji5e"),n("4pTB"),Object(r.a)()},aGrj:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("eIep");function i(t,e){return e?Object(r.a)(()=>t,e):Object(r.a)(()=>t)}},bC4P:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(t,e,n,r,s)=>o(t[1],e[1],n[1],r[1],s).map(o=>i(t[0],e[0],n[0],r[0],o)),i=(t,e,n,r,i)=>i*(3*e*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-t*Math.pow(i-1,3),o=(t,e,n,r,i)=>s((r-=i)-3*(n-=i)+3*(e-=i)-(t-=i),3*n-6*e+3*t,3*e-3*t,t).filter(t=>t>=0&&t<=1),s=(t,e,n,r)=>{if(0===t)return((t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]})(e,n,r);const i=(3*(n/=t)-(e/=t)*e)/3,o=(2*e*e*e-9*e*n+27*(r/=t))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];const s=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===s)return[Math.pow(o/2,.5)-e/3];if(s>0)return[Math.pow(-o/2+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-i/3,3)),u=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(u/3)-e/3,c*Math.cos((u+2*Math.PI)/3)-e/3,c*Math.cos((u+4*Math.PI)/3)-e/3]}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},hKQe:function(t,e,n){"use strict";n("HDdC"),n("KOl+")},hT2b:function(t,e,n){"use strict";n.r(e),n.d(e,"mdTransitionAnimation",(function(){return o})),n("A36C"),n("QPqR");var r=n("z1RL"),i=n("jRcJ");const o=(t,e)=>{const n="back"===e.direction,o=e.enteringEl,s=e.leavingEl,a=Object(i.g)(o),u=a.querySelector("ion-toolbar"),c=Object(r.a)();if(c.addElement(a).fill("both").beforeRemoveClass("ion-page-invisible"),n?c.duration(e.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration(e.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),u){const t=Object(r.a)();t.addElement(u),c.addAnimation(t)}if(s&&n){c.duration(e.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const t=Object(r.a)();t.addElement(Object(i.g)(s)).onFinish(e=>{1===e&&t.elements.length>0&&t.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),c.addAnimation(t)}return c}},iInd:function(t,e,n){"use strict";n.d(e,"a",(function(){return Zt})),n.d(e,"b",(function(){return gn})),n.d(e,"c",(function(){return At})),n.d(e,"d",(function(){return B})),n.d(e,"e",(function(){return _n})),n.d(e,"f",(function(){return ut})),n.d(e,"g",(function(){return bn})),n.d(e,"h",(function(){return yn})),n.d(e,"i",(function(){return On})),n.d(e,"j",(function(){return Mn})),n.d(e,"k",(function(){return en})),n.d(e,"l",(function(){return Je})),n.d(e,"m",(function(){return cn})),n.d(e,"n",(function(){return ln})),n.d(e,"o",(function(){return fn})),n.d(e,"p",(function(){return hn})),n.d(e,"q",(function(){return In})),n.d(e,"r",(function(){return vn})),n.d(e,"s",(function(){return wn})),n.d(e,"t",(function(){return rn})),n.d(e,"u",(function(){return kt})),n.d(e,"v",(function(){return Cn})),n.d(e,"w",(function(){return Tn})),n.d(e,"x",(function(){return xn})),n.d(e,"y",(function(){return jn})),n.d(e,"z",(function(){return kn})),n.d(e,"A",(function(){return Nn})),n.d(e,"B",(function(){return Rn})),n.d(e,"C",(function(){return Pn})),n.d(e,"D",(function(){return Dn})),n.d(e,"E",(function(){return Ln})),n.d(e,"F",(function(){return at})),n.d(e,"G",(function(){return En}));var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),u=n("HDdC"),c=n("sVev"),l=n("z+Ro"),h=n("DH7j"),d=n("l7GE"),f=n("ZUHj"),p=n("yCtX");const g={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new m(t,this.resultSelector))}}class m extends d.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(g),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(f.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===g?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var y=n("NXyV"),b=n("XNiG"),_=n("EY2u"),w=n("lJxs"),E=n("0EUg"),O=n("pLZG"),C=n("BFxc"),S=n("XDbj"),T=n("xbPD"),I=n("SpAZ");function x(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(O.a)((e,n)=>t(e,n,r)):I.a,Object(C.a)(1),n?Object(T.a)(e):Object(S.a)(()=>new c.a))}var j=n("JIr8"),k=n("SxV6"),A=n("5+tZ"),N=n("7o/Q");class R{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new P(t,this.predicate,this.thisArg,this.source))}}class P extends N.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var D=n("eIep"),L=n("IzEk"),M=n("JX91"),F=n("Kqap"),U=n("bOdf"),V=n("128B"),$=n("vkgz"),q=n("nYR2"),H=n("bHdf");class z{constructor(t,e){this.id=t,this.url=e}}class B extends z{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G extends z{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class W extends z{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class K extends z{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q extends z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends z{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z extends z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class et{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nt{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class at{}const ut="primary";class ct{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lt(t){return new ct(t)}function ht(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function dt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class ft{constructor(t,e){this.routes=t,this.module=e}}function pt(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];gt(r,vt(e,r))}}function gt(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==ut)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&pt(t.children,e)}function vt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function mt(t){const e=t.children&&t.children.map(mt),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=at),n}function yt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bt(t[i],e[i]))return!1;return!0}function bt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function _t(t){return Array.prototype.concat.apply([],t)}function wt(t){return t.length>0?t[t.length-1]:null}function Et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ot(t){return Object(i.Gb)(t)?t:Object(i.Hb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function Ct(t,e,n){return n?function(t,e){return yt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!xt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bt(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!xt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!xt(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!xt(n.segments,t)&&!!n.children[ut]&&e(n.children[ut],r,o)}}(e,n,n.segments)}(t.root,e.root)}class St{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return Nt.serialize(this)}}class Tt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Et(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rt(this)}}class It{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}toString(){return Ut(this)}}function xt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function jt(t,e){let n=[];return Et(t.children,(t,r)=>{r===ut&&(n=n.concat(e(t,r)))}),Et(t.children,(t,r)=>{r!==ut&&(n=n.concat(e(t,r)))}),n}class kt{}class At{parse(t){const e=new zt(t);return new St(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Rt(e);if(n){const n=e.children[ut]?t(e.children[ut],!1):"",r=[];return Et(e.children,(e,n)=>{n!==ut&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=jt(e,(n,r)=>r===ut?[t(e.children[ut],!1)]:[`${r}:${t(n,!1)}`]);return`${Rt(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Dt(e)}=${Dt(t)}`).join("&"):`${Dt(e)}=${Dt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Nt=new At;function Rt(t){return t.segments.map(t=>Ut(t)).join("/")}function Pt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(t){return Pt(t).replace(/%3B/gi,";")}function Lt(t){return Pt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(t){return decodeURIComponent(t)}function Ft(t){return Mt(t.replace(/\+/g,"%20"))}function Ut(t){return`${Lt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Lt(t)}=${Lt(e[t])}`).join("")}`;var e}const Vt=/^[^\/()?;=#]+/;function $t(t){const e=t.match(Vt);return e?e[0]:""}const qt=/^[^=?&#]+/,Ht=/^[^?&#]+/;class zt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ut]=new Tt(t,e)),n}parseSegment(){const t=$t(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new It(Mt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$t(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$t(this.remaining);t&&(n=t,this.capture(n))}t[Mt(e)]=Mt(n)}parseQueryParam(t){const e=function(t){const e=t.match(qt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ht);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ft(e),i=Ft(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$t(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ut);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[ut]:new Tt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Gt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Wt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Wt(t,this._root).map(t=>t.value)}}function Gt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Gt(t,n);if(e)return e}return null}function Wt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Wt(t,n);if(r.length)return r.unshift(e),r}return[]}class Kt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Yt extends Bt{constructor(t,e){super(t),this.snapshot=e,ne(this,t)}toString(){return this.snapshot.toString()}}function Xt(t,e){const n=function(t,e){const n=new te([],{},{},"",{},ut,e,null,t.root,-1,{});return new ee("",new Kt(n,[]))}(t,e),r=new a.a([new It("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new Zt(r,i,s,u,o,ut,e,n.root);return c.snapshot=n.root,new Yt(new Kt(c,[]),n)}class Zt{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(w.a)(t=>lt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(w.a)(t=>lt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class te{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ee extends Bt{constructor(t,e){super(e),this.url=t,ne(this,e)}toString(){return re(this._root)}}function ne(t,e){e.value._routerState=t,e.children.forEach(e=>ne(t,e))}function re(t){const e=t.children.length>0?` { ${t.children.map(re).join(", ")} } `:"";return`${t.value}${e}`}function ie(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function oe(t,e){var n,r;return yt(t.params,e.params)&&xt(n=t.url,r=e.url)&&n.every((t,e)=>yt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||oe(t.parent,e.parent))}function se(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ae(t,e,n,r,i){let o={};return r&&Et(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new St(n.root===t?e:function t(e,n,r){const i={};return Et(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Tt(e.segments,i)}(n.root,t,e),o,i)}class ue{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&se(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==wt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ce{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function le(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[ut]:""+t}function he(t,e,n){if(t||(t=new Tt([],{})),0===t.segments.length&&t.hasChildren())return de(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=le(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!ve(s,a,e))return o;r+=2}else{if(!ve(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Tt(t.segments.slice(0,r.pathIndex),{});return e.children[ut]=new Tt(t.segments.slice(r.pathIndex),t.children),de(e,0,i)}return r.match&&0===i.length?new Tt(t.segments,{}):r.match&&!t.hasChildren()?fe(t,e,n):r.match?de(t,0,i):fe(t,e,n)}function de(t,e,n){if(0===n.length)return new Tt(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[ut]:t}:void 0===t[0].outlets?{[ut]:t}:t[0].outlets}(n),i={};return Et(r,(n,r)=>{null!==n&&(i[r]=he(t.children[r],e,n))}),Et(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Tt(t.segments,i)}}function fe(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=pe(n[i].outlets);return new Tt(r,t)}if(0===i&&se(n[0])){r.push(new It(t.segments[e].path,n[0])),i++;continue}const o=le(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&se(s)?(r.push(new It(o,ge(s))),i+=2):(r.push(new It(o,{})),i++)}return new Tt(r,{})}function pe(t){const e={};return Et(t,(t,n)=>{null!==t&&(e[n]=fe(new Tt([],{}),0,t))}),e}function ge(t){const e={};return Et(t,(t,n)=>e[n]=""+t),e}function ve(t,e,n){return t==n.path&&yt(e,n.parameters)}class me{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ie(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Qt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Et(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Qt(t),i=t.value.component?n.children:e;Et(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Qt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ot(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ie(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ye(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ye(t){ie(t.value),t.children.forEach(ye)}function be(t){return"function"==typeof t}function _e(t){return t instanceof St}class we{constructor(t){this.segmentGroup=t||null}}class Ee{constructor(t){this.urlTree=t}}function Oe(t){return new u.a(e=>e.error(new we(t)))}function Ce(t){return new u.a(e=>e.error(new Ee(t)))}function Se(t){return new u.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Te{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ut).pipe(Object(w.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(j.a)(t=>{if(t instanceof Ee)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof we)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ut).pipe(Object(w.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(j.a)(t=>{if(t instanceof we)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Tt([],{[ut]:t}):t;return new St(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(w.a)(t=>new Tt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return Et(t,(t,o)=>{const s=e(o,t).pipe(Object(w.a)(t=>i[o]=t));o===ut?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(Object(E.a)(),x(),Object(w.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(o.a)(...n).pipe(Object(w.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,s).pipe(Object(j.a)(t=>{if(t instanceof we)return Object(o.a)(null);throw t}))),Object(E.a)(),Object(k.a)(t=>!!t),Object(j.a)((t,n)=>{if(t instanceof c.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new Tt([],{}));throw new we(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ke(r)!==o?Oe(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Oe(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ce(i):this.lineralizeSegments(n,i).pipe(Object(A.a)(n=>{const i=new Tt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ie(e,r,i);if(!s)return Oe(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ce(l):this.lineralizeSegments(r,l).pipe(Object(A.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(w.a)(t=>(n._loadedConfig=t,new Tt(r,{})))):Object(o.a)(new Tt(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=Ie(e,n,r);if(!i)return Oe(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(A.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>je(t,e,n)&&ke(n)!==ut)}(t,n,r)?{segmentGroup:xe(new Tt(e,function(t,e){const n={};n[ut]=e;for(const r of t)""===r.path&&ke(r)!==ut&&(n[ke(r)]=new Tt([],{}));return n}(r,new Tt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>je(t,e,n))}(t,n,r)?{segmentGroup:xe(new Tt(t.segments,function(t,e,n,r){const i={};for(const o of n)je(t,e,o)&&!r[ke(o)]&&(i[ke(o)]=new Tt([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(w.a)(t=>new Tt(s,t))):0===r.length&&0===a.length?Object(o.a)(new Tt(s,{})):this.expandSegment(n,i,r,a,ut,!0).pipe(Object(w.a)(t=>new Tt(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new ft(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(s.a)(r).pipe(Object(w.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&be(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!be(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ot(o)})).pipe(Object(E.a)(),(i=t=>!0===t,t=>t.lift(new R(i,void 0,t)))):Object(o.a)(!0);var i}(t.injector,e,n).pipe(Object(A.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(w.a)(t=>(e._loadedConfig=t,t))):function(t){return new u.a(e=>e.error(ht(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new ft([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children[ut])return Se(t.redirectTo);r=r.children[ut]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new St(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Et(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Et(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Tt(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ie(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||dt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function xe(t){if(1===t.numberOfChildren&&t.children[ut]){const e=t.children[ut];return new Tt(t.segments.concat(e.segments),e.children)}return t}function je(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ke(t){return t.outlet||ut}class Ae{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ne{constructor(t,e){this.component=t,this.route=e}}function Re(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qt(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xt(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oe(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!oe(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ae(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Ne(u&&u.outlet&&u.outlet.component||null,a))}else a&&De(n,u,o),o.canActivateChecks.push(new Ae(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Et(s,(t,e)=>De(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Pe(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function De(t,e,n){const r=Qt(t),i=t.value;Et(r,(t,r)=>{De(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ne(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Le=Symbol("INITIAL_VALUE");function Me(){return Object(D.a)(t=>function(...t){let e=void 0,n=void 0;return Object(l.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(h.a)(t[0])&&(t=t[0]),Object(p.a)(t,n).lift(new v(e))}(...t.map(t=>t.pipe(Object(L.a)(1),Object(M.a)(Le)))).pipe(Object(F.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Le)return t;if(r===Le&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||_e(r))return r}return t},t)},Le),Object(O.a)(t=>t!==Le),Object(w.a)(t=>_e(t)?t:!0===t),Object(L.a)(1)))}function Fe(t,e){return null!==t&&e&&e(new it(t)),Object(o.a)(!0)}function Ue(t,e){return null!==t&&e&&e(new nt(t)),Object(o.a)(!0)}function Ve(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>Object(y.a)(()=>{const i=Pe(r,e,n);let o;if(function(t){return t&&be(t.canActivate)}(i))o=Ot(i.canActivate(e,t));else{if(!be(i))throw new Error("Invalid CanActivate guard");o=Ot(i(e,t))}return o.pipe(Object(k.a)())}));return Object(o.a)(i).pipe(Me())}function $e(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(y.a)(()=>{const i=e.guards.map(i=>{const o=Pe(i,e.node,n);let s;if(function(t){return t&&be(t.canActivateChild)}(o))s=Ot(o.canActivateChild(r,t));else{if(!be(o))throw new Error("Invalid CanActivateChild guard");s=Ot(o(r,t))}return s.pipe(Object(k.a)())});return Object(o.a)(i).pipe(Me())}));return Object(o.a)(i).pipe(Me())}class qe{}class He{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ge(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ut),n=new te([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kt(n,e),i=new ee(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new u.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Jt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=jt(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===ut?-1:e.value.outlet===ut?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof qe))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new qe}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new qe;if((t.outlet||ut)!==r)throw new qe;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?wt(n).parameters:{};i=new te(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qe(t),r,t.component,t,ze(e),Be(e)+n.length,Ye(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new qe;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||dt)(n,t,e);if(!r)throw new qe;const i={};Et(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new te(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qe(t),r,t.component,t,ze(e),Be(e)+o.length,Ye(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ge(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Kt(i,t)]}if(0===a.length&&0===c.length)return[new Kt(i,[])];const l=this.processSegment(a,u,c,ut);return[new Kt(i,l)]}}function ze(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Be(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ge(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>We(t,e,n)&&Ke(n)!==ut)}(t,n,r)){const i=new Tt(e,function(t,e,n,r){const i={};i[ut]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ke(o)!==ut){const n=new Tt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ke(o)]=n}return i}(t,e,r,new Tt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>We(t,e,n))}(t,n,r)){const o=new Tt(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(We(t,n,a)&&!i[Ke(a)]){const n=new Tt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ke(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Tt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function We(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ke(t){return t.outlet||ut}function Qe(t){return t.data||{}}function Ye(t){return t.resolve||{}}function Xe(t,e,n,r){const i=Pe(t,e,r);return Ot(i.resolve?i.resolve(e,n):i(e,n))}function Ze(t){return function(e){return e.pipe(Object(D.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(w.a)(()=>e)):Object(s.a)([e])}))}}class Je{}class tn{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const en=new i.q("ROUTES");class nn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(w.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ft(_t(r.injector.get(en)).map(mt),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):Ot(t()).pipe(Object(A.a)(t=>t instanceof i.v?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class rn{}class on{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function sn(t){throw t}function an(t,e,n){return e.parse("/")}function un(t,e){return Object(o.a)(null)}class cn{constructor(t,e,n,r,o,s,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new b.a,this.errorHandler=sn,this.malformedUriErrorHandler=an,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:un,afterPreactivation:un},this.urlHandlingStrategy=new on,this.routeReuseStrategy=new tn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.x),this.console=o.get(i.Z);const l=o.get(i.z);this.isNgZoneEnabled=l instanceof i.z,this.resetConfig(c),this.currentUrlTree=new St(new Tt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nn(s,u,t=>this.triggerEvent(new tt(t)),t=>this.triggerEvent(new et(t))),this.routerState=Xt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(O.a)(t=>0!==t.id),Object(w.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(D.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object($.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(D.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(D.a)(t=>{const n=this.transitions.getValue();return e.next(new B(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?_.a:[t]}),Object(D.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(D.a)(t=>function(t,e,n,r,i){return new Te(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(w.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object($.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(A.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new He(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(w.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object($.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object($.a)(t=>{const n=new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new B(n,this.serializeUrl(r),i,s);e.next(u);const c=Xt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_.a}),Ze(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object($.a)(t=>{const e=new Y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(w.a)(t=>Object.assign(Object.assign({},t),{guards:Re(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(A.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(A.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=Pe(o,e,i);let a;if(function(t){return t&&be(t.canDeactivate)}(s))a=Ot(s.canDeactivate(t,e,n,r));else{if(!be(s))throw new Error("Invalid CanDeactivate guard");a=Ot(s(t,e,n,r))}return a.pipe(Object(k.a)())});return Object(o.a)(a).pipe(Me())}(t.component,t.route,n,e,r)),Object(k.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(A.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(U.a)(e=>Object(s.a)([Ue(e.route.parent,r),Fe(e.route,r),$e(t,e.path,n),Ve(t,e.route,n)]).pipe(Object(E.a)(),Object(k.a)(t=>!0!==t,!0))),Object(k.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(w.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object($.a)(t=>{if(_e(t.guardsResult)){const e=ht(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object($.a)(t=>{const e=new X(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(O.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new W(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ze(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object($.a)(t=>{const e=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(A.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(s.a)(i).pipe(Object(U.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});if(1===i.length){const o=i[0];return Xe(t[o],e,n,r).pipe(Object(w.a)(t=>({[o]:t})))}const a={};return Object(s.a)(i).pipe(Object(A.a)(i=>Xe(t[i],e,n,r).pipe(Object(w.a)(t=>(a[i]=t,t))))).pipe(x(),Object(w.a)(()=>a))}(t._resolve,t,e,r).pipe(Object(w.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Jt(t,n).resolve),null)))}(t.route,r,e,n)),Object(V.a)((t,e)=>t),Object(w.a)(e=>t)):Object(o.a)(t)}))}),Object($.a)(t=>{const e=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Ze(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(w.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Kt(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Zt(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Kt(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Yt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object($.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(w.a)(t=>(new me(u,t.targetRouterState,t.currentRouterState,c).activate(i),t))),Object($.a)({next(){n=!0},complete(){n=!0}}),Object(q.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new W(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(j.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=_e(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new W(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new K(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return _.a}));var i,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){pt(t),this.config=t.map(mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(i.V)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ae(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ue(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Et(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ue(n,e,r)}(n);if(o.toRoot())return ae(e.root,new Tt([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ce(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ce(n.snapshot._urlSegment,!0,0);const r=se(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ce(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?de(s.segmentGroup,s.index,o.commands):he(s.segmentGroup,s.index,o.commands);return ae(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.V)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=_e(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(_e(t))return Ct(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ct(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class ln{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:dn(this.skipLocationChange),replaceUrl:dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dn(this.preserveFragment)})}}class hn{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof G&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:dn(this.skipLocationChange),replaceUrl:dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dn(this.preserveFragment)})}}function dn(t){return""===t||!!t}class fn{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof G&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class pn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gn,this.attachRef=null}}class gn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new pn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class vn{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class mn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Zt?this.route:t===gn?this.childContexts:this.parent.get(t,e)}}class yn{}class bn{preload(t,e){return e().pipe(Object(j.a)(()=>Object(o.a)(null)))}}class _n{preload(t,e){return Object(o.a)(null)}}class wn{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new nn(e,n,e=>t.triggerEvent(new tt(e)),e=>t.triggerEvent(new et(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(O.a)(t=>t instanceof G),Object(U.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(H.a)(),Object(w.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(A.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class En{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof B?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof st&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new st(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const On=new i.q("ROUTER_CONFIGURATION"),Cn=new i.q("ROUTER_FORROOT_GUARD"),Sn=[r.i,{provide:kt,useClass:At},{provide:cn,useFactory:Nn,deps:[kt,gn,r.i,i.r,i.w,i.i,en,On,[rn,new i.A],[Je,new i.A]]},gn,{provide:Zt,useFactory:Rn,deps:[cn]},{provide:i.w,useClass:i.J},wn,_n,bn,{provide:On,useValue:{enableTracing:!1}}];function Tn(){return new i.y("Router",cn)}class In{constructor(t,e){}static forRoot(t,e){return{ngModule:In,providers:[Sn,An(t),{provide:Cn,useFactory:kn,deps:[[cn,new i.A,new i.I]]},{provide:On,useValue:e||{}},{provide:r.j,useFactory:jn,deps:[r.r,[new i.p(r.a),new i.A],On]},{provide:En,useFactory:xn,deps:[cn,r.s,On]},{provide:yn,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:_n},{provide:i.y,multi:!0,useFactory:Tn},[Pn,{provide:i.d,multi:!0,useFactory:Dn,deps:[Pn]},{provide:Mn,useFactory:Ln,deps:[Pn]},{provide:i.b,multi:!0,useExisting:Mn}]]}}static forChild(t){return{ngModule:In,providers:[An(t)]}}}function xn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new En(t,e,n)}function jn(t,e,n={}){return n.useHash?new r.g(t,e):new r.q(t,e)}function kn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function An(t){return[{provide:i.a,multi:!0,useValue:t},{provide:en,multi:!0,useValue:t}]}function Nn(t,e,n,i,o,s,a,u={},c,l){const h=new cn(null,t,e,n,i,o,s,_t(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(r.y)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Rn(t){return t.routerState.root}class Pn{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new b.a}appInitializer(){return this.injector.get(r.h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(cn),r=this.injector.get(On);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(On),n=this.injector.get(wn),r=this.injector.get(En),o=this.injector.get(cn),s=this.injector.get(i.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Dn(t){return t.appInitializer.bind(t)}function Ln(t){return t.bootstrapListener.bind(t)}const Mn=new i.q("Router Initializer")},iWo5:function(t,e,n){"use strict";n.r(e),n.d(e,"createGesture",(function(){return u}));var r=n("y08P");n.d(e,"GESTURE_CONTROLLER",(function(){return r.a}));const i=(t,e,n,r)=>{const i=o(t)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let s,a;return t.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(s="addEventListener",a="removeEventListener"),t[s](e,n,i),()=>{t[a](e,n,i)}},o=t=>{if(void 0===s)try{const e=Object.defineProperty({},"passive",{get:()=>{s=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){s=!1}return!!s};let s;const a=t=>t instanceof Document?t:t.ownerDocument,u=t=>{let e=!1,n=!1,o=!0,s=!1;const u=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),d=u.canStart,f=u.onWillStart,p=u.onStart,g=u.onEnd,v=u.notCaptured,m=u.onMove,y=u.threshold,b=u.passive,_=u.blurOnStart,w={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},E=((t,e,n)=>{const r=n*(Math.PI/180),i="x"===t,o=Math.cos(r),s=e*e;let a=0,u=0,c=!1,l=0;return{start(t,e){a=t,u=e,l=0,c=!0},detect(t,e){if(!c)return!1;const n=t-a,r=e-u,h=n*n+r*r;if(h<s)return!1;const d=Math.sqrt(h),f=(i?n:r)/d;return l=f>o?1:f<-o?-1:0,c=!1,!0},isGesture:()=>0!==l,getDirection:()=>l}})(u.direction,u.threshold,u.maxAngle),O=r.a.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),C=()=>{e&&(s=!1,m&&m(w))},S=()=>!(O&&!O.capture()||(e=!0,o=!1,w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime,f?f(w).then(T):T(),0)),T=()=>{_&&(()=>{if("undefined"!=typeof document){const t=document.activeElement;null!==t&&t.blur&&t.blur()}})(),p&&p(w),o=!0},I=()=>{e=!1,n=!1,s=!1,o=!0,O.release()},x=t=>{const n=e,r=o;I(),r&&(c(w,t),n?g&&g(w):v&&v(w))},j=((t,e,n,r,o)=>{let s,u,c,l,h,d,f,p=0;const g=r=>{p=Date.now()+2e3,e(r)&&(!u&&n&&(u=i(t,"touchmove",n,o)),c||(c=i(t,"touchend",m,o)),l||(l=i(t,"touchcancel",m,o)))},v=r=>{p>Date.now()||e(r)&&(!d&&n&&(d=i(a(t),"mousemove",n,o)),f||(f=i(a(t),"mouseup",y,o)))},m=t=>{b(),r&&r(t)},y=t=>{_(),r&&r(t)},b=()=>{u&&u(),c&&c(),l&&l(),u=c=l=void 0},_=()=>{d&&d(),f&&f(),d=f=void 0},w=()=>{b(),_()},E=(e=!0)=>{e?(s||(s=i(t,"touchstart",g,o)),h||(h=i(t,"mousedown",v,o))):(s&&s(),h&&h(),s=h=void 0,w())};return{enable:E,stop:w,destroy:()=>{E(!1),r=n=e=void 0}}})(u.el,t=>{const e=h(t);return!(n||!o)&&(l(t,w),w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime=e,w.velocityX=w.velocityY=w.deltaX=w.deltaY=0,w.event=t,(!d||!1!==d(w))&&(O.release(),!!O.start()&&(n=!0,0===y?S():(E.start(w.startX,w.startY),!0))))},t=>{e?!s&&o&&(s=!0,c(w,t),requestAnimationFrame(C)):(c(w,t),E.detect(w.currentX,w.currentY)&&(E.isGesture()&&S()||k()))},x,{capture:!1,passive:b}),k=()=>{I(),j.stop(),v&&v(w)};return{enable(t=!0){t||(e&&x(void 0),I()),j.enable(t)},destroy(){O.destroy(),j.destroy()}}},c=(t,e)=>{if(!e)return;const n=t.currentX,r=t.currentY,i=t.currentTime;l(e,t);const o=t.currentX,s=t.currentY,a=(t.currentTime=h(e))-i;if(a>0&&a<100){const e=(s-r)/a;t.velocityX=(o-n)/a*.7+.3*t.velocityX,t.velocityY=.7*e+.3*t.velocityY}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e},l=(t,e)=>{let n=0,r=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];n=t.clientX,r=t.clientY}else void 0!==t.pageX&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r},h=t=>t.timeStamp||Date.now()},jRcJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return C})),n.d(e,"j",(function(){return c}));var r=n("A36C");const i="ionViewWillEnter",o="ionViewDidEnter",s="ionViewWillLeave",a="ionViewDidLeave",u="ionViewWillUnload",c=t=>new Promise((e,n)=>{Object(r.f)(()=>{l(t),h(t).then(n=>{n.animation&&n.animation.destroy(),d(t),e(n)},e=>{d(t),n(e)})})}),l=t=>{const e=t.enteringEl,n=t.leavingEl;S(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),C(e,!1),n&&C(n,!1)},h=async t=>{const e=await f(t);return e&&r.a.isBrowser?p(e,t):g(t)},d=t=>{const e=t.leavingEl;t.enteringEl.classList.remove("ion-page-invisible"),void 0!==e&&e.classList.remove("ion-page-invisible")},f=async t=>{if(t.leavingEl&&t.animated&&0!==t.duration)return t.animationBuilder?t.animationBuilder:"ios"===t.mode?(await Promise.resolve().then(n.bind(null,"teYp"))).iosTransitionAnimation:(await Promise.resolve().then(n.bind(null,"hT2b"))).mdTransitionAnimation},p=async(t,e)=>{await v(e,!0);const n=t(e.baseEl,e);b(e.enteringEl,e.leavingEl);const r=await y(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&_(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},g=async t=>{const e=t.enteringEl,n=t.leavingEl;return await v(t,!1),b(e,n),_(e,n),{hasCompleted:!0}},v=async(t,e)=>{const n=(void 0!==t.deepWait?t.deepWait:e)?[O(t.enteringEl),O(t.leavingEl)]:[E(t.enteringEl),E(t.leavingEl)];await Promise.all(n),await m(t.viewIsReady,t.enteringEl)},m=async(t,e)=>{t&&await t(e)},y=(t,e)=>{const n=e.progressCallback,r=new Promise(e=>{t.onFinish(t=>e(1===t))});return n?(t.progressStart(!0),n(t)):t.play(),r},b=(t,e)=>{w(e,s),w(t,i)},_=(t,e)=>{w(t,o),w(e,a)},w=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},E=t=>t&&t.componentOnReady?t.componentOnReady():Promise.resolve(),O=async t=>{const e=t;if(e){if(null!=e.componentOnReady&&null!=await e.componentOnReady())return;await Promise.all(Array.from(e.children).map(O))}},C=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},S=(t,e,n)=>{void 0!==t&&(t.style.zIndex="back"===n?"99":"101"),void 0!==e&&(e.style.zIndex="100")},T=t=>t.classList.contains("ion-page")?t:t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||t},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return v})),n.d(e,"k",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("8Y7J"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig");class _{}const w=new u.O("6.1.4");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);class T{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(t,e){return{ngModule:T,providers:[{provide:y,useValue:t},{provide:b,useValue:e}]}}}}).call(this,n("3UD+")(t))},jphQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return a})),n.d(e,"j",(function(){return k})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return N})),n.d(e,"o",(function(){return g}));var r=n("Zgba"),i=n("QPqR"),o=n("8RMS");let s=0;const a=new WeakMap,u=t=>({create:e=>m(t,e),dismiss:(e,n,r)=>w(document,e,n,t,r),getTop:async()=>E(document,t)}),c=u("ion-alert"),l=u("ion-action-sheet"),h=u("ion-loading"),d=u("ion-modal"),f=u("ion-picker"),p=u("ion-popover"),g=u("ion-toast"),v=t=>{"undefined"!=typeof document&&_(document);const e=s++;t.overlayIndex=e,t.hasAttribute("id")||(t.id="ion-overlay-"+e)},m=(t,e)=>"undefined"!=typeof customElements?customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,e),T(document).appendChild(n),n.componentOnReady()}):Promise.resolve(),y='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',b="input:not([type=hidden]), textarea, button, select",_=t=>{0===s&&(s=1,t.addEventListener("focus",e=>((t,e)=>{const n=E(e),r=t.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{const t=Object(i.g)(n);if(!t.contains(r))return;const o=t.querySelector(".ion-overlay-wrapper");if(!o)return;if(o.contains(r))n.lastFocus=r;else{const t=n.lastFocus;((t,e)=>{let n=t.querySelector(y);const r=n&&n.shadowRoot;r&&(n=r.querySelector(b)||n),n?n.focus():e.focus()})(o,n),t===e.activeElement&&((t,e)=>{const n=Array.from(t.querySelectorAll(y));let r=n.length>0?n[n.length-1]:null;const i=r&&r.shadowRoot;i&&(r=i.querySelector(b)||r),r?r.focus():e.focus()})(o,n),n.lastFocus=e.activeElement}}})(e,t),!0),t.addEventListener("ionBackButton",e=>{const n=E(t);n&&n.backdropDismiss&&e.detail.register(o.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,R))}),t.addEventListener("keyup",e=>{if("Escape"===e.key){const e=E(t);e&&e.backdropDismiss&&e.dismiss(void 0,R)}}))},w=(t,e,n,r,i)=>{const o=E(t,r,i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},E=(t,e,n)=>{const r=((t,e)=>(void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(t=>t.overlayIndex>0)))(t,e);return void 0===n?r[r.length-1]:r.find(t=>t.id===n)},O=async(t,e,n,i,o)=>{if(t.presented)return;t.presented=!0,t.willPresent.emit();const s=Object(r.b)(t),a=t.enterAnimation?t.enterAnimation:r.c.get(e,"ios"===s?n:i);await I(t,a,t.el,o)&&t.didPresent.emit(),"ION-TOAST"!==t.el.tagName&&C(t.el),t.keyboardClose&&t.el.focus()},C=async t=>{let e=document.activeElement;if(!e)return;const n=e&&e.shadowRoot;n&&(e=n.querySelector(b)||e),await t.onDidDismiss(),e.focus()},S=async(t,e,n,i,o,s,u)=>{if(!t.presented)return!1;t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n});const c=Object(r.b)(t),l=t.leaveAnimation?t.leaveAnimation:r.c.get(i,"ios"===c?o:s);"gesture"!==n&&await I(t,l,t.el,u),t.didDismiss.emit({data:e,role:n}),a.delete(t)}catch(c){console.error(c)}return t.el.remove(),!0},T=t=>t.querySelector("ion-app")||t.body,I=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const o=e(n.shadowRoot||t.el,i);t.animated&&r.c.getBoolean("animated",!0)||o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const t=n.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()});const s=a.get(t)||[];return a.set(t,[...s,o]),await o.play(),!0},x=(t,e)=>{let n;const r=new Promise(t=>n=t);return j(t,e,t=>{n(t.detail)}),r},j=(t,e,n)=>{const r=o=>{Object(i.b)(t,e,r),n(o)};Object(i.a)(t,e,r)},k=t=>"cancel"===t||t===R,A=t=>t(),N=(t,e)=>{if("function"==typeof t)return r.c.get("_zoneGate",A)(()=>{try{return t(e)}catch(n){console.error(n)}})},R="backdrop"},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kLfG:function(t,e,n){var r={"./ion-action-sheet.entry.js":["dUtr",0,30],"./ion-alert.entry.js":["Q8AI",0,31],"./ion-app_8.entry.js":["hgI1",0,32],"./ion-avatar_3.entry.js":["CfoV",0,33],"./ion-back-button.entry.js":["Nt02",0,34],"./ion-backdrop.entry.js":["Q2Bp",35],"./ion-button_2.entry.js":["0Pbj",0,36],"./ion-card_5.entry.js":["ydQj",0,37],"./ion-checkbox.entry.js":["4fMi",0,38],"./ion-chip.entry.js":["czK9",0,39],"./ion-col_3.entry.js":["/CAe",40],"./ion-datetime_3.entry.js":["WgF3",0,41],"./ion-fab_3.entry.js":["uQcF",0,42],"./ion-img.entry.js":["wHD8",43],"./ion-infinite-scroll_2.entry.js":["2lz6",44],"./ion-input.entry.js":["ercB",0,45],"./ion-item-option_3.entry.js":["MGMP",0,46],"./ion-item_8.entry.js":["9bur",0,47],"./ion-loading.entry.js":["cABk",0,48],"./ion-menu_3.entry.js":["kyFE",0,49],"./ion-modal.entry.js":["TvZU",0,50],"./ion-nav_2.entry.js":["vnES",0,51],"./ion-popover.entry.js":["qCuA",0,52],"./ion-progress-bar.entry.js":["0tOe",0,53],"./ion-radio_2.entry.js":["h11V",0,54],"./ion-range.entry.js":["XGij",0,55],"./ion-refresher_2.entry.js":["nYbb",0,56],"./ion-reorder_2.entry.js":["smMY",0,57],"./ion-ripple-effect.entry.js":["STjf",58],"./ion-route_4.entry.js":["k5eQ",0,59],"./ion-searchbar.entry.js":["OR5t",0,60],"./ion-segment_2.entry.js":["fSgp",0,61],"./ion-select_3.entry.js":["lfGF",0,62],"./ion-slide_2.entry.js":["5xYT",63],"./ion-spinner.entry.js":["nI0H",0,64],"./ion-split-pane.entry.js":["NAQR",65],"./ion-tab-bar_2.entry.js":["knkW",0,66],"./ion-tab_2.entry.js":["TpdJ",0,67],"./ion-text.entry.js":["ISmu",0,68],"./ion-textarea.entry.js":["U7LX",0,69],"./ion-toast.entry.js":["L3sA",0,70],"./ion-toggle.entry.js":["IUOf",0,71],"./ion-virtual-scroll.entry.js":["8Mb5",72]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="kLfG",t.exports=i},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"j",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return f}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(t){return e=>e.lift(new s(t))}class s{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oAJy:function(t,e,n){t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,(function(t){return i(e[s][1][t]||t)}),c,c.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(l),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}e.exports=function(t){1!==c.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&f(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r((function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var s=p((function(){e(i,r)}));"error"===s.status&&r(s.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(d,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)f(t,r);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},c.reject=function(t){var e=new this(i);return o.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,u=-1,c=new this(i);++u<n;)l(t[u],u);return c;function l(t,i){e.resolve(t).then((function(t){s[i]=t,++a!==n||r||(r=!0,o.resolve(c,s))}),(function(t){r||(r=!0,o.reject(c,t))}))}},c.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r=-1,s=new this(i);++r<e;)this.resolve(t[r]).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));return s}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function c(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h=void 0,d={},f=Object.prototype.toString;function p(t){var e=d[t.name],n={};n.promise=new s((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady=e.dbReady?e.dbReady.then((function(){return n.promise})):n.promise}function g(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function v(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function m(t,e){return new s((function(n,r){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);p(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=i.open.apply(i,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore("local-forage-detect-blob-support")}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),g(t)}}))}function y(t){return m(t,!1)}function b(t){return m(t,!0)}function _(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function w(t){return o([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function O(t){var e=this,n=e._initReady().then((function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return u(n,t,t),n}function C(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),b(t)})).then((function(){return function(t){p(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,y(t).then((function(e){return t.db=e,_(t)?b(t):e})).then((function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(e){throw v(t,e),e}))}(t).then((function(){C(t,e,n,r-1)}))})).catch(n);n(o)}}var S={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=d[n.name];i||(d[n.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=O);var o=[];function a(){return s.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==e&&o.push(c._initReady().catch(a))}var l=i.forages.slice(0);return s.all(o).then((function(){return n.db=i.db,y(n)})).then((function(t){return n.db=t,_(n,e._defaultConfig.version)?b(n):t})).then((function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new s((function(e,r){n.ready().then((function(){C(n._dbInfo,"readonly",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;E(r)&&(r=w(r));var i=t(r,n.key,a++);void 0!==i?e(i):n.continue()}else e()},s.onerror=function(){r(s.error)}}catch(u){r(u)}}))})).catch(r)}));return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new s((function(e,r){n.ready().then((function(){C(n._dbInfo,"readonly",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),E(t)&&(t=w(t)),e(t)},s.onerror=function(){r(s.error)}}catch(a){r(a)}}))})).catch(r)}));return a(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var i=new s((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===f.call(e)?function(t){return"boolean"==typeof h?s.resolve(h):function(t){return new s((function(e){var n=t.transaction("local-forage-detect-blob-support","readwrite"),r=o([""]);n.objectStore("local-forage-detect-blob-support").put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return h=t}))}(a.db).then((function(t){return t?e:(n=e,new s((function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):e})).then((function(e){C(r._dbInfo,"readwrite",(function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){i(u.error?u.error:u.transaction.error)}}catch(c){i(c)}}))})).catch(i)}));return a(i,n),i},removeItem:function(t,e){var n=this;t=c(t);var r=new s((function(e,r){n.ready().then((function(){C(n._dbInfo,"readwrite",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){r(s.error?s.error:s.transaction.error)}}catch(a){r(a)}}))})).catch(r)}));return a(r,e),r},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){C(e._dbInfo,"readwrite",(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){n(o.error?o.error:o.transaction.error)}}catch(s){n(s)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){C(e._dbInfo,"readonly",(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,r=new s((function(e,r){t<0?e(null):n.ready().then((function(){C(n._dbInfo,"readonly",(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var n=u.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(c){r(c)}}))})).catch(r)}));return a(r,e),r},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){C(e._dbInfo,"readonly",(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;if(t.name){var u=t.name===n.name&&o._dbInfo.db,c=u?s.resolve(o._dbInfo.db):y(t).then((function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));r=c.then(t.storeName?function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;p(t);var r=d[t.name],o=r.forages;e.close();for(var a=0;a<o.length;a++){var u=o[a];u._dbInfo.db=null,u._dbInfo.version=n}return new s((function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,g(n._dbInfo)}})).catch((function(e){throw(v(t,e)||s.resolve()).catch((function(){})),e}))}}:function(e){p(t);var n=d[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new s((function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<r.length;e++)g(r[e]._dbInfo)})).catch((function(e){throw(v(t,e)||s.resolve()).catch((function(){})),e}))})}else r=s.reject("Invalid arguments");return a(r,e),r}},T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=/^~~local_forage_type~([^~]+)~/,x="__lfsc__:".length,j=x+"arbf".length,k=Object.prototype.toString;function A(t){var e,n,r,i,o,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(e=0;e<a;e+=4)n=T.indexOf(t[e]),r=T.indexOf(t[e+1]),i=T.indexOf(t[e+2]),o=T.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function N(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=T[n[e]>>2],r+=T[(3&n[e])<<4|n[e+1]>>4],r+=T[(15&n[e+1])<<2|n[e+2]>>6],r+=T[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var R={serialize:function(t,e){var n="";if(t&&(n=k.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===k.call(t.buffer))){var r,i="__lfsc__:";t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===n?i+="si08":"[object Uint8Array]"===n?i+="ui08":"[object Uint8ClampedArray]"===n?i+="uic8":"[object Int16Array]"===n?i+="si16":"[object Uint16Array]"===n?i+="ur16":"[object Int32Array]"===n?i+="si32":"[object Uint32Array]"===n?i+="ui32":"[object Float32Array]"===n?i+="fl32":"[object Float64Array]"===n?i+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(i+N(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+N(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(s){console.error("Couldn't convert value into a JSON string: ",t),e(null,s)}},deserialize:function(t){if("__lfsc__:"!==t.substring(0,x))return JSON.parse(t);var e,n=t.substring(j),r=t.substring(x,j);if("blob"===r&&I.test(n)){var i=n.match(I);e=i[1],n=n.substring(i[0].length)}var s=A(n);switch(r){case"arbf":return s;case"blob":return o([s],{type:e});case"si08":return new Int8Array(s);case"ui08":return new Uint8Array(s);case"uic8":return new Uint8ClampedArray(s);case"si16":return new Int16Array(s);case"ur16":return new Uint16Array(s);case"si32":return new Int32Array(s);case"ui32":return new Uint32Array(s);case"fl32":return new Float32Array(s);case"fl64":return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:A,bufferToString:N};function P(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function D(t,e,n,r,i,o){t.executeSql(n,r,i,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],(function(t,a){a.rows.length?o(t,s):P(t,e,(function(){t.executeSql(n,r,i,o)}),o)}),o):o(t,s)}),o)}function L(t,e,n,r){var i=this;t=c(t);var o=new s((function(o,s){i.ready().then((function(){void 0===e&&(e=null);var a=e,u=i._dbInfo;u.serializer.serialize(e,(function(e,c){c?s(c):u.db.transaction((function(n){D(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(L.apply(i,[t,a,n,r-1]));s(e)}}))}))})).catch(s)}));return a(o,n),o}function M(t){return new s((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var F={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new s((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction((function(i){P(i,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=R,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){D(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,a+1)))return void e(c)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){D(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},setItem:function(t,e,n){return L.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=c(t);var r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){D(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){D(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){D(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,r=new s((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){D(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){D(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return a(r=t.name?new s((function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:M(r))})).then((function(t){return new s((function(e,n){t.db.transaction((function(r){function i(t){return new s((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],a=0,u=t.storeNames.length;a<u;a++)o.push(i(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):s.reject("Invalid arguments"),e),r}};function U(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}var V={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=U(t,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0?(this._dbInfo=e,e.serializer=R,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(i),s++)))return c}}}));return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return a(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var i=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new s((function(i,o){var s=r._dbInfo;s.serializer.serialize(e,(function(e,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+t,e),i(n)}catch(a){"QuotaExceededError"!==a.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==a.name||o(a),o(a)}}))}))}));return a(i,n),i},removeItem:function(t,e){var n=this;t=c(t);var r=n.ready().then((function(){localStorage.removeItem(n._dbInfo.keyPrefix+t)}));return a(r,e),r},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return a(r,e),r},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r}));return a(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return a(r=t.name?new s((function(e){e(t.storeName?U(t,i._defaultConfig):t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),e),r}},$=function(t,e){for(var n,r,i=t.length,o=0;o<i;){if((n=t[o])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},q=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},H={},z={},B={INDEXEDDB:S,WEBSQL:F,LOCALSTORAGE:V},G=[B.INDEXEDDB._driver,B.WEBSQL._driver,B.LOCALSTORAGE._driver],W=["dropInstance"],K=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(W),Q={description:"",driver:G.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Y(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function X(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=q(e[n])?e[n].slice():e[n])}return arguments[0]}var Z=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),B)if(B.hasOwnProperty(n)){var r=B[n],i=r._driver;this[n]=i,H[i]||this.defineDriver(r)}this._defaultConfig=X({},Q),this._config=X({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new s((function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=K.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!$(W,l)||t[l])&&"function"!=typeof t[l])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,r=W.length;n<r;n++){var i=W[n];t[i]||(t[i]=e(i))}}();var h=function(n){H[r]&&console.info("Redefining LocalForage driver: "+r),H[r]=t,z[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(d){n(d)}}));return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=H[t]?s.resolve(H[t]):s.reject(new Error("Driver not found."));return u(r,e,n),r},t.prototype.getSerializer=function(t){var e=s.resolve(R);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;q(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function a(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=c.then((function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=s.reject(u),r._driverSet}()}}(i)}))})).catch((function(){o();var t=new Error("No available storage method found.");return r._driverSet=s.reject(t),r._driverSet})),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!z[t]},t.prototype._extend=function(t){X(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=K.length;t<e;t++)Y(this,K[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=Z},{3:3}]},{},[4])(4)},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,u);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pMnS:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("8Y7J"),i=n("iInd"),o=r.vb({encapsulation:2,styles:[],data:{}});function s(t){return r.Zb(0,[(t()(),r.xb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.wb(1,212992,null,0,i.r,[i.b,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function a(t){return r.Zb(0,[(t()(),r.xb(0,0,null,null,1,"ng-component",[],null,null,null,s,o)),r.wb(1,49152,null,0,i.F,[],null,null)],null,null)}var u=r.tb("ng-component",i.F,a,{},{},[])},"pxS/":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KOl+");function i(t,e){return!0===Object(r.a)(t,e)?Object(r.b)(t.constructor.getPluginRef())[e]:null}function o(t,e,n){!0===Object(r.a)(t,e)&&(Object(r.b)(t.constructor.getPluginRef())[e]=n)}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return M})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return N})),n.d(e,"j",(function(){return F})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return h})),n.d(e,"m",(function(){return q})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return A})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return m})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return P})),n.d(e,"t",(function(){return _})),n.d(e,"u",(function(){return p})),n.d(e,"v",(function(){return g})),n.d(e,"w",(function(){return E})),n.d(e,"x",(function(){return y})),n.d(e,"y",(function(){return w})),n.d(e,"z",(function(){return k})),n.d(e,"A",(function(){return I})),n.d(e,"B",(function(){return D})),n.d(e,"C",(function(){return L})),n.d(e,"D",(function(){return R})),n.d(e,"E",(function(){return G})),n.d(e,"F",(function(){return B})),n.d(e,"G",(function(){return x})),n.d(e,"H",(function(){return $})),n.d(e,"I",(function(){return H})),n.d(e,"J",(function(){return z}));var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return f().indexOf("Electron/")>=0}function _(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function E(){return!1}var O=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return Object(r.d)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?S(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new O(i,a,r);return u},t}();function S(t,e){return t.replace(T,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var T=/\{\$([^}]+)}/g;function I(t){return JSON.parse(t)}function x(t){return JSON.stringify(t)}var j=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=I(c(o[0])||""),n=I(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},k=function(t){var e=j(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},A=function(t){var e=j(t).claims;return"object"==typeof e&&!0===e.admin};function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function P(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function L(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var M=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function F(t,e){var n=new U(t,e);return n.subscribe.bind(n)}var U=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function V(){}var $=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(t,e,r)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(t,e,r)+"must be a valid context object.")}var B=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},G=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},s7LF:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return gt})),n.d(e,"c",(function(){return dt})),n.d(e,"d",(function(){return ut})),n.d(e,"e",(function(){return vt})),n.d(e,"f",(function(){return _})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return tt})),n.d(e,"l",(function(){return ot})),n.d(e,"m",(function(){return mt})),n.d(e,"n",(function(){return ft})),n.d(e,"o",(function(){return E})),n.d(e,"p",(function(){return pt})),n.d(e,"q",(function(){return x})),n.d(e,"r",(function(){return at})),n.d(e,"s",(function(){return st}));var r=n("8Y7J"),i=n("SVse"),o=n("HDdC"),s=n("DH7j"),a=n("lJxs"),u=n("XoHu"),c=n("Cfvw");function l(t,e){return new o.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(c.a)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const h=new r.q("NgValueAccessor");class d{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class f extends d{get formDirective(){return null}get path(){return null}}function p(){throw new Error("unimplemented")}class g extends d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return p()}get asyncValidator(){return p()}}class v{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class m extends v{constructor(t){super(t)}}class y extends v{constructor(t){super(t)}}function b(t){return null==t||0===t.length}const _=new r.q("NgValidators"),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class E{static min(t){return e=>{if(b(e.value)||b(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(b(e.value)||b(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return b(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return b(t.value)||w.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(b(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return E.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(b(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(O);return 0==e.length?null:function(t){return S(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(O);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(s.a)(e))return l(e,null);if(Object(u.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(s.a)(t[0])?t[0]:t,null).pipe(Object(a.a)(t=>e(...t)))}return l(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(C)).pipe(Object(a.a)(S))}}}function O(t){return null!=t}function C(t){const e=Object(r.Hb)(t)?Object(c.a)(t):t;if(!Object(r.Gb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function S(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function T(t){return t.validate?e=>t.validate(e):t}function I(t){return t.validate?e=>t.validate(e):t}class x{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const j='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',k='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',A='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class N{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+j)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${k}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${A}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+j)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+k)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function R(t,e){return[...e.path,t]}function P(t,e){t||F(e,"Cannot find control with"),e.valueAccessor||F(e,"No value accessor for form control with"),t.validator=E.compose([t.validator,e.validator]),t.asyncValidator=E.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&D(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&D(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function D(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function L(t,e){null==t&&F(e,"Cannot find control with"),t.validator=E.compose([t.validator,e.validator]),t.asyncValidator=E.composeAsync([t.asyncValidator,e.asyncValidator])}function M(t){return F(t,"There is no FormControl instance attached to form control element with")}function F(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function U(t){return null!=t?E.compose(t.map(T)):null}function V(t){return null!=t?E.composeAsync(t.map(I)):null}function $(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.Ib)(e,n.currentValue)}const q=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.Ib}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.Ib}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(g),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function H(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function z(t,e){if(!e)return null;Array.isArray(e)||F(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,o=void 0;return e.forEach(e=>{var s;e.constructor===class{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.y)()?Object(i.y)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}?n=e:(s=e,q.some(t=>s.constructor===t)?(r&&F(t,"More than one built-in value accessor matches form control with"),r=e):(o&&F(t,"More than one custom value accessor matches form control with"),o=e))}),o||r||n||(F(t,"No valid value accessor for form control with"),null)}function B(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function G(t){const e=K(t)?t.validators:t;return Array.isArray(e)?U(e):e||null}function W(t,e){const n=K(e)?e.asyncValidators:t;return Array.isArray(n)?V(n):n||null}function K(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Q{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=G(t)}setAsyncValidators(t){this.asyncValidator=W(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=C(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof X?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Z&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){K(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Y extends Q{constructor(t=null,e,n){super(G(e),W(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class X extends Q{constructor(t,e,n){super(G(e),W(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Y?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Z extends Q{constructor(t,e,n){super(G(e),W(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Y?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const J=(()=>Promise.resolve(null))();class tt extends f{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new X({},U(t),V(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){J.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),P(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){J.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),B(this._directives,t)})}addFormGroup(t){J.then(()=>{const e=this._findContainer(t.path),n=new X({});L(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){J.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){J.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,H(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class et extends f{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return R(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return U(this._validators)}get asyncValidator(){return V(this._asyncValidators)}_checkParentType(){}}class nt{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${j}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${k}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${A}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${k}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${A}`)}}class rt extends et{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof rt||this._parent instanceof tt||nt.modelGroupParentException()}}const it=(()=>Promise.resolve(null))();class ot extends g{constructor(t,e,n,i){super(),this.control=new Y,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=z(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),$(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?R(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return U(this._rawValidators)}get asyncValidator(){return V(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){P(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof rt)&&this._parent instanceof et?nt.formGroupNameException():this._parent instanceof rt||this._parent instanceof tt||nt.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||nt.missingNameException()}_updateValue(t){it.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;it.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class st{}const at=new r.q("NgModelWithFormControlWarning");class ut extends f{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return P(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){B(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);L(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);L(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,H(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>M(e)),e.valueAccessor.registerOnTouched(()=>M(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&P(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=U(this._validators);this.form.validator=E.compose([this.form.validator,t]);const e=V(this._asyncValidators);this.form.asyncValidator=E.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||N.missingFormException()}}class ct extends et{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){ht(this._parent)&&N.groupParentException()}}class lt extends f{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return R(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return U(this._validators)}get asyncValidator(){return V(this._asyncValidators)}_checkParentType(){ht(this._parent)&&N.arrayParentException()}}function ht(t){return!(t instanceof ct||t instanceof ut||t instanceof lt)}let dt=(()=>{class t extends g{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=z(this,i)}set isDisabled(t){N.disabledAttrWarning()}ngOnChanges(e){var n,i,o;this._added||this._setUpControl(),$(e,this.viewModel)&&(n=t,i=this,o=this._ngModelWarningConfig,Object(r.V)()&&"never"!==o&&((null!==o&&"once"!==o||n._ngModelWarningSentOnce)&&("always"!==o||i._ngModelWarningSent)||(N.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,i._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return R(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return U(this._rawValidators)}get asyncValidator(){return V(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof ct)&&this._parent instanceof et?N.ngModelGroupException():this._parent instanceof ct||this._parent instanceof ut||this._parent instanceof lt||N.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class ft{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?E.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class pt{}class gt{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new X(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Y(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Z(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Y||t instanceof X||t instanceof Z?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class vt{}class mt{static withConfig(t){return{ngModule:mt,providers:[{provide:at,useValue:t.warnOnNgModelWithFormControl}]}}}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},sZkV:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ne})),n.d(e,"b",(function(){return Re})),n.d(e,"c",(function(){return ue})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return ie})),n.d(e,"f",(function(){return $})),n.d(e,"g",(function(){return q})),n.d(e,"h",(function(){return H})),n.d(e,"i",(function(){return Ie})),n.d(e,"j",(function(){return z})),n.d(e,"k",(function(){return B})),n.d(e,"l",(function(){return G})),n.d(e,"m",(function(){return W})),n.d(e,"n",(function(){return K})),n.d(e,"o",(function(){return Q})),n.d(e,"p",(function(){return Y})),n.d(e,"q",(function(){return X})),n.d(e,"r",(function(){return Z})),n.d(e,"s",(function(){return J})),n.d(e,"t",(function(){return tt})),n.d(e,"u",(function(){return et})),n.d(e,"v",(function(){return nt})),n.d(e,"w",(function(){return rt})),n.d(e,"x",(function(){return it})),n.d(e,"y",(function(){return ot})),n.d(e,"z",(function(){return st})),n.d(e,"A",(function(){return at})),n.d(e,"B",(function(){return ut})),n.d(e,"C",(function(){return ct})),n.d(e,"D",(function(){return lt})),n.d(e,"E",(function(){return ht})),n.d(e,"F",(function(){return dt})),n.d(e,"G",(function(){return ft})),n.d(e,"H",(function(){return pt})),n.d(e,"I",(function(){return gt})),n.d(e,"J",(function(){return vt})),n.d(e,"K",(function(){return mt})),n.d(e,"L",(function(){return yt})),n.d(e,"M",(function(){return bt})),n.d(e,"N",(function(){return _t})),n.d(e,"O",(function(){return wt})),n.d(e,"P",(function(){return Et})),n.d(e,"Q",(function(){return Ot})),n.d(e,"R",(function(){return Ct})),n.d(e,"S",(function(){return St})),n.d(e,"T",(function(){return Tt})),n.d(e,"U",(function(){return It})),n.d(e,"V",(function(){return xt})),n.d(e,"W",(function(){return jt})),n.d(e,"X",(function(){return kt})),n.d(e,"Y",(function(){return At})),n.d(e,"Z",(function(){return Nt})),n.d(e,"ab",(function(){return Rt})),n.d(e,"bb",(function(){return Pt})),n.d(e,"cb",(function(){return Dt})),n.d(e,"db",(function(){return Lt})),n.d(e,"eb",(function(){return Mt})),n.d(e,"fb",(function(){return Ft})),n.d(e,"gb",(function(){return Ce})),n.d(e,"hb",(function(){return Ut})),n.d(e,"ib",(function(){return Vt})),n.d(e,"jb",(function(){return $t})),n.d(e,"kb",(function(){return qt})),n.d(e,"lb",(function(){return Ht})),n.d(e,"mb",(function(){return zt})),n.d(e,"nb",(function(){return Bt})),n.d(e,"ob",(function(){return Gt})),n.d(e,"pb",(function(){return Wt})),n.d(e,"qb",(function(){return Kt})),n.d(e,"rb",(function(){return Qt})),n.d(e,"sb",(function(){return Yt})),n.d(e,"tb",(function(){return Xt})),n.d(e,"ub",(function(){return Te})),n.d(e,"vb",(function(){return Zt})),n.d(e,"wb",(function(){return Jt})),n.d(e,"xb",(function(){return te})),n.d(e,"yb",(function(){return ee})),n.d(e,"zb",(function(){return ne})),n.d(e,"Ab",(function(){return re})),n.d(e,"Bb",(function(){return je})),n.d(e,"Cb",(function(){return qe})),n.d(e,"Db",(function(){return Pe})),n.d(e,"Eb",(function(){return De})),n.d(e,"Fb",(function(){return Le})),n.d(e,"Gb",(function(){return R})),n.d(e,"Hb",(function(){return ae})),n.d(e,"Ib",(function(){return I})),n.d(e,"Jb",(function(){return k})),n.d(e,"Kb",(function(){return Me})),n.d(e,"Lb",(function(){return xe})),n.d(e,"Mb",(function(){return x})),n.d(e,"Nb",(function(){return j})),n.d(e,"Ob",(function(){return Fe})),n.d(e,"Pb",(function(){return oe})),n.d(e,"Qb",(function(){return Ve}));var r=n("mrSG"),i=n("8Y7J"),o=n("s7LF"),s=n("SVse"),a=n("iInd"),u=n("A36C"),c=n("Zgba"),l=(n("QPqR"),n("z1RL"),n("jRcJ")),h=(n("teYp"),n("hT2b"),n("bC4P"),n("y08P"),n("iWo5"),n("39oe"),n("8RMS"),n("Y/li")),d=n("jphQ"),f=n("XNiG"),p=n("xgIS"),g=n("2Vo4"),v=n("pLZG"),m=n("eIep"),y=n("/uUt");const b=c.a,_=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class w{constructor(t,e){this.injector=t,this.el=e,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,E(this.el)}handleChangeEvent(t,e){t===this.el.nativeElement&&(e!==this.lastValue&&(this.lastValue=e,this.onChange(e)),E(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),E(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(o.h)}catch(n){}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>E(this.el)));const e=t.control;e&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(t=>{if(e[t]){const n=e[t].bind(e);e[t]=(...t)=>{n(...t),E(this.el)}}})}}const E=t=>{_(()=>{const e=t.nativeElement,n=O(e);C(e,n);const r=e.closest("ion-item");r&&C(r,n)})},O=t=>{const e=t.classList,n=[];for(let r=0;r<e.length;r++){const t=e.item(r);null!==t&&S(t,"ng-")&&n.push("ion-"+t.substr(3))}return n},C=(t,e)=>{const n=t.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(t=>n.remove(t)),e.forEach(t=>n.add(t))},S=(t,e)=>t.substr(0,e.length)===e;let T=class extends w{constructor(t,e){super(t,e)}writeValue(t){this.el.nativeElement.checked=this.lastValue=null!=t&&t,E(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}},I=class extends w{constructor(t,e){super(t,e)}_handleIonChange(t){this.handleChangeEvent(t,t.value)}registerOnChange(t){super.registerOnChange(e=>{t(""===e?null:parseFloat(e))})}},x=class extends w{constructor(t,e){super(t,e)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}},j=class extends w{constructor(t,e){super(t,e)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}},k=(()=>{let t=class{constructor(t,e){this.doc=t,this.backButton=new f.a,this.keyboardDidShow=new f.a,this.keyboardDidHide=new f.a,this.pause=new f.a,this.resume=new f.a,this.resize=new f.a,e.run(()=>{let n;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(t,n){return this.subscribe(r=>r.register(t,t=>e.run(()=>n(t))))},N(this.pause,t,"pause"),N(this.resume,t,"resume"),N(this.backButton,t,"ionBackButton"),N(this.resize,this.win,"resize"),N(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),N(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(t=>{n=t}),this.win&&this.win.cordova?t.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(t){return Object(c.e)(this.win,t)}platforms(){return Object(c.d)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return A(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(t){const e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t(Object(i.bc)(s.e),Object(i.bc)(i.z))},token:t,providedIn:"root"}),t})();const A=(t,e)=>{e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},N=(t,e,n)=>{e&&e.addEventListener(n,e=>{t.next(null!=e?e.detail:void 0)})};let R=(()=>{let t=class{constructor(t,e,n,r){this.location=e,this.serializer=n,this.router=r,this.direction=D,this.animated=L,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(t=>{if(t instanceof a.d){const e=t.restoredState?t.restoredState.navigationId:t.id;this.guessDirection=e<this.lastNavId?"back":"forward",this.guessAnimation=t.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?t.id:e}}),t.backButton.subscribeWithPriority(0,t=>{this.pop(),t()})}navigateForward(t,e={}){return this.setDirection("forward",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}navigateBack(t,e={}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}navigateRoot(t,e={}){return this.setDirection("root",e.animated,e.animationDirection,e.animation),this.navigate(t,e)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Object(r.b)(this,void 0,void 0,(function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet}))}setDirection(t,e,n,r){this.direction=t,this.animated=P(t,e,n),this.animationBuilder=r}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let t,e="root";const n=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=D,this.animated=L,this.animationBuilder=void 0,{direction:e,animation:t,animationBuilder:n}}navigate(t,e){if(Array.isArray(t))return this.router.navigate(t,e);{const n=this.serializer.parse(t.toString());return void 0!==e.queryParams&&(n.queryParams=Object.assign({},e.queryParams)),void 0!==e.fragment&&(n.fragment=e.fragment),this.router.navigateByUrl(n,e)}}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t(Object(i.bc)(k),Object(i.bc)(s.i),Object(i.bc)(a.u),Object(i.bc)(a.m,8))},token:t,providedIn:"root"}),t})();const P=(t,e,n)=>{if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0},D="auto",L=void 0,M=(t,e)=>{const n=t.prototype;e.forEach(t=>{Object.defineProperty(n,t,{get(){return this.el[t]},set(e){this.z.runOutsideAngular(()=>this.el[t]=e)}})})},F=(t,e)=>{const n=t.prototype;e.forEach(t=>{n[t]=function(){const e=arguments;return this.z.runOutsideAngular(()=>this.el[t].apply(this.el,e))}})},U=(t,e,n)=>{n.forEach(n=>t[n]=Object(p.a)(e,n))};function V(t){return function(e){return t.inputs&&M(e,t.inputs),t.methods&&F(e,t.methods),e}}let $=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},q=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},H=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),z=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionBackdropTap"])}};return t=Object(r.c)([V({inputs:["stopPropagation","tappable","visible"]})],t),t})(),B=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode"]})],t),t})(),G=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),W=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["collapse"]})],t),t})(),K=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],t),t})(),Q=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["mode"]})],t),t})(),Y=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode","translucent"]})],t),t})(),X=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode"]})],t),t})(),Z=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode"]})],t),t})(),J=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],t),t})(),tt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","disabled","mode","outline"]})],t),t})(),et=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],t),t})(),nt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t=Object(r.c)([V({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),rt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","displayTimezone","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"],methods:["open"]})],t),t})(),it=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],t),t})(),ot=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],t),t})(),st=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["activated","side"]})],t),t})(),at=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["mode","translucent"]})],t),t})(),ut=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["fixed"]})],t),t})(),ct=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["collapse","mode","translucent"]})],t),t})(),lt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]})],t),t})(),ht=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return t=Object(r.c)([V({inputs:["alt","src"]})],t),t})(),dt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionInfinite"])}};return t=Object(r.c)([V({inputs:["disabled","position","threshold"],methods:["complete"]})],t),t})(),ft=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["loadingSpinner","loadingText"]})],t),t})(),pt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t=Object(r.c)([V({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),gt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],t),t})(),vt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode","sticky"]})],t),t})(),mt=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},yt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),bt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionSwipe"])}};return t=Object(r.c)([V({inputs:["side"]})],t),t})(),_t=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionDrag"])}};return t=Object(r.c)([V({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),wt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode","position"]})],t),t})(),Et=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),Ot=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","lines","mode"]})],t),t})(),Ct=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return t=Object(r.c)([V({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],t),t})(),St=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["autoHide","color","disabled","menu","mode","type"]})],t),t})(),Tt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["autoHide","menu"]})],t),t})(),It=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t=Object(r.c)([V({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),xt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["component","componentProps","routerAnimation","routerDirection"]})],t),t})(),jt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode"]})],t),t})(),kt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["buffer","color","mode","reversed","type","value"]})],t),t})(),At=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["color","disabled","mode","name","value"]})],t),t})(),Nt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange"])}};return t=Object(r.c)([V({inputs:["allowEmptySelection","name","value"]})],t),t})(),Rt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]})],t),t})(),Pt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionRefresh","ionPull","ionStart"])}};return t=Object(r.c)([V({inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],t),t})(),Dt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],t),t})(),Lt=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},Mt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionItemReorder"])}};return t=Object(r.c)([V({inputs:["disabled"],methods:["complete"]})],t),t})(),Ft=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["type"],methods:["addRipple"]})],t),t})(),Ut=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},Vt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return t=Object(r.c)([V({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),$t=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange"])}};return t=Object(r.c)([V({inputs:["color","disabled","mode","scrollable","swipeGesture","value"]})],t),t})(),qt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["disabled","layout","mode","type","value"]})],t),t})(),Ht=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),zt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["disabled","value"]})],t),t})(),Bt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["animated"]})],t),t})(),Gt=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},Wt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return t=Object(r.c)([V({inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],t),t})(),Kt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","duration","name","paused"]})],t),t})(),Qt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionSplitPaneVisible"])}};return t=Object(r.c)([V({inputs:["contentId","disabled","when"]})],t),t})(),Yt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode","selectedTab","translucent"]})],t),t})(),Xt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),Zt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode"]})],t),t})(),Jt=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return t=Object(r.c)([V({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],t),t})(),te=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}},ee=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","size"]})],t),t})(),ne=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,U(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t=Object(r.c)([V({inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),re=(()=>{let t=class{constructor(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}};return t=Object(r.c)([V({inputs:["color","mode"]})],t),t})(),ie=(()=>{let t=class{get(t,e){const n=se();return n?n.get(t,e):null}getBoolean(t,e){const n=se();return!!n&&n.getBoolean(t,e)}getNumber(t,e){const n=se();return n?n.getNumber(t,e):0}set(t,e){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=se();n&&n.set(t,e)}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const oe=new i.q("USERCONFIG"),se=()=>{if("undefined"!=typeof window){const t=window.Ionic;if(t&&t.config)return t.config}return null};class ae{constructor(t={}){this.data=t}get(t){return this.data[t]}}let ue=class{constructor(t,e){this.zone=t,this.appRef=e}create(t,e,n){return new ce(t,e,n,this.appRef,this.zone)}};class ce{constructor(t,e,n,r,i){this.resolver=t,this.injector=e,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,e,n,r){return this.zone.run(()=>new Promise(i=>{i(le(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,t,e,n,r))}))}removeViewFromDom(t,e){return this.zone.run(()=>new Promise(t=>{const n=this.elRefMap.get(e);if(n){n.destroy(),this.elRefMap.delete(e);const t=this.elEventsMap.get(e);t&&(t(),this.elEventsMap.delete(e))}t()}))}}const le=(t,e,n,r,o,s,a,u,c,l,h)=>{const d=e.resolveComponentFactory(c),f=i.r.create({providers:pe(l),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),g=p.instance,v=p.location.nativeElement;if(l&&Object.assign(g,l),h)for(const i of h)v.classList.add(i);const m=de(t,g,v);return u.appendChild(v),r||o.attachView(p.hostView),p.changeDetectorRef.reattach(),s.set(v,p),a.set(v,m),v},he=[l.a,l.b,l.c,l.d,l.e],de=(t,e,n)=>t.run(()=>{const t=he.filter(t=>"function"==typeof e[t]).map(t=>{const r=n=>e[t](n.detail);return n.addEventListener(t,r),()=>n.removeEventListener(t,r)});return()=>t.forEach(t=>t())}),fe=new i.q("NavParamsToken"),pe=t=>[{provide:fe,useValue:t},{provide:ae,useFactory:ge,deps:[fe]}],ge=t=>new ae(t),ve=(t,e)=>((t=t.filter(t=>t.stackId!==e.stackId)).push(e),t),me=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},ye=(t,e)=>{if(!t)return;const n=be(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},be=t=>t.split("/").map(t=>t.trim()).filter(t=>""!==t),_e=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class we{constructor(t,e,n,r,i,o){this.containerEl=e,this.router=n,this.navCtrl=r,this.zone=i,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?be(t):void 0}createView(t,e){const n=me(this.router,e),r=t&&t.location&&t.location.nativeElement,i=de(this.zone,t.instance,r);return{id:this.nextId++,stackId:ye(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:t,url:n}}getExistingView(t){const e=me(this.router,t),n=this.views.find(t=>t.url===e);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const e=this.navCtrl.consumeTransition();let{direction:n,animation:r,animationBuilder:i}=e;const o=this.activeView,s=((t,e)=>!e||t.stackId!==e.stackId)(t,o);s&&(n="back",r=void 0);const a=this.views.slice();let u;const c=this.router;c.getCurrentNavigation?u=c.getCurrentNavigation():c.navigations&&c.navigations.value&&(u=c.navigations.value),u&&u.extras&&u.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const l=this.views.includes(t),h=this.insertView(t,n);l||t.ref.changeDetectorRef.detectChanges();const d=t.animationBuilder;return void 0!==i||"back"!==n||s||void 0===d||(i=d),o&&(o.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(o&&o.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,o,r,this.canGoBack(1),!1,i).then(()=>Ee(t,h,a,this.location)).then(()=>({enteringView:t,direction:n,animation:r,tabSwitch:s})))))}canGoBack(t,e=this.getActiveStackId()){return this.getStack(e).length>t}pop(t,e=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(e);if(n.length<=t)return Promise.resolve(!1);const r=n[n.length-t-1];let i=r.url;const o=r.savedData;if(o){const t=o.get("primary");t&&t.route&&t.route._routerState&&t.route._routerState.snapshot&&t.route._routerState.snapshot.url&&(i=t.route._routerState.snapshot.url)}const{animationBuilder:s}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,Object.assign({},r.savedExtras,{animation:s})).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const e=this.getStack(t.stackId),n=e[e.length-2],r=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,r))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Oe(this.activeView,this.views,this.views,this.location)}getLastUrl(t){const e=this.getStack(t);return e.length>0?e[e.length-1]:void 0}getRootUrl(t){const e=this.getStack(t);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}destroy(){this.containerEl=void 0,this.views.forEach(_e),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(e=>e.stackId===t)}insertView(t,e){return this.activeView=t,this.views=((t,e,n)=>"root"===n?ve(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(t=>t.stackId!==e.stackId||t.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(t=>t.stackId!==e.stackId||t.id<=e.id):ve(t,e))(t,e))(this.views,t,e),this.views.slice()}transition(t,e,n,r,i,o){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);const s=t?t.element:void 0,a=e?e.element:void 0,u=this.containerEl;return s&&s!==a&&(s.classList.add("ion-page"),s.classList.add("ion-page-invisible"),s.parentElement!==u&&u.appendChild(s),u.commit)?u.commit(s,a,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i,animationBuilder:o}):Promise.resolve(!1)}wait(t){return Object(r.b)(this,void 0,void 0,(function*(){return void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0),this.runningTask=t()}))}}const Ee=(t,e,n,r)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Oe(t,e,n,r),i()})}):Promise.resolve(),Oe=(t,e,n,r)=>{n.filter(t=>!e.includes(t)).forEach(_e),e.forEach(e=>{const n=r.path().split("?")[0].split("#")[0];if(e!==t&&e.url!==n){const t=e.element;t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})};let Ce=class{constructor(t,e,n,r,o,s,u,c,l,h,d,f,p){this.parentContexts=t,this.location=e,this.resolver=n,this.config=s,this.navCtrl=u,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new g.a(null),this.stackEvents=new i.n,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.nativeEl=l.nativeElement,this.name=r||a.f,this.tabsPrefix="true"===o?me(h,f):void 0,this.stackCtrl=new we(this.tabsPrefix,this.nativeEl,h,u,d,c),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:t=>this.stackCtrl.endBackTransition(t)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t&&t.route&&this.activateWith(t.route,t.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,e){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){this.activatedView.savedData=new Map(this.getContext().children.contexts),this.activatedView.savedExtras={};const t=this.getContext();if(t.route){const e=t.route.snapshot;this.activatedView.savedExtras.queryParams=e.queryParams,this.activatedView.savedExtras.fragment=e.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=t;let r=this.stackCtrl.getExistingView(t);if(r){n=this.activated=r.ref;const e=r.savedData;e&&(this.getContext().children.contexts=e),this.updateActivatedRouteProxy(n.instance,t)}else{const i=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,s=new g.a(null),a=this.createActivatedRouteProxy(s,t),u=new Se(a,o,this.location.injector);n=this.activated=this.location.createComponent(i,this.location.length,u),s.next(n.instance),r=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(n.instance,a),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:t})}this.activatedView=r,this.stackCtrl.setActive(r).then(t=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(t)})}canGoBack(t=1,e){return this.stackCtrl.canGoBack(t,e)}pop(t=1,e){return this.stackCtrl.pop(t,e)}getLastUrl(t){const e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,e){const n=new a.a;return n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,n._paramMap=this.proxyObservable(t,"paramMap"),n._queryParamMap=this.proxyObservable(t,"queryParamMap"),n.url=this.proxyObservable(t,"url"),n.params=this.proxyObservable(t,"params"),n.queryParams=this.proxyObservable(t,"queryParams"),n.fragment=this.proxyObservable(t,"fragment"),n.data=this.proxyObservable(t,"data"),n}proxyObservable(t,e){return t.pipe(Object(v.a)(t=>!!t),Object(m.a)(t=>this.currentActivatedRoute$.pipe(Object(v.a)(e=>null!==e&&e.component===t),Object(m.a)(t=>t&&t.activatedRoute[e]),Object(y.a)())))}updateActivatedRouteProxy(t,e){const n=this.proxyMap.get(t);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,this.currentActivatedRoute$.next({component:t,activatedRoute:e})}};class Se{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===a.a?this.route:t===a.b?this.childContexts:this.parent.get(t,e)}}let Te=class{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new i.n,this.ionTabsDidChange=new i.n}onPageSelected(t){const e=t.enteringView.stackId;t.tabSwitch&&void 0!==e&&(this.tabBar&&(this.tabBar.selectedTab=e),this.ionTabsWillChange.emit({tab:e}),this.ionTabsDidChange.emit({tab:e}))}select(t){const e=this.outlet.getActiveStackId()===t,n=`${this.outlet.tabsPrefix}/${t}`;if(e){const e=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(e).url===n)return;const r=this.outlet.getRootView(t);return this.navCtrl.navigateRoot(n,Object.assign({},r&&n===r.url&&r.savedExtras,{animated:!0,animationDirection:"back"}))}{const e=this.outlet.getLastRouteView(t);return this.navCtrl.navigateRoot(e&&e.url||n,Object.assign({},e&&e.savedExtras,{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}},Ie=class{constructor(t,e,n){this.routerOutlet=t,this.navCtrl=e,this.config=n}onClick(t){const e=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet&&this.routerOutlet.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=e&&(this.navCtrl.navigateBack(e,{animation:this.routerAnimation}),t.preventDefault())}},xe=class{constructor(t,e,n,r,i){this.locationStrategy=t,this.navCtrl=e,this.elementRef=n,this.router=r,this.routerLink=i,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){if(this.routerLink){const t=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=t}}onClick(t){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),t.preventDefault()}},je=(()=>{let t=class{constructor(t,e,n){this.z=t,this.iterableDiffers=e,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}ngOnChanges(t){if(this.trackBy&&"items"in t){const n=t.items.currentValue;if(void 0===this.differ&&null!=n)try{this.differ=this.iterableDiffers.find(n).create(this.trackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}'. VirtualScroll only supports binding to Iterables such as Arrays.`)}}}ngDoCheck(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)}nodeRender(t,e,n){return this.z.run(()=>{let r;if(t){r=this.refMap.get(t);const n=r.context;n.$implicit=e.value,n.index=e.index}else r=this.itmTmp.viewContainer.createEmbeddedView(this.getComponent(e.type),{$implicit:e.value,index:n},n),t=ke(r),this.refMap.set(t,r);return r.detectChanges(),t})}getComponent(t){switch(t){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")}};return t=Object(r.c)([V({inputs:["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight","headerHeight","footerHeight"],methods:["checkEnd","checkRange","positionForItem"]})],t),t})();const ke=t=>{const e=t.rootNodes;for(let n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];throw new Error("virtual element was not created")};class Ae{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,e,n){return this.ctrl.dismiss(t,e,n)}getTop(){return this.ctrl.getTop()}}let Ne=(()=>{let t=class extends Ae{constructor(){super(d.c)}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Re=(()=>{let t=class extends Ae{constructor(){super(d.b)}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Pe=(()=>{let t=class extends Ae{constructor(){super(d.k)}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),De=(()=>{let t=class{open(t){return h.a.open(t)}close(t){return h.a.close(t)}toggle(t){return h.a.toggle(t)}enable(t,e){return h.a.enable(t,e)}swipeGesture(t,e){return h.a.swipeGesture(t,e)}isOpen(t){return h.a.isOpen(t)}isEnabled(t){return h.a.isEnabled(t)}get(t){return h.a.get(t)}getOpen(){return h.a.getOpen()}getMenus(){return h.a.getMenus()}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Le=class extends Ae{constructor(t,e,n){super(d.l),this.angularDelegate=t,this.resolver=e,this.injector=n}create(t){return super.create(Object.assign({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}},Me=class extends Ae{constructor(t,e,n){super(d.d),this.angularDelegate=t,this.resolver=e,this.injector=n}create(t){return super.create(Object.assign({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}},Fe=(()=>{let t=class extends Ae{constructor(){super(d.o)}};return t.ngInjectableDef=Object(i.ac)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ue=!1;const Ve=(t,e,r)=>()=>{const i=e.defaultView;if(i&&"undefined"!=typeof window){Ue&&console.warn("Ionic Angular was already initialized. Make sure IonicModule.forRoot() is just called once."),Ue=!0,(i.Ionic=i.Ionic||{}).config=Object.assign({},t,{_zoneGate:t=>r.run(t)});const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var t=[];if("undefined"!=typeof window){var e=window;e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove&&e.Element.prototype.getRootNode)||t.push(n.e(10).then(n.t.bind(null,"QdDj",7))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||t.push(n.e(8).then(n.t.bind(null,"t6o4",7)))}return Promise.all(t)}().then(()=>{return t={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:_,jmp:t=>r.runOutsideAngular(t),ael(t,e,n,r){t[o](e,n,r)},rel(t,e,n,r){t.removeEventListener(e,n,r)}},"undefined"==typeof window?Promise.resolve():(u.b&&u.b.supports&&u.b.supports("color","var(--c)")?Object(u.d)():n.e(9).then(n.t.bind(null,"PC2G",7)).then(()=>(u.n.$cssShim$=u.q.__cssshim)?u.n.$cssShim$.i():0)).then(()=>(b(),Object(u.e)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[1],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[1],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[1],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[1],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[1],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[1],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[1]}],[33,"ion-card-title",{"color":[1]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[1],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[1],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[1],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},[[8,"keyboardWillHide","onKeyboardWillHide"],[8,"keyboardWillShow","onKeyboardWillShow"]]]]],["ion-chip",[[33,"ion-chip",{"color":[1],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[1],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[1],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[2,"click","onClick"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[1],"size":[1]}],[33,"ion-toolbar",{"color":[1]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[1]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[1],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[1],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[1]}]]],["ion-range",[[33,"ion-range",{"color":[1],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[1]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[1],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[1],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[1],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[1],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[1],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[1],"src":[1],"icon":[8],"size":[1],"lazy":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[1],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[1]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[1],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[1],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[1],"lines":[1]}]]]]'),t)));var t})}};var $e;let qe=$e=class{static forRoot(t){return{ngModule:$e,providers:[{provide:oe,useValue:t},{provide:i.d,useFactory:Ve,multi:!0,deps:[oe,s.e,i.z]}]}}}},teYp:function(t,e,n){"use strict";n.r(e),n.d(e,"iosTransitionAnimation",(function(){return h})),n.d(e,"shadow",(function(){return s})),n("A36C"),n("QPqR");var r=n("z1RL"),i=n("jRcJ");const o=t=>document.querySelector(t+".ion-cloned-element"),s=t=>t.shadowRoot||t,a=t=>{const e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),n="ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=e){const t=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=t?t.querySelector(n):null}return t.querySelector(n)},u=(t,e)=>{const n="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs");let r=[];if(null!=n){const t=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=t&&(r=t.querySelectorAll("ion-buttons"))}else r=t.querySelectorAll("ion-buttons");for(const i of r){const t=i.closest("ion-header"),n=t&&!t.classList.contains("header-collapse-condense-inactive"),r=i.querySelector("ion-back-button"),o=i.classList.contains("buttons-collapse"),s="start"===i.slot||""===i.slot;if(null!==r&&s&&(o&&n&&e||!o))return r}return null},c=(t,e,n,i,a,u)=>{const c=e?`calc(100% - ${u.right+4}px)`:u.left-4+"px",l=e?"7px":"-7px",h=e?"-4px":"4px",d=e?"-4px":"4px",f=e?"right":"left",p=e?"left":"right",g=n?[{offset:0,opacity:1,transform:`translate3d(${h}, ${u.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${l}, ${a.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${l}, ${a.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${h}, ${u.top-46}px, 0) scale(1)`}],v=n?[{offset:0,opacity:1,transform:`translate3d(${d}, ${u.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${u.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${u.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${u.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${u.top-46}px, 0) scale(1)`}],m=Object(r.a)(),y=Object(r.a)(),b=o("ion-back-button"),_=s(b).querySelector(".button-text"),w=s(b).querySelector("ion-icon");b.text=i.text,b.mode=i.mode,b.icon=i.icon,b.color=i.color,b.disabled=i.disabled,b.style.setProperty("display","block"),b.style.setProperty("position","fixed"),y.addElement(w),m.addElement(_),m.beforeStyles({"transform-origin":f+" center"}).beforeAddWrite(()=>{i.style.setProperty("display","none"),b.style.setProperty(f,c)}).afterAddWrite(()=>{i.style.setProperty("display",""),b.style.setProperty("display","none"),b.style.removeProperty(f)}).keyframes(g),y.beforeStyles({"transform-origin":p+" center"}).keyframes(v),t.addAnimation([m,y])},l=(t,e,n,i,s,a)=>{const u=e?`calc(100% - ${s.right}px)`:s.left+"px",c=e?"-18px":"18px",l=e?"right":"left",h=n?[{offset:0,opacity:0,transform:`translate3d(${c}, ${a.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${s.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${s.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${c}, ${a.top-4}px, 0) scale(0.5)`}],d=o("ion-title"),f=Object(r.a)();d.innerText=i.innerText,d.size=i.size,d.color=i.color,f.addElement(d),f.beforeStyles({"transform-origin":l+" center",height:"46px",display:"",position:"relative",[l]:u}).beforeAddWrite(()=>{i.style.setProperty("display","none")}).afterAddWrite(()=>{i.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(h),t.addAnimation(f)},h=(t,e)=>{try{const n="cubic-bezier(0.32,0.72,0,1)",o="opacity",h="transform",d="0%",f=.8,p="rtl"===t.ownerDocument.dir,g=p?"-99.5%":"99.5%",v=p?"33%":"-33%",m=e.enteringEl,y=e.leavingEl,b="back"===e.direction,_=m.querySelector(":scope > ion-content"),w=m.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),E=m.querySelectorAll(":scope > ion-header > ion-toolbar"),O=Object(r.a)(),C=Object(r.a)();if(O.addElement(m).duration(e.duration||540).easing(e.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),y&&t){const e=Object(r.a)();e.addElement(t),O.addAnimation(e)}if(_||0!==E.length||0!==w.length?(C.addElement(_),C.addElement(w)):C.addElement(m.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),O.addAnimation(C),b?C.beforeClearStyles([o]).fromTo("transform",`translateX(${v})`,`translateX(${d})`).fromTo(o,f,1):C.beforeClearStyles([o]).fromTo("transform",`translateX(${g})`,`translateX(${d})`),_){const t=s(_).querySelector(".transition-effect");if(t){const e=t.querySelector(".transition-cover"),n=t.querySelector(".transition-shadow"),i=Object(r.a)(),s=Object(r.a)(),a=Object(r.a)();i.addElement(t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),s.addElement(e).beforeClearStyles([o]).fromTo(o,0,.1),a.addElement(n).beforeClearStyles([o]).fromTo(o,.03,.7),i.addAnimation([s,a]),C.addAnimation([i])}}const S=m.querySelector("ion-header.header-collapse-condense"),{forward:T,backward:I}=((t,e,n,r,i)=>{const o=u(r,n),s=a(i),h=a(r),d=u(i,n),f=null!==o&&null!==s&&!n,p=null!==h&&null!==d&&n;if(f){const r=s.getBoundingClientRect(),i=o.getBoundingClientRect();l(t,e,n,s,r,i),c(t,e,n,o,r,i)}else if(p){const r=h.getBoundingClientRect(),i=d.getBoundingClientRect();l(t,e,n,h,r,i),c(t,e,n,d,r,i)}return{forward:f,backward:p}})(O,p,b,m,y);if(E.forEach(t=>{const e=Object(r.a)();e.addElement(t),O.addAnimation(e);const n=Object(r.a)();n.addElement(t.querySelector("ion-title"));const i=Object(r.a)(),a=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),u=t.closest("ion-header"),c=u&&u.classList.contains("header-collapse-condense-inactive");let l;l=a.filter(b?t=>{const e=t.classList.contains("buttons-collapse");return e&&!c||!e}:t=>!t.classList.contains("buttons-collapse")),i.addElement(l);const h=Object(r.a)();h.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const f=Object(r.a)();f.addElement(s(t).querySelector(".toolbar-background"));const m=Object(r.a)(),y=t.querySelector("ion-back-button");if(y&&m.addElement(y),e.addAnimation([n,i,h,f,m]),i.fromTo(o,.01,1),h.fromTo(o,.01,1),b)c||n.fromTo("transform",`translateX(${v})`,`translateX(${d})`).fromTo(o,.01,1),h.fromTo("transform",`translateX(${v})`,`translateX(${d})`),m.fromTo(o,.01,1);else if(S||n.fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(o,.01,1),h.fromTo("transform",`translateX(${g})`,`translateX(${d})`),f.beforeClearStyles([o,"transform"]),(null==u?void 0:u.translucent)?f.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):f.fromTo(o,.01,"var(--opacity)"),T||m.fromTo(o,.01,1),y&&!T){const t=Object(r.a)();t.addElement(s(y).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),e.addAnimation(t)}}),y){const t=Object(r.a)(),e=y.querySelector(":scope > ion-content"),n=y.querySelectorAll(":scope > ion-header > ion-toolbar"),a=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(e||0!==n.length||0!==a.length?(t.addElement(e),t.addElement(a)):t.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),O.addAnimation(t),b){t.beforeClearStyles([o]).fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)");const e=Object(i.g)(y);O.afterAddWrite(()=>{"normal"===O.getDirection()&&e.style.setProperty("display","none")})}else t.fromTo("transform",`translateX(${d})`,`translateX(${v})`).fromTo(o,1,f);if(e){const n=s(e).querySelector(".transition-effect");if(n){const e=n.querySelector(".transition-cover"),i=n.querySelector(".transition-shadow"),s=Object(r.a)(),a=Object(r.a)(),u=Object(r.a)();s.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(e).beforeClearStyles([o]).fromTo(o,.1,0),u.addElement(i).beforeClearStyles([o]).fromTo(o,.7,.03),s.addAnimation([a,u]),t.addAnimation([s])}}n.forEach(t=>{const e=Object(r.a)();e.addElement(t);const n=Object(r.a)();n.addElement(t.querySelector("ion-title"));const i=Object(r.a)(),a=t.querySelectorAll("ion-buttons,[menuToggle]"),u=t.closest("ion-header"),c=u&&u.classList.contains("header-collapse-condense-inactive"),l=Array.from(a).filter(t=>{const e=t.classList.contains("buttons-collapse");return e&&!c||!e});i.addElement(l);const f=Object(r.a)(),g=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");g.length>0&&f.addElement(g);const m=Object(r.a)();m.addElement(s(t).querySelector(".toolbar-background"));const y=Object(r.a)(),_=t.querySelector("ion-back-button");if(_&&y.addElement(_),e.addAnimation([n,i,f,y,m]),O.addAnimation(e),y.fromTo(o,.99,0),i.fromTo(o,.99,0),f.fromTo(o,.99,0),b){if(c||n.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)").fromTo(o,.99,0),f.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)"),m.beforeClearStyles([o,"transform"]),(null==u?void 0:u.translucent)?m.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):m.fromTo(o,"var(--opacity)",0),_&&!I){const t=Object(r.a)();t.addElement(s(_).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(p?-124:124)+"px"})`),e.addAnimation(t)}}else c||n.fromTo("transform",`translateX(${d})`,`translateX(${v})`).fromTo(o,.99,0).afterClearStyles([h,o]),f.fromTo("transform",`translateX(${d})`,`translateX(${v})`).afterClearStyles([h,o]),y.afterClearStyles([o]),n.afterClearStyles([o]),i.afterClearStyles([o])})}return O}catch(n){throw n}}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uzCt:function(t,e,n){t.exports=function(){"use strict";function t(e){return t.result?t.result:e&&"function"==typeof e.getSerializer?t.result=e.getSerializer():Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function e(t,n){return(e.result=e.result||{})[n]?e.result[n]:t&&"function"==typeof t.getDriver?e.result[n]=t.getDriver(n):Promise.reject(new Error("localforage.getDriver() was not available! localforage v1.4+ is required!"))}function n(t){return e(t,t.WEBSQL)}var r=new Promise((function(t,e){"undefined"!=typeof sqlitePlugin?t():"undefined"==typeof cordova?e(new Error("cordova is not defined.")):document.addEventListener("deviceready",(function(){return t()}),!1)})).catch((function(){return Promise.resolve()}));function i(){return r.then((function(){if("undefined"!=typeof sqlitePlugin&&"function"==typeof sqlitePlugin.openDatabase)return sqlitePlugin.openDatabase;throw new Error("SQLite plugin is not present.")}))}var o={_driver:"cordovaSQLiteDriver",_initStorage:function(e){var r=this,o={db:null};if(e)for(var s in e)o[s]="string"!=typeof e[s]?e[s].toString():e[s];var a=i().then((function(t){return new Promise((function(e,n){try{o.location=o.location||"default",o.db=t({name:o.name,version:String(o.version),description:o.description,size:o.size,key:o.dbKey,location:o.location})}catch(i){n(i)}o.db.transaction((function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],(function(){r._dbInfo=o,e()}),(function(t,e){n(e)}))}))}))})),u=t(r),c=n(r);return Promise.all([u,c,a]).then((function(t){return o.serializer=t[0],a}))},_support:function(){return i().then((function(t){return!!t})).catch((function(){return!1}))}};return function(t){var e=["clear","getItem","iterate","key","keys","length","removeItem","setItem"];function r(t,e){t[e]=function(){var t=this,r=arguments;return n(t).then((function(n){return n[e].apply(t,r)}))}}for(var i=0,o=e.length;i<o;i++)r(t,e[i])}(o),o}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>Object(i.a)()(Object(r.a)(s)(t))}},"wD+u":function(t,e,n){"use strict";n.d(e,"a",(function(){return tp})),n.d(e,"b",(function(){return ep})),n.d(e,"c",(function(){return Qf})),n.d(e,"d",(function(){return Yf})),n.d(e,"e",(function(){return Xf})),n.d(e,"f",(function(){return Zf}));var r=n("8Y7J"),i=n("D0XW"),o=n("HDdC"),s=n("Cfvw"),a=n("LRne"),u=n("JX91"),c=n("7o/Q");function l(){return t=>t.lift(new h)}class h{call(t,e){return e.subscribe(new d(t))}}class d extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var f=n("lJxs"),p=n("Kqap"),g=n("/uUt"),v=n("pLZG"),m=n("pxpQ"),y=n("jmUF"),b=n("SVse"),_=n("Jgta"),w=n("zIRd"),E=n("q/0M"),O=n("qOnz"),C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function S(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var T,I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x=x||{},j=I||self;function k(){}function A(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function N(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var R="closure_uid_"+(1e9*Math.random()>>>0),P=0;function D(t,e,n){return t.call.apply(t.bind,arguments)}function L(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D:L).apply(null,arguments)}function F(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function U(){return Date.now()}function V(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function $(){this.j=this.j,this.i=this.i}$.prototype.j=!1,$.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,R)&&t[R]||(t[R]=++P)}(this)},$.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function z(t){return Array.prototype.concat.apply([],arguments)}function B(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function G(t){return/^[\s\xa0]*$/.test(t)}var W,K=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Q(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}t:{var X=j.navigator;if(X){var Z=X.userAgent;if(Z){W=Z;break t}}W=""}function J(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e={};for(var n in t)e[n]=t[n];return e}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<et.length;o++)n=et[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rt(t){return rt[" "](t),t}rt[" "]=k;var it,ot,st=Q(W,"Opera"),at=Q(W,"Trident")||Q(W,"MSIE"),ut=Q(W,"Edge"),ct=ut||at,lt=Q(W,"Gecko")&&!(Q(W.toLowerCase(),"webkit")&&!Q(W,"Edge"))&&!(Q(W,"Trident")||Q(W,"MSIE"))&&!Q(W,"Edge"),ht=Q(W.toLowerCase(),"webkit")&&!Q(W,"Edge");function dt(){var t=j.document;return t?t.documentMode:void 0}t:{var ft="",pt=(ot=W,lt?/rv:([^\);]+)(\)|;)/.exec(ot):ut?/Edge\/([\d\.]+)/.exec(ot):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ot):ht?/WebKit\/(\S+)/.exec(ot):st?/(?:Version)[ \/]?(\S+)/.exec(ot):void 0);if(pt&&(ft=pt?pt[1]:""),at){var gt=dt();if(null!=gt&&gt>parseFloat(ft)){it=String(gt);break t}}it=ft}var vt={};function mt(t){return function(t,e){var n=vt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=K(String(it)).split("."),r=K(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Y(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Y(0==s[2].length,0==a[2].length)||Y(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var yt=j.document&&at&&(dt()||parseInt(it,10))||void 0,bt=!at||9<=Number(yt),_t=at&&!mt("9"),wt=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",k,e),j.removeEventListener("test",k,e)}catch(n){}return t}();function Et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ot(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lt){t:{try{rt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ct[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Et.prototype.b=function(){this.defaultPrevented=!0},V(Ot,Et);var Ct={2:"touch",3:"pen",4:"mouse"};Ot.prototype.b=function(){Ot.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_t)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var St="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function It(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Tt,this.Y=this.Z=!1}function xt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function jt(t){this.src=t,this.a={},this.b=0}function kt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=q(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function At(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}jt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=At(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new It(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Nt="closure_lm_"+(1e6*Math.random()|0),Rt={};function Pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=qt(r),e&&e[St]?e.wa(n,r,N(i)?!!i.capture:!!i,o):Dt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pt(t,e[o],n,r,i);return null}return n=qt(n),t&&t[St]?t.va(e,n,N(r)?!!r.capture:!!r,i):Dt(t,e,n,!1,r,i)}function Dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=N(i)?!!i.capture:!!i;if(s&&!bt)return null;var a=Vt(t);if(a||(t[Nt]=a=new jt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ut,e=bt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Lt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[St])kt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vt(e))?(kt(n,t),0==n.b&&(n.src=null,e[Nt]=null)):xt(t)}}}function Mt(t){return t in Rt?Rt[t]:Rt[t]="on"+t}function Ft(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Lt(t),n.call(r,e)}function Ut(t,e){if(t.Y)return!0;if(!bt){if(!e)t:{e=["window","event"];for(var n=j,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ft(t,e=new Ot(e,this))}return Ft(t,new Ot(e,this))}function Vt(t){return(t=t[Nt])instanceof jt?t:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(t){return"function"==typeof t?t:(t[$t]||(t[$t]=function(e){return t.handleEvent(e)}),t[$t])}function Ht(){$.call(this),this.c=new jt(this),this.J=this,this.C=null}function zt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Et(e,t);else if(e instanceof Et)e.target=e.target||t;else{var i=e;nt(e=new Et(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Bt(s,r,!0,e)&&i}if(i=Bt(s=e.a=t,r,!0,e)&&i,i=Bt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Bt(s=e.a=n[o],r,!1,e)&&i}function Bt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&kt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}V(Ht,$),Ht.prototype[St]=!0,(T=Ht.prototype).addEventListener=function(t,e,n,r){Pt(this,t,e,n,r)},T.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=N(i)?!!i.capture:!!i,r=qt(r),e&&e[St]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=At(s=e.a[n],r,i,o))&&(xt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Vt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=At(n,r,i,o)),(r=-1<e?n[e]:null)&&Lt(r))}(this,t,e,n,r)},T.G=function(){if(Ht.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)xt(n[r]);delete e.a[t],e.b--}}this.C=null},T.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},T.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gt=j.JSON.stringify;function Wt(){this.b=this.a=null}var Kt,Qt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Xt}),(function(t){t.reset()}));function Yt(){var t=ee,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Xt(){this.next=this.b=this.a=null}function Zt(t){j.setTimeout((function(){throw t}),0)}function Jt(t,e){Kt||function(){var t=j.Promise.resolve(void 0);Kt=function(){t.then(ne)}}(),te||(Kt(),te=!0),ee.add(t,e)}Wt.prototype.add=function(t,e){var n=Qt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Xt.prototype.reset=function(){this.next=this.b=this.a=null};var te=!1,ee=new Wt;function ne(){for(var t;t=Yt();){try{t.a.call(t.b)}catch(n){Zt(n)}var e=Qt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}te=!1}function re(t,e){Ht.call(this),this.b=t||1,this.a=e||j,this.f=M(this.Za,this),this.g=U()}function ie(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function oe(t,e,n){if("function"==typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function se(t){t.a=oe((function(){t.a=null,t.c&&(t.c=!1,se(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}V(re,Ht),(T=re.prototype).aa=!1,T.M=null,T.Za=function(){if(this.aa){var t=U()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),zt(this,"tick"),this.aa&&(ie(this),this.start()))}},T.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=U())},T.G=function(){re.X.G.call(this),ie(this),delete this.a};var ae=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:se(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(j.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}($);function ue(t){$.call(this),this.b=t,this.a={}}V(ue,$);var ce=[];function le(t,e,n,r){Array.isArray(n)||(n&&(ce[0]=n.toString()),n=ce);for(var i=0;i<n.length;i++){var o=Pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){J(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Lt(t)}),t),t.a={}}function de(){this.a=!0}function fe(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Gt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ue.prototype.G=function(){ue.X.G.call(this),he(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},de.prototype.info=function(){};var pe={},ge=null;function ve(){return ge=ge||new Ht}function me(t){Et.call(this,pe.Fa,t)}function ye(t){var e=ve();zt(e,new me(e,t))}function be(t,e){Et.call(this,pe.STAT_EVENT,t),this.stat=e}function _e(t){var e=ve();zt(e,new be(e,t))}function we(t){Et.call(this,pe.Ga,t)}function Ee(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return j.setTimeout((function(){t()}),e)}pe.Fa="serverreachability",V(me,Et),pe.STAT_EVENT="statevent",V(be,Et),pe.Ga="timingevent",V(we,Et);var Oe={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ce={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Se(){}function Te(){}Se.prototype.a=null;var Ie,xe={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function je(){Et.call(this,"d")}function ke(){Et.call(this,"c")}function Ae(){}function Ne(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ue(this),this.P=Re,this.R=new re(t=ct?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}V(je,Et),V(ke,Et),V(Ae,Se),Ie=new Ae;var Re=45e3,Pe={},De={};function Le(t,e,n){t.H=1,t.i=on(Ze(e)),t.j=n,t.I=!0,Me(t,null)}function Me(t,e){t.u=U(),Ve(t),t.l=Ze(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),yn(n.b,"t",r),t.D=0,t.a=dr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ae(M(t.Ca,t,t.a),t.O)),le(t.J,t.a,"readystatechange",t.Xa),e=t.B?tt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ye(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Fe(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ue(t,n);if(i==De){4==e&&(t.h=4,_e(14),r=!1),fe(t.c,t.f,null,"[Incomplete Response]");break}if(i==Pe){t.h=4,_e(15),fe(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}fe(t.c,t.f,i,null),Be(t,i)}4==e&&0==n.length&&(t.h=1,_e(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ir(e),e.F=!0,_e(11))):(fe(t.c,t.f,n,"[Invalid Chunked Response]"),ze(t),He(t))}function Ue(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?De:(n=Number(e.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>e.length?De:(e=e.substr(r,n),t.D=r+n,e))}function Ve(t){t.T=U()+t.P,$e(t,t.P)}function $e(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ee(M(t.Va,t),e)}function qe(t){t.o&&(j.clearTimeout(t.o),t.o=null)}function He(t){0==t.g.v||t.A||ar(t.g,t)}function ze(t){qe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ie(t.R),he(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Be(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Sn(n.b,t)))if(n.I=t.N,!t.C&&Sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Kd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;sr(n),Qn(n)}rr(n),_e(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ee(M(n.Sa,n),6e3));if(1>=Cn(n.b)&&n.ea){try{n.ea()}catch(Kd){}n.ea=void 0}}else cr(n,11)}else if((t.C||n.a==t)&&sr(n),!G(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Q(l,"spdy")||Q(l,"quic")||Q(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Tn(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,rn(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=U()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=hr(u,u.C?u.ga:null,u.fa),f.C){In(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(qe(p),Ve(p)),u.a=f}else nr(u);0<n.g.length&&Zn(n)}else"stop"!=i[0]&&"close"!=i[0]||cr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?cr(n,7):Kn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ye(4)}catch(Kd){}}function Ge(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(A(t)||"string"==typeof t)H(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(A(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(A(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function We(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof We)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(T=Ne.prototype).setTimeout=function(t){this.P=t},T.Xa=function(t){t=t.target;var e=this.F;e&&3==zn(t)?e.f():this.Ca(t)},T.Ca=function(t){try{if(t==this.a)t:{var e=zn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ct&&!this.a.$())){this.A||4!=e||7==n||ye(8==n||0>=r?3:2),qe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,_e(12),ze(this),He(this);break t}fe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Be(this,u)}this.I?(Fe(this,e,o),ct&&this.b&&3==e&&(le(this.J,this.R,"tick",this.Wa),this.R.start())):(fe(this.c,this.f,o,null),Be(this,o)),4==e&&ze(this),this.b&&!this.A&&(4==e?ar(this.g,this):(this.b=!1,Ve(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_e(12)):(this.h=0,_e(13)),ze(this),He(this)}}}catch(c){}},T.Wa=function(){if(this.a){var t=zn(this.a),e=this.a.$();this.D<e.length&&(qe(this),Fe(this,t,e),this.b&&4!=t&&Ve(this))}},T.cancel=function(){this.A=!0,ze(this)},T.Va=function(){this.o=null;var t=U();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ye(3),_e(17)),ze(this),this.h=2,He(this)):$e(this,this.T-t)},(T=We.prototype).K=function(){Ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},T.L=function(){return Ke(this),this.a.concat()},T.get=function(t,e){return Qe(this.b,t)?this.b[t]:e},T.set=function(t,e){Qe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},T.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Xe){this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,tn(this,t.c),en(this,t.h),this.g=t.g,e=t.b;var n=new pn;n.c=e.c,e.a&&(n.a=new We(e.a),n.b=e.b),nn(this,n),this.i=t.i}else t&&(n=String(t).match(Ye))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=sn(n[2]||""),tn(this,n[3]||"",!0),en(this,n[4]),this.g=sn(n[5]||"",!0),nn(this,n[6]||"",!0),this.i=sn(n[7]||"")):(this.a=!!e,this.b=new pn(null,this.a))}function Ze(t){return new Xe(t)}function Je(t,e,n){t.f=n?sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function tn(t,e,n){t.c=n?sn(e,!0):e}function en(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nn(t,e,n){e instanceof pn?(t.b=e,function(t,e){e&&!t.f&&(gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(vn(this,e),yn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=an(e,dn)),t.b=new pn(e,t.a))}function rn(t,e,n){t.b.set(e,n)}function on(t){return rn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^U()).toString(36)),t}function sn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function an(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(an(e,cn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(an(e,cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(an(n,"/"==n.charAt(0)?hn:ln,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",an(n,fn)),t.join("")};var cn=/[#\/\?@]/g,ln=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,fn=/#/g;function pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gn(t){t.a||(t.a=new We,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function vn(t,e){gn(t),e=bn(t,e),Qe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ke(t)))}function mn(t,e){return gn(t),e=bn(t,e),Qe(t.a.b,e)}function yn(t,e,n){vn(t,e),0<n.length&&(t.c=null,t.a.set(bn(t,e),B(n)),t.b+=n.length)}function bn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(T=pn.prototype).add=function(t,e){gn(this),this.c=null,t=bn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},T.forEach=function(t,e){gn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},T.L=function(){gn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},T.K=function(t){gn(this);var e=[];if("string"==typeof t)mn(this,t)&&(e=z(e,this.a.get(bn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},T.set=function(t,e){return gn(this),this.c=null,mn(this,t=bn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},T.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},T.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var _n=function(){return function(t,e){this.b=t,this.a=e}}();function wn(t){this.g=t||En,t=j.PerformanceNavigationTiming?0<(t=j.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(j.ia&&j.ia.ya&&j.ia.ya()&&j.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var En=10;function On(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Cn(t){return t.b?1:t.a?t.a.size:0}function Sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Tn(t,e){t.a?t.a.add(e):t.b=e}function In(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function xn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=S(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return B(t.c)}function jn(){}function kn(){this.a=new jn}function An(t,e,n){var r=n||"";try{Ge(t,(function(t,n){var i=t;N(t)&&(i=Gt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Lf){throw e.push(r+"type="+encodeURIComponent("_badmap")),Lf}}function Nn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}wn.prototype.cancel=function(){var t,e;if(this.c=xn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=S(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},jn.prototype.stringify=function(t){return j.JSON.stringify(t,void 0)},jn.prototype.parse=function(t){return j.JSON.parse(t,void 0)};var Rn=j.JSON.parse;function Pn(t){Ht.call(this),this.headers=new We,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Dn,this.D=this.F=!1}V(Pn,Ht);var Dn="",Ln=/^https?$/i,Mn=["POST","PUT"];function Fn(t){return"content-type"==t.toLowerCase()}function Un(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Vn(t),qn(t)}function Vn(t){t.u||(t.u=!0,zt(t,"complete"),zt(t,"error"))}function $n(t){if(t.b&&void 0!==x&&(!t.s[1]||4!=zn(t)||2!=t.W()))if(t.l&&4==zn(t))oe(t.za,0,t);else if(zt(t,"readystatechange"),4==zn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ye)[1]||null;if(!o&&j.self&&j.self.location){var s=j.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ln.test(o?o.toLowerCase():"")}e=i}if(e)zt(t,"complete"),zt(t,"success");else{t.h=6;try{var a=2<zn(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Vn(t)}}finally{qn(t)}}}function qn(t,e){if(t.a){Hn(t);var n=t.a,r=t.s[0]?k:null;t.a=null,t.s=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch(Lf){}}}function Hn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(j.clearTimeout(t.m),t.m=null)}function zn(t){return t.a?t.a.readyState:0}function Bn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return J(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rn(t,e,n))}function Gn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wn(t){this.pa=0,this.g=[],this.c=new de,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Gn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Gn("baseRetryDelayMs",5e3,t),this.Ra=Gn("retryDelaySeedMs",1e4,t),this.Ma=Gn("forwardChannelMaxRetries",2,t),this.ma=Gn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new wn(t&&t.concurrentRequestLimit),this.ka=new kn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Kn(t){if(Yn(t),3==t.v){var e=t.R++,n=Ze(t.B);rn(n,"SID",t.J),rn(n,"RID",e),rn(n,"TYPE","terminate"),tr(t,n),(e=new Ne(t,t.c,e,void 0)).H=2,e.i=on(Ze(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(e.i.toString(),"")),!n&&j.Image&&((new Image).src=e.i,n=!0),n||(e.a=dr(e.g,null),e.a.ba(e.i)),e.u=U(),Ve(e)}lr(t)}function Qn(t){t.a&&(ir(t),t.a.cancel(),t.a=null)}function Yn(t){Qn(t),t.j&&(j.clearTimeout(t.j),t.j=null),sr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&j.clearTimeout(t.h),t.h=null)}function Xn(t,e){t.g.push(new _n(t.Oa++,e)),3==t.v&&Zn(t)}function Zn(t){On(t.b)||t.h||(t.h=!0,Jt(t.Ba,t),t.u=0)}function Jn(t,e){var n;n=e?e.f:t.R++;var r=Ze(t.B);rn(r,"SID",t.J),rn(r,"RID",n),rn(r,"AID",t.P),tr(t,r),t.i&&t.l&&Bn(r,t.i,t.l),n=new Ne(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=er(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Tn(t.b,n),Le(n,r,e)}function tr(t,e){t.f&&Ge({},(function(t,n){rn(e,n,t)}))}function er(t,e,n){n=Math.min(t.g.length,n);var r=t.f?M(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{An(l,s,"req"+c+"_")}catch(Kr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function nr(t){t.a||t.j||(t.T=1,Jt(t.Aa,t),t.o=0)}function rr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ee(M(t.Aa,t),ur(t,t.o)),t.o++,0))}function ir(t){null!=t.s&&(j.clearTimeout(t.s),t.s=null)}function or(t){t.a=new Ne(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ze(t.la);rn(e,"RID","rpc"),rn(e,"SID",t.J),rn(e,"CI",t.H?"0":"1"),rn(e,"AID",t.P),tr(t,e),rn(e,"TYPE","xmlhttp"),t.i&&t.l&&Bn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=on(Ze(e)),n.j=null,n.I=!0,Me(n,t)}function sr(t){null!=t.m&&(j.clearTimeout(t.m),t.m=null)}function ar(t,e){var n=null;if(t.a==e){sr(t),ir(t),t.a=null;var r=2}else{if(!Sn(t.b,e))return;n=e.s,In(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=U()-e.u;var i=t.u;zt(r=ve(),new we(r,n,e,i)),Zn(t)}else nr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Cn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ee(M(t.Ba,t,e),ur(t,t.u)),t.u++,0)))}(t,e)||2==r&&rr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:cr(t,5);break;case 4:cr(t,10);break;case 3:cr(t,6);break;default:cr(t,2)}}function ur(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function cr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=M(t.Ya,t);n||(n=new Xe("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||Je(n,"https"),on(n)),function(t,e){var n=new de;if(j.Image){var r=new Image;r.onload=F(Nn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=F(Nn,n,r,"TestLoadImage: error",!1,e),r.onabort=F(Nn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=F(Nn,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else _e(2);t.v=0,t.f&&t.f.ra(e),lr(t),Yn(t)}function lr(t){t.v=0,t.I=-1,t.f&&(0==xn(t.b).length&&0==t.g.length||(t.b.c.length=0,B(t.g),t.g.length=0),t.f.qa())}function hr(t,e,n){var r=function(t){return t instanceof Xe?Ze(t):new Xe(t,void 0)}(n);if(""!=r.c)e&&tn(r,e+"."+r.c),en(r,r.h);else{var i=j.location;r=function(t,e,n,r){var i=new Xe(null,void 0);return t&&Je(i,t),e&&tn(i,e),n&&en(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&J(t.V,(function(t,e){rn(r,e,t)})),n=t.na,(e=t.A)&&n&&rn(r,e,n),rn(r,"VER",t.ha),tr(t,r),r}function dr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t.Na)).F=t.C,e}function fr(){}function pr(){if(at&&!(10<=Number(yt)))throw Error("Environmental error: no available transport.")}function gr(t,e){Ht.call(this),this.a=new Wn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!G(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!G(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new yr(this)}function vr(t){je.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function mr(){ke.call(this),this.status=1}function yr(t){this.a=t}(T=Pn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ie),this.a.onreadystatechange=M(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Un(this,o)}t=n||"";var i=new We(this.headers);r&&Ge(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Fn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=j.FormData&&t instanceof j.FormData,!(0<=q(Mn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Hn(this),0<this.o&&((this.D=function(t){return at&&mt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=M(this.xa,this)):this.m=oe(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Un(this,o)}},T.xa=function(){void 0!==x&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,zt(this,"timeout"),this.abort(8))},T.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,zt(this,"complete"),zt(this,"abort"),qn(this))},T.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),Pn.X.G.call(this)},T.za=function(){this.j||(this.A||this.l||this.g?$n(this):this.Ua())},T.Ua=function(){$n(this)},T.W=function(){try{return 2<zn(this)?this.a.status:-1}catch(ot){return-1}},T.$=function(){try{return this.a?this.a.responseText:""}catch(ot){return""}},T.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rn(e)}},T.ua=function(){return this.h},T.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(T=Wn.prototype).ha=8,T.v=1,T.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ne(this,this.c,t,void 0),r=this.l;if(this.O&&(r?nt(r=tt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=er(this,n,e),rn(i=Ze(this.B),"RID",t),rn(i,"CVER",22),this.A&&rn(i,"X-HTTP-Session-Id",this.A),tr(this,i),this.i&&r&&Bn(i,this.i,r),Tn(this.b,n),this.Ia&&rn(i,"TYPE","init"),this.da?(rn(i,"$req",e),rn(i,"SID","null"),n.U=!0,Le(n,i,null)):Le(n,i,e),this.v=2}}else 3==this.v&&(t?Jn(this,t):0==this.g.length||On(this.b)||Jn(this))},T.Aa=function(){if(this.j=null,or(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ee(M(this.Ta,this),t)}},T.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_e(10),Qn(this),or(this))},T.Sa=function(){null!=this.m&&(this.m=null,Qn(this),rr(this),_e(19))},T.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),_e(2)):(this.c.info("Failed to ping google.com"),_e(1))},(T=fr.prototype).ta=function(){},T.sa=function(){},T.ra=function(){},T.qa=function(){},T.Ja=function(){},pr.prototype.a=function(t,e){return new gr(t,e)},V(gr,Ht),gr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;_e(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=hr(t,null,t.fa),Zn(t)},gr.prototype.close=function(){Kn(this.a)},gr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Xn(this.a,e)}else this.l?((e={}).__data__=Gt(t),Xn(this.a,e)):Xn(this.a,t)},gr.prototype.G=function(){this.a.f=null,delete this.f,Kn(this.a),delete this.a,gr.X.G.call(this)},V(vr,je),V(mr,ke),V(yr,fr),yr.prototype.ta=function(){zt(this.a,"a")},yr.prototype.sa=function(t){zt(this.a,new vr(t))},yr.prototype.ra=function(t){zt(this.a,new mr(t))},yr.prototype.qa=function(){zt(this.a,"b")},pr.prototype.createWebChannel=pr.prototype.a,gr.prototype.send=gr.prototype.h,gr.prototype.open=gr.prototype.g,gr.prototype.close=gr.prototype.close,Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Ce.COMPLETE="complete",Te.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",Ht.prototype.listen=Ht.prototype.va,Pn.prototype.listenOnce=Pn.prototype.wa,Pn.prototype.getLastError=Pn.prototype.Qa,Pn.prototype.getLastErrorCode=Pn.prototype.ua,Pn.prototype.getStatus=Pn.prototype.W,Pn.prototype.getResponseJson=Pn.prototype.Pa,Pn.prototype.getResponseText=Pn.prototype.$,Pn.prototype.send=Pn.prototype.ba;var br=Oe,_r=Ce,wr=pe,Er=Te,Or=Pn,Cr=n("mrSG"),Sr=new E.b("@firebase/firestore");function Tr(){return Sr.logLevel}function Ir(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sr.logLevel<=E.a.DEBUG){var r=e.map(kr);Sr.debug.apply(Sr,Object(Cr.i)(["Firestore (8.2.1): "+t],r))}}function xr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sr.logLevel<=E.a.ERROR){var r=e.map(kr);Sr.error.apply(Sr,Object(Cr.i)(["Firestore (8.2.1): "+t],r))}}function jr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sr.logLevel<=E.a.WARN){var r=e.map(kr);Sr.warn.apply(Sr,Object(Cr.i)(["Firestore (8.2.1): "+t],r))}}function kr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Lf){return t}}function Ar(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw xr(e),new Error(e)}function Nr(t,e){t||Ar()}function Rr(t,e){return t}function Pr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Dr=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Pr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Lr(t,e){return t<e?-1:t>e?1:0}function Mr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Fr(t){return t+"\0"}var Ur=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Lr(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Ur.h=new Ur("");var Vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$r=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Cr.d)(e,t),e}(Error),qr=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Ur.fromBase64String(e))}catch(e){throw new $r(Vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ur.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Hr=function(t){this._=t};function zr(){if("undefined"==typeof Uint8Array)throw new $r(Vr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Br(){if("undefined"==typeof atob)throw new $r(Vr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.fromBase64String=function(t){return Br(),new e(qr.fromBase64String(t))},e.fromUint8Array=function(t){return zr(),new e(qr.fromUint8Array(t))},e.prototype.toBase64=function(){return Br(),this._.toBase64()},e.prototype.toUint8Array=function(){return zr(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Hr),Wr=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Kr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Qr=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Qr.UNAUTHENTICATED=new Qr(null),Qr.P=new Qr("google-credentials-uid"),Qr.g=new Qr("first-party-uid");var Yr=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Xr=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Qr.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Zr=function(){function t(t){var e=this;this.C=null,this.currentUser=Qr.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(Ir("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Nr("string"==typeof n.accessToken),new Yr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Nr(null===t||"string"==typeof t),new Qr(t)},t}(),Jr=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Qr.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ti=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Jr(this.k,this.M))},t.prototype.S=function(t){t(Qr.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),ei=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();ei.U=-1;var ni=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $r(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $r(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $r(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $r(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Lr(this.nanoseconds,t.nanoseconds):Lr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ri=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new ni(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),ii=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ar(),void 0===n?n=t.length-e:n>t.length-e&&Ar(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new $r(Vr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(ii),si=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return si.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new $r(Vr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new $r(Vr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new $r(Vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $r(Vr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(ii),ui=function(){function t(t){this.path=t}return t.ft=function(e){return new t(oi.ct(e))},t.dt=function(e){return new t(oi.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===oi.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return oi.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new oi(e.slice()))},t}();function ci(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function li(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var di=function(){function t(t){this.fields=t,t.sort(ai.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Mr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),fi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(Nr(!!t),"string"==typeof t){var e=0,n=fi.exec(t);if(Nr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vi(t){return"string"==typeof t?Ur.fromBase64String(t):Ur.fromUint8Array(t)}function mi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yi(t){var e=pi(t.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}function bi(t){return null==t}function _i(t){return 0===t&&1/t==-1/0}function wi(t){return"number"==typeof t&&Number.isInteger(t)&&!_i(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mi(t)?4:10:Ar()}function Oi(t,e){var n=Ei(t);if(n!==Ei(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yi(t).isEqual(yi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=pi(t.timestampValue),r=pi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return vi(t.bytesValue).isEqual(vi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return gi(t.geoPointValue.latitude)===gi(e.geoPointValue.latitude)&&gi(t.geoPointValue.longitude)===gi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return gi(t.integerValue)===gi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=gi(t.doubleValue),r=gi(e.doubleValue);return n===r?_i(n)===_i(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Mr(t.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ci(n)!==ci(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oi(n[i],r[i])))return!1;return!0}(t,e);default:return Ar()}}function Ci(t,e){return void 0!==(t.values||[]).find((function(t){return Oi(t,e)}))}function Si(t,e){var n=Ei(t),r=Ei(e);if(n!==r)return Lr(n,r);switch(n){case 0:return 0;case 1:return Lr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=gi(t.integerValue||t.doubleValue),r=gi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ti(t.timestampValue,e.timestampValue);case 4:return Ti(yi(t),yi(e));case 5:return Lr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=vi(t),r=vi(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Lr(n[i],r[i]);if(0!==o)return o}return Lr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Lr(gi(t.latitude),gi(e.latitude));return 0!==n?n:Lr(gi(t.longitude),gi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Si(n[i],r[i]);if(o)return o}return Lr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Lr(r[s],o[s]);if(0!==a)return a;var u=Si(n[r[s]],i[o[s]]);if(0!==u)return u}return Lr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ar()}}function Ti(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Lr(t,e);var n=pi(t),r=pi(e),i=Lr(n.seconds,r.seconds);return 0!==i?i:Lr(n.nanos,r.nanos)}function Ii(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=pi(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vi(e.bytesValue).toBase64():"referenceValue"in e?ui.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ar();var n}(t)}function xi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ji(t){return!!t&&"integerValue"in t}function ki(t){return!!t&&"arrayValue"in t}function Ai(t){return!!t&&"nullValue"in t}function Ni(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ri(t){return!!t&&"mapValue"in t}var Pi=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ri(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Oi(this.proto,t.proto)},t}(),Di=function(){function t(t){void 0===t&&(t=Pi.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ei(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(ai.at(),this.Rt);return null!=t?new Pi(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Ri(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Li(t){var e=[];return li(t.fields||{},(function(t,n){var r=new ai([t]);if(Ri(n)){var i=Li(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new di(e)}var Mi=function(t,e){this.key=t,this.version=e},Fi=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Cr.d)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Mi),Ui=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Cr.d)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Mi),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Mi),$i=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function qi(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new $i(t,e,n,r,i,o,s)}function Hi(t){var e=Rr(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Ii(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),bi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=no(e.startAt)),e.endAt&&(n+="|ub:",n+=no(e.endAt)),e.St=n}return e.St}function zi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!io(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Oi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!so(t.startAt,e.startAt)&&so(t.endAt,e.endAt)}function Bi(t){return ui.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Gi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Cr.d)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Wi(t,n,r):"array-contains"===n?new Xi(t,r):"in"===n?new Zi(t,r):"not-in"===n?new Ji(t,r):"array-contains-any"===n?new to(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Ki(t,n):new Qi(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Si(e,this.value)):null!==e&&Ei(this.value)===Ei(e)&&this.Ct(Si(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ar()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Wi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ui.dt(r.referenceValue),i}return Object(Cr.d)(e,t),e.prototype.matches=function(t){var e=ui.J(t.key,this.key);return this.Ct(e)},e}(Gi),Ki=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Yi(0,n),r}return Object(Cr.d)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Gi),Qi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Yi(0,n),r}return Object(Cr.d)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Gi);function Yi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ui.dt(t.referenceValue)}))}var Xi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Cr.d)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ki(e)&&Ci(e.arrayValue,this.value)},e}(Gi),Zi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Cr.d)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ci(this.value.arrayValue,e)},e}(Gi),Ji=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Cr.d)(e,t),e.prototype.matches=function(t){if(Ci(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ci(this.value.arrayValue,e)},e}(Gi),to=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Cr.d)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ki(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ci(e.value.arrayValue,t)}))},e}(Gi),eo=function(t,e){this.position=t,this.before=e};function no(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ii(t)})).join(",")}var ro=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function io(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function oo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?ui.J(ui.dt(s.referenceValue),n.key):Si(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function so(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Oi(t.position[n],e.position[n]))return!1;return!0}var ao=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function uo(t,e,n,r,i,o,s,a){return new ao(t,e,n,r,i,o,s,a)}function co(t){return new ao(t)}function lo(t){return!bi(t.limit)&&"F"===t.limitType}function ho(t){return!bi(t.limit)&&"L"===t.limitType}function fo(t){return t.Nt.length>0?t.Nt[0].field:null}function po(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function go(t){return null!==t.collectionGroup}function vo(t){var e=Rr(t);if(null===e.Ft){e.Ft=[];var n=po(e),r=fo(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new ro(n)),e.Ft.push(new ro(ai.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new ro(ai.lt(),u))}}}return e.Ft}function mo(t){var e=Rr(t);if(!e.Ot)if("F"===e.limitType)e.Ot=qi(e.path,e.collectionGroup,vo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vo(e);r<i.length;r++){var o=i[r];n.push(new ro(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new eo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new eo(e.startAt.position,!e.startAt.before):null;e.Ot=qi(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function yo(t,e,n){return new ao(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bo(t,e){return zi(mo(t),mo(e))&&t.limitType===e.limitType}function _o(t){return Hi(mo(t))+"|lt:"+t.limitType}function wo(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Ii(e.value);var e})).join(", ")+"]"),bi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+no(t.startAt)),t.endAt&&(e+=", endAt: "+no(t.endAt)),"Target("+e+")"}(mo(t))+"; limitType="+t.limitType+")"}function Eo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):ui.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!oo(t.startAt,vo(t),e)||t.endAt&&oo(t.endAt,vo(t),e))}(t,e)}function Oo(t){return function(e,n){for(var r=!1,i=0,o=vo(t);i<o.length;i++){var s=o[i],a=Co(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Co(t,e,n){var r=t.field.ht()?ui.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Si(r,i):Ar()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ar()}}var So=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ri.min()),void 0===o&&(o=ri.min()),void 0===s&&(s=Ur.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function To(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_i(e)?"-0":e}}function Io(t){return{integerValue:""+t}}function xo(t,e){return wi(e)?Io(e):To(t,e)}var jo=function(){this.Ut=void 0};function ko(t,e,n){return t instanceof Ro?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Po?Do(t,e):t instanceof Lo?Mo(t,e):function(t,e){var n=No(t,e),r=Uo(n)+Uo(t.Qt);return ji(n)&&ji(t.Qt)?Io(r):To(t.Kt,r)}(t,e)}function Ao(t,e,n){return t instanceof Po?Do(t,e):t instanceof Lo?Mo(t,e):n}function No(t,e){return t instanceof Fo?ji(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e}(jo),Po=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Cr.d)(e,t),e}(jo);function Do(t,e){for(var n=Vo(e),r=function(t){n.some((function(e){return Oi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Cr.d)(e,t),e}(jo);function Mo(t,e){for(var n=Vo(e),r=function(t){n=n.filter((function(e){return!Oi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Cr.d)(e,t),e}(jo);function Uo(t){return gi(t.integerValue||t.doubleValue)}function Vo(t){return ki(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var $o=function(t,e){this.field=t,this.transform=e},qo=function(t,e){this.version=t,this.transformResults=e},Ho=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function zo(t,e){return void 0!==t.updateTime?e instanceof Fi&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Fi}var Bo=function(){};function Go(t,e,n){return t instanceof Xo?function(t,e,n){var r=t.value;if(n.transformResults){var i=ts(t.fieldTransforms,e,n.transformResults);r=ns(t.fieldTransforms,r,i)}return new Fi(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Zo?function(t,e,n){if(!zo(t.Gt,e))return new Vi(t.key,n.version);var r=Jo(t,e,n.transformResults?ts(t.fieldTransforms,e,n.transformResults):[]);return new Fi(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ui(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Wo(t,e,n,r){return t instanceof Xo?function(t,e,n,r){if(!zo(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=es(t.fieldTransforms,n,e,r);i=ns(t.fieldTransforms,i,o)}var s=Yo(e);return new Fi(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Zo?function(t,e,n,r){if(!zo(t.Gt,e))return e;var i=Yo(e),o=Jo(t,e,es(t.fieldTransforms,n,e,r));return new Fi(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return zo(t.Gt,e)?new Ui(t.key,ri.min()):e}(t,e)}function Ko(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Fi?e.field(o.field):void 0,a=No(o.transform,s||null);null!=a&&(n=null==n?(new Di).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function Qo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Mr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Po&&e instanceof Po||t instanceof Lo&&e instanceof Lo?Mr(t.elements,e.elements,Oi):t instanceof Fo&&e instanceof Fo?Oi(t.Qt,e.Qt):t instanceof Ro&&e instanceof Ro}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Yo(t){return t instanceof Fi?t.version:ri.min()}var Xo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Cr.d)(e,t),e}(Bo),Zo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Cr.d)(e,t),e}(Bo);function Jo(t,e,n){var r;return r=function(t,e){var n=new Di(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Fi?e.data():Pi.empty()),ns(t.fieldTransforms,r,n)}function ts(t,e,n){var r=[];Nr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Fi&&(a=e.field(o.field)),r.push(Ao(s,a,n[i]))}return r}function es(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Fi&&(c=n.field(a.field)),null===c&&r instanceof Fi&&(c=r.field(a.field)),i.push(ko(u,c,e))}return i}function ns(t,e,n){for(var r=new Di(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var rs,is,os=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Cr.d)(e,t),e}(Bo),ss=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Cr.d)(e,t),e}(Bo),as=function(t){this.count=t};function us(t){switch(t){case Vr.OK:return Ar();case Vr.CANCELLED:case Vr.UNKNOWN:case Vr.DEADLINE_EXCEEDED:case Vr.RESOURCE_EXHAUSTED:case Vr.INTERNAL:case Vr.UNAVAILABLE:case Vr.UNAUTHENTICATED:return!1;case Vr.INVALID_ARGUMENT:case Vr.NOT_FOUND:case Vr.ALREADY_EXISTS:case Vr.PERMISSION_DENIED:case Vr.FAILED_PRECONDITION:case Vr.ABORTED:case Vr.OUT_OF_RANGE:case Vr.UNIMPLEMENTED:case Vr.DATA_LOSS:return!0;default:return Ar()}}function cs(t){if(void 0===t)return xr("GRPC error has no .code"),Vr.UNKNOWN;switch(t){case rs.OK:return Vr.OK;case rs.CANCELLED:return Vr.CANCELLED;case rs.UNKNOWN:return Vr.UNKNOWN;case rs.DEADLINE_EXCEEDED:return Vr.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return Vr.RESOURCE_EXHAUSTED;case rs.INTERNAL:return Vr.INTERNAL;case rs.UNAVAILABLE:return Vr.UNAVAILABLE;case rs.UNAUTHENTICATED:return Vr.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return Vr.INVALID_ARGUMENT;case rs.NOT_FOUND:return Vr.NOT_FOUND;case rs.ALREADY_EXISTS:return Vr.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return Vr.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return Vr.FAILED_PRECONDITION;case rs.ABORTED:return Vr.ABORTED;case rs.OUT_OF_RANGE:return Vr.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return Vr.UNIMPLEMENTED;case rs.DATA_LOSS:return Vr.DATA_LOSS;default:return Ar()}}(is=rs||(rs={}))[is.OK=0]="OK",is[is.CANCELLED=1]="CANCELLED",is[is.UNKNOWN=2]="UNKNOWN",is[is.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",is[is.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",is[is.NOT_FOUND=5]="NOT_FOUND",is[is.ALREADY_EXISTS=6]="ALREADY_EXISTS",is[is.PERMISSION_DENIED=7]="PERMISSION_DENIED",is[is.UNAUTHENTICATED=16]="UNAUTHENTICATED",is[is.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",is[is.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",is[is.ABORTED=10]="ABORTED",is[is.OUT_OF_RANGE=11]="OUT_OF_RANGE",is[is.UNIMPLEMENTED=12]="UNIMPLEMENTED",is[is.INTERNAL=13]="INTERNAL",is[is.UNAVAILABLE=14]="UNAVAILABLE",is[is.DATA_LOSS=15]="DATA_LOSS";var ls=function(){function t(t,e){this.J=t,this.root=e||ds.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,ds.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,ds.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new hs(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new hs(this.root,t,this.J,!1)},t.prototype.se=function(){return new hs(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new hs(this.root,t,this.J,!0)},t}(),hs=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),ds=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ar();if(this.right._e())throw Ar();var t=this.left.me();if(t!==this.right.me())throw Ar();return t+(this._e()?0:1)},t}();ds.EMPTY=null,ds.RED=!0,ds.Jt=!1,ds.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new ds(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var fs=function(){function t(t){this.J=t,this.data=new ls(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ps(this.data.ee())},t.prototype.ne=function(t){return new ps(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ps=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),gs=new ls(ui.J);function vs(){return gs}function ms(){return vs()}var ys=new ls(ui.J);function bs(){return ys}var _s=new ls(ui.J);function ws(){return _s}var Es=new fs(ui.J);function Os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Es,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cs=new fs(Lr);function Ss(){return Cs}var Ts=function(){function t(t){this.J=t?function(e,n){return t(e,n)||ui.J(e.key,n.key)}:function(t,e){return ui.J(t.key,e.key)},this.Ve=bs(),this.pe=new ls(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Is=function(){function t(){this.ve=new ls(ui.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ar():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),xs=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ts.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&bo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),js=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,ks.Be(e,n)),new t(ri.min(),r,Ss(),vs(),Os())},t}(),ks=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Ur.h,n,Os(),Os(),Os())},t}(),As=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Ns=function(t,e){this.targetId=t,this.Ge=e},Rs=function(t,e,n,r){void 0===n&&(n=Ur.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ps=function(){function t(){this.ze=0,this.He=Ms(),this.Je=Ur.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Os(),e=Os(),n=Os();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ar()}})),new ks(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Ms()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Ds=function(){function t(t){this.hn=t,this.ln=new Map,this._n=vs(),this.fn=Ls(),this.dn=new fs(Lr)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Fi?this.En(r,t.je):t.je instanceof Ui&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ar()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Bi(i))if(0===n){var o=new ui(i.path);this.Tn(e,o,new Ui(o,ri.min()))}else Nr(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Bi(o.target)){var s=new ui(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Ui(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Os();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new js(t,n,this.dn,this._n,r);return this._n=vs(),this.fn=Ls(),this.dn=new fs(Lr),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ps,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new fs(Lr),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Ir("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ps),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Ls(){return new ls(ui.J)}function Ms(){return new ls(ui.J)}var Fs={asc:"ASCENDING",desc:"DESCENDING"},Us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vs=function(t,e){this.T=t,this.qt=e};function $s(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qs(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Hs(t,e){return $s(t,e.G())}function zs(t){return Nr(!!t),ri.W(function(t){var e=pi(t);return new ni(e.seconds,e.nanos)}(t))}function Bs(t,e){return function(t){return new oi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Gs(t){var e=oi.ct(t);return Nr(ga(e)),e}function Ws(t,e){return Bs(t.T,e.path)}function Ks(t,e){var n=Gs(e);if(n.get(1)!==t.T.projectId)throw new $r(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new $r(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new ui(Zs(n))}function Qs(t,e){return Bs(t.T,e)}function Ys(t){var e=Gs(t);return 4===e.length?oi.at():Zs(e)}function Xs(t){return new oi(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Zs(t){return Nr(t.length>4&&"documents"===t.get(4)),t.X(5)}function Js(t,e,n){return{name:Ws(t,e),fields:n.proto.mapValue.fields}}function ta(t,e,n){var r=Ks(t,e.name),i=zs(e.updateTime),o=new Pi({mapValue:{fields:e.fields}});return new Fi(r,i,o,{hasCommittedMutations:!!n})}function ea(t,e){var n;if(e instanceof Xo)n={update:Js(t,e.key,e.value)};else if(e instanceof os)n={delete:Ws(t,e.key)};else if(e instanceof Zo)n={update:Js(t,e.key,e.data),updateMask:pa(e.zt)};else{if(!(e instanceof ss))return Ar();n={verify:Ws(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ro)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Po)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Lo)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ar()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Hs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ar()}(t,e.Gt)),n}function na(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ho.updateTime(zs(t.updateTime)):void 0!==t.exists?Ho.exists(t.exists):Ho.Wt()}(e.currentDocument):Ho.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Nr("REQUEST_TIME"===e.setToServerValue),n=new Ro):"appendMissingElements"in e?n=new Po(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Lo(e.removeAllFromArray.values||[]):"increment"in e?n=new Fo(t,e.increment):Ar();var r=ai._t(e.fieldPath);return new $o(r,n)}(t,e)})):[];if(e.update){var i=Ks(t,e.update.name),o=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new di((t.fieldPaths||[]).map((function(t){return ai._t(t)})))}(e.updateMask);return new Zo(i,o,s,n,r)}return new Xo(i,o,n,r)}if(e.delete){var a=Ks(t,e.delete);return new os(a,n)}if(e.verify){var u=Ks(t,e.verify);return new ss(u,n)}return Ar()}function ra(t,e){return{documents:[Qs(t,e.path)]}}function ia(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Qs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qs(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ni(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NAN"}};if(Ai(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ni(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NAN"}};if(Ai(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(t.field),op:ca(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:la(t.field),direction:ua(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||bi(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=sa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=sa(e.endAt)),n}function oa(t){var e=Ys(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[fa(e)]:void 0!==e.fieldFilter?[da(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ar():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new ro(ha(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return bi(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=aa(n.startAt));var l=null;return n.endAt&&(l=aa(n.endAt)),uo(e,i,a,s,u,"F",c,l)}function sa(t){return{before:t.before,values:t.position}}function aa(t){return new eo(t.values||[],!!t.before)}function ua(t){return Fs[t]}function ca(t){return Us[t]}function la(t){return{fieldPath:t.ot()}}function ha(t){return ai._t(t.fieldPath)}function da(t){return Gi.create(ha(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ar()}}(t.fieldFilter.op),t.fieldFilter.value)}function fa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ha(t.unaryFilter.field);return Gi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ha(t.unaryFilter.field);return Gi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ha(t.unaryFilter.field);return Gi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ha(t.unaryFilter.field);return Gi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ar()}}function pa(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function ga(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var va=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ma=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Ar(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),ya=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new va,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new wa(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Ta(e.target.error);n.qn.reject(new wa(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new wa(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Ir("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Oa(e)},t}(),ba=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(O.n)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ir("SimpleDb","Removing database:",t),Ca(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(O.n)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ir("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new wa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new $r(Vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wa(t,n))},i.onupgradeneeded=function(t){Ir("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Ir("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Cr.e)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Cr.e)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=ya.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),ma.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ir("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_a=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Ca(this.ts.delete())},t}(),wa=function(t){function e(e,n){var r=this;return(r=t.call(this,Vr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Cr.d)(e,t),e}($r);function Ea(t){return"IndexedDbTransactionError"===t.name}var Oa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ir("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ir("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ca(n)},t.prototype.add=function(t){return Ir("SimpleDb","ADD",this.store.name,t,t),Ca(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ca(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ir("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ir("SimpleDb","DELETE",this.store.name,t),Ca(this.store.delete(t))},t.prototype.count=function(){return Ir("SimpleDb","COUNT",this.store.name),Ca(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Ir("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new ma((function(n,r){e.onerror=function(t){var e=Ta(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new ma((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _a(i),s=e(i.primaryKey,i.value,o);if(s instanceof ma){var a=s.catch((function(t){return o.done(),ma.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return ma.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ca(t){return new ma((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ta(t.target.error);n(e)}}))}var Sa=!1;function Ta(t){var e=ba.Kn(Object(O.n)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $r("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sa||(Sa=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ia=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new va,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new $r(Vr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function xa(t,e){if(xr("AsyncQueue",e+": "+t),Ea(t))return new $r(Vr.UNAVAILABLE,e+": "+t);throw t}var ja=function(t,e){this.progress=t,this.gs=e},ka="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Aa=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function Na(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Pa(e)),e=Ra(t.get(n),e);return Pa(e)}function Ra(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Pa(t){return t+"\x01\x01"}function Da(t){var e=t.length;if(Nr(e>=2),2===e)return Nr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),oi.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ar(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ar()}o=s+2}return new oi(r)}var La=function(t,e){this.seconds=t,this.nanoseconds=e},Ma=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ma.store="owner",Ma.key="owner";var Fa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Fa.store="mutationQueues",Fa.keyPath="userId";var Ua=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ua.store="mutations",Ua.keyPath="batchId",Ua.userMutationsIndex="userMutationsIndex",Ua.userMutationsKeyPath=["userId","batchId"];var Va=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Na(e)]},t.key=function(t,e,n){return[t,Na(e),n]},t}();Va.store="documentMutations",Va.PLACEHOLDER=new Va;var $a=function(t,e){this.path=t,this.readTime=e},qa=function(t,e){this.path=t,this.version=e},Ha=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ha.store="remoteDocuments",Ha.readTimeIndex="readTimeIndex",Ha.readTimeIndexPath="readTime",Ha.collectionReadTimeIndex="collectionReadTimeIndex",Ha.collectionReadTimeIndexPath=["parentPath","readTime"];var za=function(t){this.byteSize=t};za.store="remoteDocumentGlobal",za.key="remoteDocumentGlobalKey";var Ba=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ba.store="targets",Ba.keyPath="targetId",Ba.queryTargetsIndexName="queryTargetsIndex",Ba.queryTargetsKeyPath=["canonicalId","targetId"];var Ga=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ga.store="targetDocuments",Ga.keyPath=["targetId","path"],Ga.documentTargetsIndex="documentTargetsIndex",Ga.documentTargetsKeyPath=["path","targetId"];var Wa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wa.key="targetGlobalKey",Wa.store="targetGlobal";var Ka=function(t,e){this.collectionId=t,this.parent=e};Ka.store="collectionParents",Ka.keyPath=["collectionId","parent"];var Qa=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Qa.store="clientMetadata",Qa.keyPath="clientId";var Ya=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ya.store="bundles",Ya.keyPath="bundleId";var Xa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Xa.store="namedQueries",Xa.keyPath="name";var Za=Object(Cr.i)(Object(Cr.i)(Object(Cr.i)(Object(Cr.i)([Fa.store,Ua.store,Va.store,Ha.store,Ba.store,Ma.store,Wa.store,Ga.store],[Qa.store]),[za.store]),[Ka.store]),[Ya.store,Xa.store]),Ja=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(Cr.d)(e,t),e}(Aa);function tu(t,e){var n=Rr(t);return ba.Hn(n.vs,e)}var eu=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Go(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Wo(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Wo(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Os())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Mr(this.mutations,t.mutations,(function(t,e){return Qo(t,e)}))&&Mr(this.baseMutations,t.baseMutations,(function(t,e){return Qo(t,e)}))},t}(),nu=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){Nr(e.mutations.length===r.length);for(var i=ws(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ru=function(t){this.Ms=t};function iu(t,e){if(e.document)return ta(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ui.Tt(e.noDocument.path),r=cu(e.noDocument.readTime);return new Ui(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ui.Tt(e.unknownDocument.path);return r=cu(e.unknownDocument.version),new Vi(i,r)}return Ar()}function ou(t,e,n){var r=su(n),i=e.key.path.Z().rt();if(e instanceof Fi){var o=function(t,e){return{name:Ws(t,e.key),fields:e.vt().mapValue.fields,updateTime:$s(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new Ha(null,null,o,s,r,i)}if(e instanceof Ui){var a=e.key.path.rt(),u=uu(e.version);return s=e.hasCommittedMutations,new Ha(null,new $a(a,u),null,s,r,i)}if(e instanceof Vi){var c=e.key.path.rt(),l=uu(e.version);return new Ha(new qa(c,l),null,null,!0,r,i)}return Ar()}function su(t){var e=t.G();return[e.seconds,e.nanoseconds]}function au(t){var e=new ni(t[0],t[1]);return ri.W(e)}function uu(t){var e=t.G();return new La(e.seconds,e.nanoseconds)}function cu(t){var e=new ni(t.seconds,t.nanoseconds);return ri.W(e)}function lu(t,e){for(var n=(e.baseMutations||[]).map((function(e){return na(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return na(t.Ms,e)})),s=ni.fromMillis(e.localWriteTimeMs);return new eu(e.batchId,s,n,o)}function hu(t){var e,n,r=cu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?cu(t.lastLimboFreeSnapshotVersion):ri.min();return void 0!==t.query.documents?(Nr(1===(n=t.query).documents.length),e=mo(co(Ys(n.documents[0])))):e=function(t){return mo(oa(t))}(t.query),new So(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ur.fromBase64String(t.resumeToken))}function du(t,e){var n,r=uu(e.Mt),i=uu(e.lastLimboFreeSnapshotVersion);n=Bi(e.target)?ra(t.Ms,e.target):ia(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Ba(e.targetId,Hi(e.target),r,o,e.sequenceNumber,i,n)}function fu(t){var e=oa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?yo(e,e.limit,"L"):e}var pu=function(){function t(){}return t.prototype.Ls=function(t,e){return gu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:cu(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return gu(t).put({bundleId:(n=e).id,createTime:uu(zs(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return vu(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:fu(e.bundledQuery),readTime:cu(e.readTime)};var e}))},t.prototype.qs=function(t,e){return vu(t).put(function(t){return{name:t.name,readTime:uu(zs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function gu(t){return tu(t,Ya.store)}function vu(t){return tu(t,Xa.store)}var mu=function(){function t(){this.Us=new yu}return t.prototype.Qs=function(t,e){return this.Us.add(e),ma.resolve()},t.prototype.Ks=function(t,e){return ma.resolve(this.Us.getEntries(e))},t}(),yu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new fs(oi.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new fs(oi.J)).rt()},t}(),bu=function(){function t(){this.Ws=new yu}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:Na(i)};return _u(t).put(o)}return ma.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Fr(e),""],!1,!0);return _u(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Da(o.parent))}return n}))},t}();function _u(t){return tu(t,Ka.store)}var wu={js:!1,Gs:0,zs:0,Hs:0},Eu=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function Ou(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){if(t.code!==Vr.FAILED_PRECONDITION||t.message!==ka)throw t;return Ir("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Eu.ti=10,Eu.ei=1e3,Eu.ni=new Eu(41943040,Eu.ti,Eu.ei),Eu.si=new Eu(-1,0,0);var Cu=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){li(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return hi(this.oi)},t}(),Su=function(){function t(){this.ci=new Cu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:ri.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?ma.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function Tu(t,e,n){var r=t.store(Ua.store),i=t.store(Va.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Nr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Va.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return ma.$n(o).next((function(){return c}))}function Iu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ar();e=t.noDocument}return JSON.stringify(e).length}var xu=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return Nr(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).ls({index:Ua.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=Au(t),s=ku(t);return s.add({}).next((function(a){Nr("number"==typeof a);for(var u=new eu(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return ea(t.Ms,e)})),i=n.mutations.map((function(e){return ea(t.Ms,e)}));return new Ua(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new fs((function(t,e){return Lr(t.ot(),e.ot())})),d=0,f=r;d<f.length;d++){var p=f[d],g=Va.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Va.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=u.keys()})),ma.$n(l).next((function(){return u}))}))},t.prototype.gi=function(t,e){var n=this;return ku(t).get(e).next((function(t){return t?(Nr(t.userId===n.userId),lu(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?ma.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ku(t).ls({index:Ua.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Nr(e.batchId>=r),o=lu(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ku(t).ls({index:Ua.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).os(Ua.userMutationsIndex,n).next((function(t){return t.map((function(t){return lu(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=Va.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Au(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Da(r[1]);if(a===n.userId&&e.path.isEqual(c))return ku(t).get(u).next((function(t){if(!t)throw Ar();Nr(t.userId===n.userId),o.push(lu(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new fs(Lr),i=[];return e.forEach((function(e){var o=Va.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Au(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Da(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),ma.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=Va.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new fs(Lr);return Au(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Da(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Ci(t,a)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ku(t).get(e).next((function(t){if(null===t)throw Ar();Nr(t.userId===n.userId),r.push(lu(n.Kt,t))})))})),ma.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return Tu(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),ma.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return ma.resolve();var r=IDBKeyRange.lowerBound(Va.prefixForUser(e.userId)),i=[];return Au(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Da(t[1]);i.push(o)}else r.done()})).next((function(){Nr(0===i.length)}))}))},t.prototype.Mi=function(t,e){return ju(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Nu(t).get(this.userId).next((function(t){return t||new Fa(e.userId,-1,"")}))},t}();function ju(t,e,n){var r=Va.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Au(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function ku(t){return tu(t,Ua.store)}function Au(t){return tu(t,Va.store)}function Nu(t){return tu(t,Fa.store)}var Ru=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Pu=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new Ru(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return ri.W(new ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return Du(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return Nr(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return Du(t).ls((function(s,a){var u=hu(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))})).next((function(){return ma.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Du(t).ls((function(t,n){var r=hu(n);e(r)}))},t.prototype.Qi=function(t){return Lu(t).get(Wa.key).next((function(t){return Nr(null!==t),t}))},t.prototype.Ki=function(t,e){return Lu(t).put(Wa.key,e)},t.prototype.Hi=function(t,e){return Du(t).put(du(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=Hi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Du(t).ls({range:r,index:Ba.queryTargetsIndexName},(function(t,n,r){var o=hu(n);zi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=Mu(t);return e.forEach((function(e){var s=Na(e.path);i.push(o.put(new Ga(n,s))),i.push(r.mi.ir(t,n,e))})),ma.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Mu(t);return ma.forEach(e,(function(e){var o=Na(e.path);return ma.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=Mu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mu(t),i=Os();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Da(t[1]),o=new ui(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=Na(e.path),r=IDBKeyRange.bound([n],[Fr(n)],!1,!0),i=0;return Mu(t).ls({index:Ga.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Du(t).get(e).next((function(t){return t?hu(t):null}))},t}();function Du(t){return tu(t,Ba.store)}function Lu(t){return tu(t,Wa.store)}function Mu(t){return tu(t,Ga.store)}function Fu(t,e){var n=t[1],r=e[1],i=Lr(t[0],e[0]);return 0===i?Lr(n,r):i}var Uu=function(){function t(t){this.ur=t,this.buffer=new fs(Fu),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vu=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;Ir("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return Object(Cr.b)(e,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return Ea(e=n.sent())?(Ir("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ou(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),$u=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return ma.resolve(ei.U);var r=new Uu(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(Ir("LruGarbageCollector","Garbage collection skipped; disabled"),ma.resolve(wu)):this.vr(t).next((function(r){return r<n.params.Js?(Ir("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),wu):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(Ir("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.pr(t,n)})).next((function(t){return u=Date.now(),Tr()<=E.a.DEBUG&&Ir("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ma.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),qu=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new $u(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return Hu(t,n)},t.prototype.cr=function(t,e,n){return Hu(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Hu(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Nu(t)._s((function(r){return ju(t,r,e).next((function(t){return t&&(n=!0),ma.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,a){if(a<=e){var u=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),Mu(t).delete([0,Na(s.path)])}))}));i.push(u)}})).next((function(){return ma.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Hu(t,e)},t.prototype.Nr=function(t,e){var n,r=Mu(t),i=ei.U;return r.ls({index:Ga.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ei.U&&e(new ui(Da(n)),i),i=s,n=o):i=ei.U})).next((function(){i!==ei.U&&e(new ui(Da(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Hu(t,e){return Mu(t).put(function(t,e){return new Ga(0,Na(t.path),e)}(e,t.Ss))}var zu=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Wu(t).put(Ku(e),n)},t.prototype.fi=function(t,e){var n=Wu(t),r=Ku(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return Wu(t).get(Ku(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return Wu(t).get(Ku(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:Iu(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ms();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=ms(),i=new ls(ui.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,Iu(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return ma.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Wu(t).ls({range:r},(function(t,e,r){for(var s=ui.Tt(t);o&&ui.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=bs(),o=e.path.length+1,s={};if(n.isEqual(ri.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=su(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ha.collectionReadTimeIndex}return Wu(t).ls(s,(function(t,n,s){if(t.length===o){var a=iu(r.Kt,n);e.path.st(a.key.path)?a instanceof Fi&&Eo(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Bu(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Gu(t).get(za.key).next((function(t){return Nr(!!t),t}))},t.prototype.$r=function(t,e){return Gu(t).put(za.key,e)},t.prototype.Br=function(t){if(t){var e=iu(this.Kt,t);return e instanceof Ui&&e.version.isEqual(ri.min())?null:e}return null},t}(),Bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new Cu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Cr.d)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new fs((function(t,e){return Lr(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var a=e.Hr.get(o);if(s._i){var u=ou(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=Iu(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var l=ou(e.zr.Kt,new Ui(o,ri.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),ma.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(Su);function Gu(t){return tu(t,za.store)}function Wu(t){return tu(t,Ha.store)}function Ku(t){return t.path.rt()}var Qu=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Nr(n<r&&n>=0&&r<=11);var o=new ya("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ma.store)}(t),function(t){t.createObjectStore(Fa.store,{keyPath:Fa.keyPath}),t.createObjectStore(Ua.store,{keyPath:Ua.keyPath,autoIncrement:!0}).createIndex(Ua.userMutationsIndex,Ua.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Va.store)}(t),Yu(t),function(t){t.createObjectStore(Ha.store)}(t));var s=ma.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ga.store),t.deleteObjectStore(Ba.store),t.deleteObjectStore(Wa.store)}(t),Yu(t)),s=s.next((function(){return function(t){var e=t.store(Wa.store),n=new Wa(0,0,ri.min().G(),0);return e.put(Wa.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Ua.store).os().next((function(n){t.deleteObjectStore(Ua.store),t.createObjectStore(Ua.store,{keyPath:Ua.keyPath,autoIncrement:!0}).createIndex(Ua.userMutationsIndex,Ua.userMutationsKeyPath,{unique:!0});var r=e.store(Ua.store),i=n.map((function(t){return r.put(t)}));return ma.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Qa.store,{keyPath:Qa.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(za.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ha.store);e.createIndex(Ha.readTimeIndex,Ha.readTimeIndexPath,{unique:!1}),e.createIndex(Ha.collectionReadTimeIndex,Ha.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Ya.store,{keyPath:Ya.keyPath})}(t),function(t){t.createObjectStore(Xa.store,{keyPath:Xa.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(Ha.store).ls((function(t,n){e+=Iu(n)})).next((function(){var n=new za(e);return t.store(za.store).put(za.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(Fa.store),r=t.store(Ua.store);return n.os().next((function(n){return ma.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Ua.userMutationsIndex,i).next((function(r){return ma.forEach(r,(function(r){Nr(r.userId===n.userId);var i=lu(e.Kt,r);return Tu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(Ga.store),n=t.store(Ha.store);return t.store(Wa.store).get(Wa.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new oi(n),s=function(t){return[0,Na(t)]}(o);r.push(e.get(s).next((function(n){return n?ma.resolve():function(n){return e.put(new Ga(0,Na(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ma.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(Ka.store,{keyPath:Ka.keyPath});var n=e.store(Ka.store),r=new yu,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Na(i)})}};return e.store(Ha.store).ls({hs:!0},(function(t,e){var n=new oi(t);return i(n.Z())})).next((function(){return e.store(Va.store).ls({hs:!0},(function(t,e){var n=Da(t[1]);return i(n.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(Ba.store);return n.ls((function(t,r){var i=hu(r),o=du(e.Kt,i);return n.put(o)}))},t}();function Yu(t){t.createObjectStore(Ga.store,{keyPath:Ga.keyPath}).createIndex(Ga.documentTargetsIndex,Ga.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ba.store,{keyPath:Ba.keyPath}).createIndex(Ba.queryTargetsIndexName,Ba.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wa.store)}var Xu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new $r(Vr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new qu(this,i),this._o=n+"main",this.Kt=new ru(u),this.fo=new ba(this._o,11,new Qu(this.Kt)),this.wo=new Pu(this.mi,this.Kt),this.Ii=new bu,this.Eo=function(t,e){return new zu(t,e)}(this.Kt,this.Ii),this.To=new pu,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $r(Vr.FAILED_PRECONDITION,Xu);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new ei(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(Cr.b)(e,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return Object(Cr.b)(e,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return Object(Cr.b)(e,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return tc(e).put(new Qa(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(Ea(e))return Ir("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ir("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return Ju(t).get(Ma.key).next((function(t){return ma.resolve(e.xo(t))}))},t.prototype.No=function(t){return tc(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=tu(t,Qa.store);return e.os().next((function(t){var n=r.ko(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ma.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?ma.resolve(!0):Ju(t).get(Ma.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new $r(Vr.FAILED_PRECONDITION,Xu);return!1}}return!(!e.networkEnabled||!e.inForeground)||tc(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ir("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t=this;return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Ma.store,Qa.store],(function(e){var n=new Ja(e,ei.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return tc(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return xu.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ir("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Za,(function(o){return r=new Ja(o,i.ro?i.ro.next():ei.U),"readwrite-primary"===e?i.bo(r).next((function(t){return!!t||i.So(r)})).next((function(e){if(!e)throw xr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo((function(){return i.lo(!1)})),new $r(Vr.FAILED_PRECONDITION,ka);return n(r)})).next((function(t){return i.Co(r).next((function(){return t}))})):i.zo(r).next((function(){return n(r)}))})).then((function(t){return r.bs(),t}))},t.prototype.zo=function(t){var e=this;return Ju(t).get(Ma.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $r(Vr.FAILED_PRECONDITION,Xu)}))},t.prototype.Co=function(t){var e=new Ma(this.clientId,this.allowTabSynchronization,Date.now());return Ju(t).put(Ma.key,e)},t.Wn=function(){return ba.Wn()},t.prototype.Do=function(t){var e=this,n=Ju(t);return n.get(Ma.key).next((function(t){return e.xo(t)?(Ir("IndexedDbPersistence","Releasing primary lease."),n.delete(Ma.key)):ma.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(xr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return Ir("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return xr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){xr("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ju(t){return tu(t,Ma.store)}function tc(t){return tu(t,Qa.store)}function ec(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var nc=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=ms();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=vs();return i.forEach((function(t,e){e||(e=new Ui(t,ri.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return ui.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):go(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new ui(e)).next((function(t){var e=bs();return t instanceof Fi&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=bs();return this.Ii.Ks(t,i).next((function(s){return ma.forEach(s,(function(s){var a=function(t,e){return new ao(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Wo(u,l,l,o.Ds);r=h instanceof Fi?r.Ht(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Eo(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Os(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Fi&&(c=c.Ht(t,e))})),c}))},t}(),rc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Os(),i=Os(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ic=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ri.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(lo(e)||ho(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Tr()<=E.a.DEBUG&&Ir("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wo(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new fs(Oo(t));return e.forEach((function(e,r){r instanceof Fi&&Eo(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Tr()<=E.a.DEBUG&&Ir("QueryEngine","Using full collection scan to execute query:",wo(e)),this.uc.jr(t,e,ri.min())},t}(),oc=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new ls(Lr),this.wc=new Cu((function(t){return Hi(t)}),zi),this.Ec=ri.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new nc(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function sc(t,e,n,r){return new oc(t,e,n,r)}function ac(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Cr.e)(this,(function(s){switch(s.label){case 0:return n=Rr(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new nc(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=Os(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function uc(t,e){var n=Rr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ma.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);Nr(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function cc(t){var e=Rr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function lc(t,e){var n=Rr(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return Nr(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}}));var a=vs();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(hc(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(ri.min())){var u=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(u)}return ma.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function hc(t,e,n,r,i){var o=Os();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=vs();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Ui&&s.version.isEqual(ri.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):Ir("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function dc(t,e){var n=Rr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function fc(t,e){var n=Rr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?ma.resolve(r=i):n.wo.Ui(t).next((function(i){return r=new So(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function pc(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:r=Rr(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ea(s=a.sent()))throw s;return Ir("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function gc(t,e,n){var r=Rr(t),i=ri.min(),o=Os();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Rr(t),i=r.wc.get(n);return void 0!==i?ma.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,mo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:ri.min(),n?o:Os())})).next((function(t){return{documents:t,Pc:o}}))}))}function vc(t,e){var n=Rr(t),r=Rr(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function mc(t){var e=Rr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Rr(t),i=vs(),o=su(n),s=Wu(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Ha.readTimeIndex,range:a},(function(t,e){var n=iu(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:au(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs;return e.Ec=t.readTime,n}))}function yc(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){return[2,(e=Rr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Wu(t),n=ri.min();return e.ls({index:Ha.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=au(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function bc(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,d,f;return Object(Cr.e)(this,(function(p){switch(p.label){case 0:for(i=Rr(t),o=Os(),s=vs(),a=ws(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return d=i.Tc.Or({Gr:!0}),[4,fc(i,function(t){return mo(co(oi.ct("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return hc(t,d,s,ri.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.wo.Zi(t,f.targetId).next((function(){return i.wo.sr(t,o,f.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function _c(t,e,n){return void 0===n&&(n=Os()),Object(Cr.b)(this,void 0,void 0,(function(){var r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return[4,fc(t,mo(fu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Rr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=zs(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(Ur.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var wc=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return ma.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:zs(n.createTime)}),ma.resolve()},t.prototype.Bs=function(t,e){return ma.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:fu(t.bundledQuery),readTime:zs(t.readTime)}}(e)),ma.resolve()},t}(),Ec=function(){function t(){this.Sc=new fs(Oc.Dc),this.Cc=new fs(Oc.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Oc(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new Oc(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new ui(new oi([])),r=new Oc(n,t),i=new Oc(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new ui(new oi([])),n=new Oc(e,t),r=new Oc(e,t+1),i=Os();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new Oc(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Oc=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return ui.J(t.key,e.key)||Lr(t.$c,e.$c)},t.xc=function(t,e){return Lr(t.$c,e.$c)||ui.J(t.key,e.key)},t}(),Cc=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new fs(Oc.Dc)}return t.prototype.Pi=function(t){return ma.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new eu(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Oc(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return ma.resolve(o)},t.prototype.gi=function(t,e){return ma.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return ma.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return ma.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return ma.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Oc(e,0),i=new Oc(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),ma.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new fs(Lr);return e.forEach((function(t){var e=new Oc(t,0),i=new Oc(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),ma.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;ui.Et(i)||(i=i.child(""));var o=new Oc(new ui(i),0),s=new fs(Lr);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),ma.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;Nr(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return ma.forEach(e.mutations,(function(i){var o=new Oc(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Oc(e,0),r=this.qc.Pe(n);return ma.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return ma.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Sc=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new ls(ui.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return ma.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ms();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),ma.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=bs(),i=new ui(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a._i,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof Fi&&Eo(e,u)&&(r=r.Ht(u.key,u))}return ma.resolve(r)},t.prototype.Gc=function(t,e){return ma.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Tc(this)},t.prototype.Lr=function(t){return ma.resolve(this.size)},t}(),Tc=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(Cr.d)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),ma.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(Su),Ic=function(){function t(t){this.persistence=t,this.zc=new Cu((function(t){return Hi(t)}),zi),this.lastRemoteSnapshotVersion=ri.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Ec,this.targetCount=0,this.Yc=Ru.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),ma.resolve()},t.prototype.Wi=function(t){return ma.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return ma.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),ma.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),ma.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Ru(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,ma.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),ma.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,ma.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)})),ma.$n(o).next((function(){return i}))},t.prototype.er=function(t){return ma.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return ma.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),ma.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),ma.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),ma.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return ma.resolve(n)},t.prototype.Mi=function(t,e){return ma.resolve(this.Jc.Mi(e))},t}(),xc=function(){function t(t,e){var n=this;this.Xc={},this.ro=new ei(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new Ic(this),this.Ii=new mu,this.Eo=function(t,e){return new Sc(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new ru(e),this.To=new wc(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Cc(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;Ir("MemoryPersistence","Starting transaction:",t);var i=new jc(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return ma.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),jc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(Cr.d)(e,t),e}(Aa),kc=function(){function t(t){this.persistence=t,this.sa=new Ec,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ar()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),ma.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),ma.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),ma.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return ma.forEach(this.oa,(function(r){var i=ui.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return ma.Bn([function(){return ma.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Ac(t,e){return"firestore_clients_"+t+"_"+e}function Nc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Rc(t,e){return"firestore_targets_"+t+"_"+e}var Pc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new $r(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(xr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Dc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new $r(r.error.code,r.error.message)),i?new t(e,r.state,o):(xr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ss(),s=0;i&&s<r.activeTargetIds.length;++s)i=wi(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(xr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Mc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(xr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Fc=function(){function t(){this.activeTargetIds=Ss()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Uc=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new ls(Lr),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Ac(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Fc),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Cr.e)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Ac(this.persistenceKey,r)))&&(o=Lc.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Rc(this.persistenceKey,t));if(n){var r=Dc.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Rc(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ir("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ir("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ir("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ir("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return Object(Cr.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Cr.e)(this,(function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=ei.U;if(null!=t)try{var n=JSON.parse(t);Nr("number"==typeof n),e=n}catch(t){xr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ei.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Pc(this.currentUser,t,e,n),i=Nc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Nc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Rc(this.persistenceKey,t),i=new Dc(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Lc.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Pc.aa(new Qr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Dc.aa(r,e)},t.prototype.ba=function(t){return Mc.aa(t)},t.prototype.Xa=function(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Ir("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Ss();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Vc=function(){function t(){this.ru=new Fc,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Fc,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),$c=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),qc=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Ir("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Ir("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zc=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Bc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Cr.d)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Or;s.listenOnce(_r.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case br.NO_ERROR:var e=s.getResponseJson();Ir("Connection","XHR received:",JSON.stringify(e)),i(e);break;case br.TIMEOUT:Ir("Connection",'RPC "'+t+'" timed out'),o(new $r(Vr.DEADLINE_EXCEEDED,"Request time out"));break;case br.HTTP_ERROR:var n=s.getStatus();if(Ir("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Vr).indexOf(e)>=0?e:Vr.UNKNOWN}(r.status);o(new $r(a,r.message))}else o(new $r(Vr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new $r(Vr.UNAVAILABLE,"Connection failed."));break;default:Ar()}}finally{Ir("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new pr,i=ve(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(O.u)()||Object(O.x)()||Object(O.r)()||Object(O.t)()||Object(O.y)()||Object(O.q)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ir("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new zc({du:function(t){c?Ir("Connection","Not sending because WebChannel is closed:",t):(u||(Ir("Connection","Opening WebChannel transport."),a.open(),u=!0),Ir("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Er.EventType.OPEN,(function(){c||Ir("Connection","WebChannel transport opened.")})),h(a,Er.EventType.CLOSE,(function(){c||(c=!0,Ir("Connection","WebChannel transport closed"),l.Pu())})),h(a,Er.EventType.ERROR,(function(t){c||(c=!0,jr("Connection","WebChannel transport errored:",t),l.Pu(new $r(Vr.UNAVAILABLE,"The operation could not be completed")))})),h(a,Er.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Nr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ir("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=rs[t];if(void 0!==e)return cs(e)}(i),s=r.message;void 0===o&&(o=Vr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new $r(o,s)),a.close()}else Ir("Connection","WebChannel received:",n),l.yu(n)}})),h(i,wr.STAT_EVENT,(function(t){10===t.stat?Ir("Connection","Detected buffering proxy"):11===t.stat&&Ir("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Ir("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Ir("RestConnection","Received: ",t),t}),(function(e){throw jr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Hc[t]},t}());function Gc(){return"undefined"!=typeof window?window:null}function Wc(){return"undefined"!=typeof document?document:null}function Kc(t){return new Vs(t,!0)}var Qc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Ir("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Yc=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Qc(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Vr.RESOURCE_EXHAUSTED?(xr(e.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Vr.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new $r(Vr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Cr.b)(t,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Ir("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(Ir("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Xc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Cr.d)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ar()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Nr(void 0===e||"string"==typeof e),Ur.fromBase64String(e||"")):(Nr(void 0===e||e instanceof Uint8Array),Ur.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Vr.UNKNOWN:cs(t.code);return new $r(e,t.message||"")}(a);n=new Rs(r,i,o,s||null)}else if("documentChange"in e){i=Ks(t,(r=e.documentChange).document.name),o=zs(r.document.updateTime);var a=new Pi({mapValue:{fields:r.document.fields}}),u=(s=new Fi(i,o,a,{}),r.targetIds||[]);n=new As(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ks(t,(r=e.documentDelete).document),o=r.readTime?zs(r.readTime):ri.min(),a=new Ui(i,o),n=new As([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ks(t,(r=e.documentRemove).document),n=new As([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ar();var c=e.filter;i=new as(r=c.count||0),n=new Ns(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ri.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ri.min():e.readTime?zs(e.readTime):ri.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Xs(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Bi(r)?{documents:ra(t,r)}:{query:ia(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=qs(t,e.resumeToken):e.Mt.u(ri.min())>0&&(n.readTime=$s(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ar()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Xs(this.Kt),e.removeTarget=t,this.eh(e)},e}(Yc),Zc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Nr(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Nr(void 0!==e),t.map((function(t){return function(t,e){var n=zs(t.updateTime?t.updateTime:e);n.isEqual(ri.min())&&(n=zs(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new qo(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=zs(t.commitTime);return this.listener.wh(n,e)}return Nr(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Xs(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ea(e.Kt,t)}))};this.eh(n)},e}(Yc),Jc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Cr.d)(e,t),e.prototype.mh=function(){if(this.Ih)throw new $r(Vr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Vr.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Vr.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),tl=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(xr(e),this.Ph=!1):Ir("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),el=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Cr.b)(o,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return ll(this)?(Ir("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return(e=Rr(t)).Fh.add(4),[4,rl(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,nl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new tl(n,r)};function nl(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:if(!ll(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function rl(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function il(t,e){var n=Rr(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),cl(n)?ul(n):Sl(n).Ju()&&sl(n,e))}function ol(t,e){var n=Rr(t),r=Sl(n);n.Nh.delete(e),r.Ju()&&al(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():ll(n)&&n.Mh.set("Unknown"))}function sl(t,e){t.Lh.cn(e.targetId),Sl(t).hh(e)}function al(t,e){t.Lh.cn(e),Sl(t).lh(e)}function ul(t){t.Lh=new Ds({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Sl(t).start(),t.Mh.yh()}function cl(t){return ll(t)&&!Sl(t).Hu()&&t.Nh.size>0}function ll(t){return 0===Rr(t).Fh.size}function hl(t){t.Lh=void 0}function dl(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){return t.Nh.forEach((function(e,n){sl(t,e)})),[2]}))}))}function fl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(n){return hl(t),cl(t)?(t.Mh.ph(e),ul(t)):t.Mh.set("Unknown"),[2]}))}))}function pl(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Cr.e)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Rs&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Cr.e)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ir("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,gl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof As?t.Lh.wn(e):e instanceof Ns?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ri.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,cc(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Ur.h,n.Mt)),al(t,e);var r=new So(n.target,e,1,n.sequenceNumber);sl(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ir("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,gl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function gl(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r=this;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:if(!Ea(e))throw e;return t.Fh.add(1),[4,rl(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return cc(t.Sh)}),t.fs.vo((function(){return Object(Cr.b)(r,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return Ir("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,nl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function vl(t,e){return e().catch((function(n){return gl(t,n,e)}))}function ml(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Cr.e)(this,(function(s){switch(s.label){case 0:e=Rr(t),n=Tl(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ll(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,dc(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Tl(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,gl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return yl(e)&&bl(e),[2]}}))}))}function yl(t){return ll(t)&&!Tl(t).Hu()&&t.xh.length>0}function bl(t){Tl(t).start()}function _l(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){return Tl(t).Th(),[2]}))}))}function wl(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Cr.e)(this,(function(i){for(e=Tl(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function El(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=nu.from(r,e,n),[4,vl(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,ml(t)];case 2:return o.sent(),[2]}}))}))}function Ol(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return e&&Tl(t).fh?[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return us(r=e.code)&&r!==Vr.ABORTED?(n=t.xh.shift(),Tl(t).Xu(),[4,vl(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ml(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return yl(t)&&bl(t),[2]}}))}))}function Cl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return n=Rr(t),e?(n.Fh.delete(2),[4,nl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,rl(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Sl(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Rr(t);return r.mh(),new Xc(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:dl.bind(null,t),Iu:fl.bind(null,t),uh:pl.bind(null,t)}),t.Oh.push((function(n){return Object(Cr.b)(e,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),cl(t)?ul(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),hl(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Tl(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Rr(t);return r.mh(),new Zc(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:_l.bind(null,t),Iu:Ol.bind(null,t),Eh:wl.bind(null,t),wh:El.bind(null,t)}),t.Oh.push((function(n){return Object(Cr.b)(e,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ml(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Ir("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Il=function(){this.Wh=void 0,this.listeners=[]},xl=function(){this.queries=new Cu((function(t){return _o(t)}),bo),this.onlineState="Unknown",this.jh=new Set};function jl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Cr.e)(this,(function(c){switch(c.label){case 0:if(n=Rr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Il),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=xa(a,"Initialization of query '"+wo(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Rl(n),[2]}}))}))}function kl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Cr.e)(this,(function(a){return n=Rr(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Al(t,e){for(var n=Rr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&Rl(n)}function Nl(t,e,n){var r=Rr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Rl(t){t.jh.forEach((function(t){t.next()}))}var Pl=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xs(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=xs.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Dl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ll=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ks(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?ta(this.Kt,t.document,!1):new Ui(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return zs(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ll(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Os()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return[4,bc(this.Sh,new Ll(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,_c(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ja(Object.assign({},this.progress),t))]}}))}))}}();var Ml=function(t){this.key=t},Fl=function(t){this.key=t},Ul=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Os(),this.Ce=Os(),this.ll=Oo(t),this._l=new Ts(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Is,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=lo(this.query)&&i.size===this.query.limit?i.last():null,c=ho(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Fi?e:null;h&&(h=Eo(n.query,h)?h:null);var d=!!l&&n.Ce.has(l.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),lo(this.query)||ho(this.query))for(;s.size>this.query.limit;){var l=lo(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ar()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new xs(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Is,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Os(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Fl(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Ml(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Os();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return xs.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Vl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},$l=function(t){this.key=t,this.yl=!1},ql=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Cu((function(t){return _o(t)}),bo),this.Dl=new Map,this.Cl=[],this.xl=new ls(ui.J),this.Nl=new Map,this.Fl=new Ec,this.Ol={},this.kl=new Map,this.Ml=Ru.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Hl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:return n=yh(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,fc(n.Sh,mo(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,zl(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&il(n.gl,o),a.label=4;case 4:return[2,r]}}))}))}function zl(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Cr.e)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,gc(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(rh(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,gc(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ul(e,i.Pc),s=o.dl(i.documents),a=ks.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),rh(t,n,u.ml),c=new Vl(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function Bl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return n=Rr(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!bo(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,pc(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),ol(n.gl,r.targetId),eh(n,r.targetId)})).catch(Ou)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return eh(n,r.targetId),[4,pc(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Gl(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:r=bh(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rr(t),i=ni.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Os());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ko(c,n.get(c.key));null!=l&&s.push(new Zo(c.key,l,Li(l.proto.mapValue),Ho.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new ls(Lr)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,sh(r,i.ci)];case 3:return a.sent(),[4,ml(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=xa(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Wl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:n=Rr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,lc(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Nr(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Nr(r.yl):t.Ke.size>0&&(Nr(r.yl),r.yl=!1))})),[4,sh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ou(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Kl(t,e,n){var r=Rr(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Rr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Rl(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Ql(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Cr.e)(this,(function(c){switch(c.label){case 0:return(r=Rr(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new ls(ui.J)).Ht(o,new Ui(o,ri.min())),a=Os().add(o),u=new js(ri.min(),new Map,new fs(Lr),s,a),[4,Wl(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),oh(r),[3,4];case 2:return[4,pc(r.Sh,e,!1).then((function(){return eh(r,e,n)})).catch(Ou)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Yl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:n=Rr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,uc(n.Sh,e)];case 2:return i=o.sent(),th(n,r,null),Jl(n,r),n.pl.Fa(r,"acknowledged"),[4,sh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ou(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Xl(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:r=Rr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return Nr(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),th(r,e,n),Jl(r,e),r.pl.Fa(e,"rejected",n),[4,sh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ou(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Zl(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:ll((n=Rr(t)).gl)||Ir("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Rr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=xa(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Jl(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function th(t,e,n){var r=Rr(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function eh(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||nh(t,e)}))}function nh(t,e){var n=t.xl.get(e);null!==n&&(ol(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),oh(t))}function rh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ml?(t.Fl.ir(o.key,e),ih(t,o)):o instanceof Fl?(Ir("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||nh(t,o.key)):Ar()}}function ih(t,e){var n=e.key;t.xl.get(n)||(Ir("SyncEngine","New document in limbo: "+n),t.Cl.push(n),oh(t))}function oh(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new $l(e)),t.xl=t.xl.Ht(e,n),il(t.gl,new So(mo(co(e.path)),n,2,ei.U))}}function sh(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:return r=Rr(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=rc.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Cr.e)(this,(function(l){switch(l.label){case 0:n=Rr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ma.forEach(e,(function(e){return ma.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return ma.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ea(r=l.sent()))throw r;return Ir("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function ah(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return(n=Rr(t)).currentUser.isEqual(e)?[3,3]:(Ir("SyncEngine","User change. New user:",e.R()),[4,ac(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new $r(Vr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,sh(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function uh(t,e){var n=Rr(t),r=n.Nl.get(e);if(r&&r.yl)return Os().add(r.key);var i=Os(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function ch(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return[4,gc((n=Rr(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&rh(n,e.targetId,i.ml),i)]}}))}))}function lh(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){return[2,mc((e=Rr(t)).Sh).then((function(t){return sh(e,t)}))]}))}))}function hh(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,(function(){var i,o;return Object(Cr.e)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Rr(t),r=Rr(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):ma.resolve(null)}))}))}((i=Rr(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,ml(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(th(i,e,r||null),Jl(i,e),function(t,e){Rr(Rr(t).Ho).Fi(e)}(i.Sh,e)):Ar(),s.label=4;case 4:return[4,sh(i,o)];case 5:return s.sent(),[3,7];case 6:Ir("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function dh(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Cr.e)(this,(function(c){switch(c.label){case 0:return yh(n=Rr(t)),bh(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,fh(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Cl(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)il(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return eh(n,e),pc(n.Sh,e,!0)})),ol(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,fh(n,a)];case 5:return c.sent(),function(t){var e=Rr(t);e.Nl.forEach((function(t,n){ol(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new ls(ui.J)}(n),n.Ll=!1,[4,Cl(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function fh(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(Cr.e)(this,(function(g){switch(g.label){case 0:n=Rr(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,fc(n.Sh,mo(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Sl.get(h[l]),[4,ch(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vc(n.Sh,a)];case 8:return p=g.sent(),[4,fc(n.Sh,p)];case 9:return u=g.sent(),[4,zl(n,ph(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function ph(t){return uo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gh(t){var e=Rr(t);return Rr(Rr(e.Sh).persistence).Ko()}function vh(t,e,n,r){return Object(Cr.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Cr.e)(this,(function(a){switch(a.label){case 0:return(i=Rr(t)).Ll?(Ir("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mc(i.Sh)];case 3:return o=a.sent(),s=js.$e(e,"current"===n),[4,sh(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,pc(i.Sh,e,!0)];case 6:return a.sent(),eh(i,e,r),[3,8];case 7:Ar(),a.label=8;case 8:return[2]}}))}))}function mh(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Cr.e)(this,(function(d){switch(d.label){case 0:if(!(r=yh(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Ir("SyncEngine","Adding an already active target "+s),[3,5]):[4,vc(r.Sh,s)]:[3,6];case 2:return a=d.sent(),[4,fc(r.Sh,a)];case 3:return u=d.sent(),[4,zl(r,ph(a),u.targetId,!1)];case 4:d.sent(),il(r.gl,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,pc(r.Sh,t,!1).then((function(){ol(r.gl,t),eh(r,t)})).catch(Ou)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function yh(t){var e=Rr(t);return e.gl.Ch.Bh=Wl.bind(null,e),e.gl.Ch.Sn=uh.bind(null,e),e.gl.Ch.$h=Ql.bind(null,e),e.vl.uh=Al.bind(null,e.Vl),e.vl.ql=Nl.bind(null,e.Vl),e}function bh(t){var e=Rr(t);return e.gl.Ch.qh=Yl.bind(null,e),e.gl.Ch.Uh=Xl.bind(null,e),e}var _h=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return this.Kt=Kc(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return sc(this.persistence,new ic,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new xc(kc.ra,this.Kt)},t.prototype.jl=function(t){return new Vc},t.prototype.terminate=function(){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Cr.d)(e,t),e.prototype.initialize=function(e){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yc(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,bh(this.Xl.fa)];case 4:return n.sent(),[4,ml(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return sc(this.persistence,new ic,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Vu(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=ec(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Eu.Zs(this.cacheSizeBytes):Eu.ni;return new Zu(this.synchronizeTabs,e,t.clientId,n,t.fs,Gc(),Wc(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Vc},e}(_h),Eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Cr.d)(e,t),e.prototype.initialize=function(e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Uc?(this.pl.fa={nu:hh.bind(null,n),su:vh.bind(null,n),iu:mh.bind(null,n),Ko:gh.bind(null,n),eu:lh.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return Object(Cr.b)(r,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return[4,dh(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Gc();if(!Uc.Wn(e))throw new $r(Vr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ec(t.gu.T,t.gu.persistenceKey);return new Uc(e,t.fs,n,t.clientId,t.Yl)},e}(wh),Oh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n=this;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Kl(n.fa,t,1)},this.gl.Ch.s_=ah.bind(null,this.fa),[4,Cl(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new xl},t.prototype.Zl=function(t){var e=Kc(t.gu.T),n=new Bc(t.gu);return function(t,e,n){return new Jc(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Kl(s.fa,t,0)},o=qc.Wn()?new qc:new $c,new el(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new ql(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return e=Rr(t),Ir("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,rl(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Ch=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Sh=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new va,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Dl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $r(Vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new ai(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Th=function(t){this._methodName=t};function Ih(t,e,n){if(!n)throw new $r(Vr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $r(Vr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function jh(t,e,n,r){if(!0===e&&!0===r)throw new $r(Vr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kh(t){if(!ui.Et(t))throw new $r(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ah(t){if(ui.Et(t))throw new $r(Vr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Nh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ar()}function Rh(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new $r(Vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Nh(t);throw new $r(Vr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ph(t,e){if(e<=0)throw new $r(Vr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Dh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $r(Vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $r(Vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,jh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Lh=new Map,Mh=function(){function t(t,e){this.w_="(lite)",this.E_=new Dh({}),this.T_=!1,t instanceof Kr?(this.I_=t,this.m_=new Xr):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $r(Vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kr(t.options.projectId)}(t),this.m_=new Zr(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new $r(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new $r(Vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Dh(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Xr;switch(t.type){case"gapi":var e=t.client;return Nr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ti(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new $r(Vr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Lh.get(this))&&(Ir("ComponentProvider","Removing Datastore"),Lh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Fh=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vh(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Uh=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,co(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Fh(this.firestore,null,new ui(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Uh);function $h(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Hr&&(t=t._),Ih("collection","path",e),t instanceof Mh)return Ah(n=oi.ct.apply(oi,Object(Cr.i)([e],r))),new Vh(t,null,n);if(!(t instanceof Fh||t instanceof Vh))throw new $r(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ah(n=oi.ct.apply(oi,Object(Cr.i)([t.path],r)).child(oi.ct(e))),new Vh(t.firestore,null,n)}function qh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Hr&&(t=t._),1===arguments.length&&(e=Dr.t()),Ih("doc","path",e),t instanceof Mh)return kh(n=oi.ct.apply(oi,Object(Cr.i)([e],r))),new Fh(t,null,new ui(n));if(!(t instanceof Fh||t instanceof Vh))throw new $r(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kh(n=t.D_.child(oi.ct.apply(oi,Object(Cr.i)([e],r)))),new Fh(t.firestore,t instanceof Vh?t.v_:null,new ui(n))}function Hh(t,e){return t instanceof Hr&&(t=t._),e instanceof Hr&&(e=e._),(t instanceof Fh||t instanceof Vh)&&(e instanceof Fh||e instanceof Vh)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function zh(t,e){return t instanceof Hr&&(t=t._),e instanceof Hr&&(e=e._),t instanceof Uh&&e instanceof Uh&&t.firestore===e.firestore&&bo(t.C_,e.C_)&&t.v_===e.v_}var Bh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $r(Vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $r(Vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Lr(this.x_,t.x_)||Lr(this.N_,t.N_)},t}(),Gh=/^__.*__$/,Wh=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Zo(t,this.data,this.zt,e,this.fieldTransforms):new Xo(t,this.data,e,this.fieldTransforms)},t}(),Kh=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Zo(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Qh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ar()}}var Yh=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return vd(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Qh(this.k_)&&Gh.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Xh=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Kc(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Yh({k_:t,methodName:e,j_:n,path:ai.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Zh(t){var e=t.p_(),n=Kc(t.I_);return new Xh(t.I_,!!e.ignoreUndefinedProperties,n)}function Jh(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);dd("Data must be an object, but it was:",s,r);var a,u,c=ld(r,s);if(o.merge)a=new di(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=fd(e,d[h],n);if(!s.contains(f))throw new $r(Vr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");md(l,f)||l.push(f)}a=new di(l),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new Wh(new Pi(c),a,u)}var td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Th);function ed(t,e,n){return new Yh({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.z_=function(t){return new $o(t.path,new Ro)},e.prototype.isEqual=function(t){return t instanceof e},e}(Th),rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Cr.d)(e,t),e.prototype.z_=function(t){var e=ed(this,t,!0),n=this.H_.map((function(t){return cd(t,e)})),r=new Po(n);return new $o(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Th),id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Cr.d)(e,t),e.prototype.z_=function(t){var e=ed(this,t,!0),n=this.H_.map((function(t){return cd(t,e)})),r=new Lo(n);return new $o(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Th),od=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Cr.d)(e,t),e.prototype.z_=function(t){var e=new Fo(t.Kt,xo(t.Kt,this.J_));return new $o(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Th);function sd(t,e,n,r){var i=t.G_(1,e,n);dd("Data must be an object, but it was:",i,r);var o=[],s=new Di;li(r,(function(t,r){var a=gd(e,t,n);r instanceof Hr&&(r=r._);var u=i.U_(a);if(r instanceof td)o.push(a);else{var c=cd(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new di(o);return new Kh(s.yt(),a,i.fieldTransforms)}function ad(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[fd(e,r,n)],u=[i];if(o.length%2!=0)throw new $r(Vr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(fd(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Di,d=a.length-1;d>=0;--d)if(!md(l,a[d])){var f=a[d],p=u[d];p instanceof Hr&&(p=p._);var g=s.U_(f);if(p instanceof td)l.push(f);else{var v=cd(p,g);null!=v&&(l.push(f),h.set(f,v))}}var m=new di(l);return new Kh(h.yt(),m,s.fieldTransforms)}function ud(t,e,n,r){return void 0===r&&(r=!1),cd(n,t.G_(r?4:3,e))}function cd(t,e){if(t instanceof Hr&&(t=t._),hd(t))return dd("Unsupported field value:",e,t),ld(t,e);if(t instanceof Th)return function(t,e){if(!Qh(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=cd(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Hr&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xo(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ni.fromDate(t);return{timestampValue:$s(e.Kt,n)}}if(t instanceof ni)return n=new ni(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:$s(e.Kt,n)};if(t instanceof Bh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qr)return{bytesValue:qs(e.Kt,t.l)};if(t instanceof Fh){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Bs(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Nh(t))}(t,e)}function ld(t,e){var n={};return hi(t)?e.path&&e.path.length>0&&e.zt.push(e.path):li(t,(function(t,r){var i=cd(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function hd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ni||t instanceof Bh||t instanceof qr||t instanceof Fh||t instanceof Th)}function dd(t,e,n){if(!hd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Nh(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function fd(t,e,n){if(e instanceof Hr&&(e=e._),e instanceof Sh)return e.d_;if("string"==typeof e)return gd(t,e);throw vd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pd=new RegExp("[~\\*/\\[\\]]");function gd(t,e,n){if(e.search(pd)>=0)throw vd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Sh.bind.apply(Sh,Object(Cr.i)([void 0],e.split("."))))).d_}catch(r){throw vd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function vd(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new $r(Vr.INVALID_ARGUMENT,(a+=". ")+t+u)}function md(t,e){return t.some((function(t){return t.isEqual(e)}))}var yd=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new $r(Vr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Cr.e)(this,(function(u){switch(u.label){case 0:return n=Rr(t),r=Xs(n.Kt)+"/documents",i={documents:e.map((function(t){return Ws(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Nr(!!e.found);var n=Ks(t,e.found.name),r=zs(e.found.updateTime),i=new Pi({mapValue:{fields:e.found.fields}});return new Fi(n,r,i,{})}(t,e):"missing"in e?function(t,e){Nr(!!e.missing),Nr(!!e.readTime);var n=Ks(t,e.missing),r=zs(e.readTime);return new Ui(n,r)}(t,e):Ar()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Nr(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Ui||t instanceof Fi?n.sf(t):Ar()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new os(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ui.ft(n);e.mutations.push(new ss(r,e.Gt(r)))})),[4,function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return n=Rr(t),r=Xs(n.Kt)+"/documents",i={writes:e.map((function(t){return ea(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Fi)e=t.version;else{if(!(t instanceof Ui))throw Ar();e=ri.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $r(Vr.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ho.updateTime(e):Ho.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ri.min()))throw new $r(Vr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ho.updateTime(e)}return Ho.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),bd=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Qc(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Cr.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Cr.e)(this,(function(r){return t=new yd(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!bi(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!us(e)}return!1},t}(),_d=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Qr.UNAUTHENTICATED,this.clientId=Dr.t(),this._f=function(){},this.N=new va,this.credentials.S((function(t){Ir("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new $r(Vr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new va;return this.fs.Tf((function(){return Object(Cr.b)(t,void 0,void 0,(function(){var t,n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=xa(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function wd(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Ir("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return Object(Cr.b)(i,void 0,void 0,(function(){return Object(Cr.e)(this,(function(t){switch(t.label){case 0:return[4,ac(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Ed(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Od(t)];case 1:return n=i.sent(),Ir("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return Object(Cr.b)(this,void 0,void 0,(function(){var n,r;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return(n=Rr(t)).fs.Af(),Ir("RemoteStore","RemoteStore received new credentials"),r=ll(n),n.Fh.add(3),[4,rl(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,nl(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Od(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Ir("FirestoreClient","Using default OfflineComponentProvider"),[4,wd(t,new _h)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Cd(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Ir("FirestoreClient","Using default OnlineComponentProvider"),[4,Ed(t,new Oh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Sd(t){return Od(t).then((function(t){return t.persistence}))}function Td(t){return Od(t).then((function(t){return t.Sh}))}function Id(t){return Cd(t).then((function(t){return t.gl}))}function xd(t){return Cd(t).then((function(t){return t.fa}))}function jd(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e,n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return[4,Cd(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Hl.bind(null,e.fa),n.Jh=Bl.bind(null,e.fa),n)]}}))}))}function kd(t,e,n){var r=this;void 0===n&&(n={});var i=new va;return t.fs.ys((function(){return Object(Cr.b)(r,void 0,void 0,(function(){var r;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ch({next:function(o){e.ys((function(){return kl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new $r(Vr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new $r(Vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Pl(co(n.path),o,{includeMetadataChanges:!0,sl:!0});return jl(t,s)},[4,jd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Ad(t,e,n){var r=this;void 0===n&&(n={});var i=new va;return t.fs.ys((function(){return Object(Cr.b)(r,void 0,void 0,(function(){var r;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ch({next:function(n){e.ys((function(){return kl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new $r(Vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Pl(n,o,{includeMetadataChanges:!0,sl:!0});return jl(t,s)},[4,jd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Nd=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Qc(this,"async_queue_retry"),this.vf=function(){var e=Wc();e&&Ir("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Wc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Wc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Ea(t=n.sent()))throw t;return Ir("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,xr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Ia.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ar()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Cr.b)(this,void 0,void 0,(function(){var t;return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Nd,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Cr.d)(e,t),e.prototype.b_=function(){return this.Lf||Dd(this),this.Lf.terminate()},e}(Mh);function Pd(t){return t.Lf||Dd(t),t.Lf.df(),t.Lf}function Dd(t){var e=t.p_(),n=function(t,e,n){return new Wr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new _d(t.m_,t.Mf,n)}function Ld(t,e,n){var r=this,i=new va;return t.fs.enqueue((function(){return Object(Cr.b)(r,void 0,void 0,(function(){var r;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,wd(t,n)];case 1:return o.sent(),[4,Ed(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Vr.FAILED_PRECONDITION||t.code===Vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Md(t){if(t.R_||t.P_)throw new $r(Vr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fd=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Ei(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gi(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(vi(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Ar()}},t.prototype.jf=function(t,e){var n=this,r={};return li(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Bh(gi(t.latitude),gi(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return mi(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(yi(t));default:return null}},t.prototype.Bf=function(t){var e=pi(t);return new ni(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=oi.ct(t);Nr(ga(n));var r=new Kr(n.get(1),n.get(3)),i=new ui(n.X(5));return r.isEqual(e)||xr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ud=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Fh(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Vd(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field($d("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ud);function $d(t,e){return"string"==typeof e?gd(t,e):e instanceof Hr?e._.d_:e.d_}function qd(t){if(ho(t)&&0===t.Nt.length)throw new $r(Vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hd=function(){};function zd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Cr.d)(e,t),e.prototype.Yf=function(t){var e=Zh(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new $r(Vr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Zd(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Xd(r,t,l[c]));a={arrayValue:{values:u}}}else a=Xd(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zd(s,o),a=ud(n,"where",s,"in"===o||"not-in"===o);var h=Gi.create(i,o,a);return function(t,e){if(e.xt()){var n=po(t);if(null!==n&&!n.isEqual(e.field))throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=fo(t);null!==r&&Jd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new $r(Vr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Uh(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ao(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Hd),Gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Cr.d)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ro(e,n);return function(t,e){if(null===fo(t)){var n=po(t);null!==n&&Jd(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Uh(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ao(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Hd),Wd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Cr.d)(e,t),e.prototype.Yf=function(t){return new Uh(t.firestore,t.v_,yo(t.C_,this.nd,this.sd))},e}(Hd),Kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Cr.d)(e,t),e.prototype.Yf=function(t){var e=Yd(t,this.type,this.rd,this.od);return new Uh(t.firestore,t.v_,function(t,e){return new ao(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Hd),Qd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Cr.d)(e,t),e.prototype.Yf=function(t){var e=Yd(t,this.type,this.rd,this.od);return new Uh(t.firestore,t.v_,function(t,e){return new ao(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Hd);function Yd(t,e,n,r){if(n[0]instanceof Hr&&(n[0]=n[0]._),n[0]instanceof Ud)return function(t,e,n,r,i){if(!r)throw new $r(Vr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=vo(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(xi(e,r.key));else{var c=r.field(u.field);if(mi(c))throw new $r(Vr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new eo(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Zh(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new $r(Vr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!go(t)&&-1!==c.indexOf("/"))throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oi.ct(c));if(!ui.Et(l))throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ui(l);a.push(xi(e,h))}else{var d=ud(n,r,c);a.push(d)}}return new eo(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Xd(t,e,n){if(n instanceof Hr&&(n=n._),"string"==typeof n){if(""===n)throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!go(e)&&-1!==n.indexOf("/"))throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(oi.ct(n));if(!ui.Et(r))throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return xi(t,new ui(r))}if(n instanceof Fh)return xi(t,n.S_);throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Nh(n)+".")}function Zd(t,e){if(!Array.isArray(t)||0===t.length)throw new $r(Vr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $r(Vr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jd(t,e,n){if(!n.isEqual(e))throw new $r(Vr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function tf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function ef(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Cr.d)(e,t),e.prototype.Uf=function(t){return new qr(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Fh(this.firestore,null,e)},e}(Fd),rf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),of=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(Cr.d)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new sf(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field($d("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Ud),sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(of),af=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new rf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new sf(n.zf,n.Hf,r.key,r,new rf(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new $r(Vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new sf(t.zf,t.Hf,e.doc.key,e.doc,new rf(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new sf(t.zf,t.Hf,e.doc.key,e.doc,new rf(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:uf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function uf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ar()}}function cf(t,e){return t instanceof of&&e instanceof of?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof af&&e instanceof af&&t.zf===e.zf&&zh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var lf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Cr.d)(e,t),e.prototype.Uf=function(t){return new qr(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Fh(this.firestore,null,e)},e}(Fd);function hf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Rh(t,Fh);var o=Rh(t.firestore,Rd),s=Zh(o);return e instanceof Hr&&(e=e._),ff(o,[("string"==typeof e||e instanceof Sh?ad(s,"updateDoc",t.S_,e,n,r):sd(s,"updateDoc",t.S_,e)).F_(t.S_,Ho.exists(!0))])}function df(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Hr&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||tf(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(tf(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Fh)c=Rh(t.firestore,Rd),l=co(t.S_.path),u={next:function(e){i[a]&&i[a](pf(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Rh(t,Uh);c=Rh(f.firestore,Rd),l=f.C_;var p=new lf(c);u={next:function(t){i[a]&&i[a](new af(c,p,f,t))},error:i[a+1],complete:i[a+2]},qd(t.C_)}return function(t,e,n,r){var i=this,o=new Ch(r),s=new Pl(e,o,n);return t.fs.ys((function(){return Object(Cr.b)(i,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return e=jl,[4,jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(Cr.b)(i,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return e=kl,[4,jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Pd(c),l,h,u)}function ff(t,e){return function(t,e){var n=this,r=new va;return t.fs.ys((function(){return Object(Cr.b)(n,void 0,void 0,(function(){var n;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return n=Gl,[4,xd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Pd(t),e)}function pf(t,e,n){var r=n.docs.get(e.S_),i=new lf(t);return new of(t,i,e.S_,r,new rf(n.hasPendingWrites,n.fromCache),e.v_)}var gf=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Zh(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=vf(t,this.zf),i=ef(r.v_,e,n),o=Jh(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Ho.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=vf(t,this.zf);return e instanceof Hr&&(e=e._),o="string"==typeof e||e instanceof Sh?ad(this.wd,"WriteBatch.update",s.S_,e,n,r):sd(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Ho.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=vf(t,this.zf);return this.fd=this.fd.concat(new os(e.S_,Ho.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new $r(Vr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function vf(t,e){if(t instanceof Hr&&(t=t._),t.firestore!==e)throw new $r(Vr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var mf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Cr.d)(e,t),e.prototype.get=function(e){var n=this,r=vf(e,this.zf),i=new lf(this.zf);return t.prototype.get.call(this,e).then((function(t){return new of(n.zf,i,r.S_,t.Jf,new rf(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Zh(t)}return t.prototype.get=function(t){var e=this,n=vf(t,this.zf),r=new nf(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Ar();var i=t[0];if(i instanceof Ui)return new Ud(e.zf,r,n.S_,null,n.v_);if(i instanceof Fi)return new Ud(e.zf,r,i.key,i,n.v_);throw Ar()}))},t.prototype.set=function(t,e,n){var r=vf(t,this.zf),i=ef(r.v_,e,n),o=Jh(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=vf(t,this.zf);return e instanceof Hr&&(e=e._),o="string"==typeof e||e instanceof Sh?ad(this.wd,"Transaction.update",s.S_,e,n,r):sd(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=vf(t,this.zf);return this.Td.delete(e.S_),this},t}()),yf=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Md(t=Rh(t,Rd));var n=Pd(t),r=t.p_(),i=new Oh;return Ld(n,i,new wh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Md(t=Rh(t,Rd));var e=Pd(t),n=t.p_(),r=new Oh;return Ld(e,r,new Eh(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new $r(Vr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new va;return t.Mf.Tf((function(){return Object(Cr.b)(e,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Cr.b)(this,void 0,void 0,(function(){return Object(Cr.e)(this,(function(e){switch(e.label){case 0:return ba.Wn()?[4,ba.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ec(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),bf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Kr||(i.md=e),i}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Cr.b)(e,void 0,void 0,(function(){var e,n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return[4,Sd(t)];case 1:return e=r.sent(),[4,Id(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=Rr(t);return e.Fh.delete(0),nl(e)}(n))]}}))}))}))}(Pd(Rh(this._,Rd)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Cr.b)(e,void 0,void 0,(function(){var e,n;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return[4,Sd(t)];case 1:return e=r.sent(),[4,Id(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(Cr.b)(this,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return(e=Rr(t)).Fh.add(0),[4,rl(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Pd(Rh(this._,Rd)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&jh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new va;return t.fs.ys((function(){return Object(Cr.b)(e,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(r){switch(r.label){case 0:return e=Zl,[4,xd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Pd(Rh(this._,Rd)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ch(e);return t.fs.ys((function(){return Object(Cr.b)(n,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).jh.add(e),e.next()},[4,jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Cr.b)(n,void 0,void 0,(function(){var e;return Object(Cr.e)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).jh.delete(e)},[4,jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Pd(t=Rh(t,Rd)),tf(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new $r(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nf(this,$h(this._,t))}catch(t){throw Cf(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Of(this,qh(this._,t))}catch(t){throw Cf(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new jf(this,function(t,e){if(t=Rh(t,Mh),Ih("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $r(Vr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Uh(t,null,function(t){return new ao(oi.at(),t)}(e))}(this._,t))}catch(t){throw Cf(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new va;return t.fs.ys((function(){return Object(Cr.b)(n,void 0,void 0,(function(){var n;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Cd(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new bd(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Pd(t),(function(n){return e(new mf(t,n))}))}(this._,(function(n){return t(new wf(e,n))}))},e.prototype.batch=function(){var t=this;return Pd(this._),new Ef(new gf(this._,(function(e){return ff(t._,e)})))},e.prototype.loadBundle=function(t){throw new $r(Vr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new $r(Vr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Hr),_f=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Cr.d)(e,t),e.prototype.Uf=function(t){return new Gr(new qr(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Of.Ad(e,this.firestore,null)},e}(Fd),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Cr.d)(e,t),e.prototype.get=function(t){var e=this,n=Rf(t);return this._.get(n).then((function(t){return new If(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=Rf(t);return n?(xh("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rf(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Cr.i)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Rf(t);return this._.delete(e),this},e}(Hr),Ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.set=function(t,e,n){var r=Rf(t);return n?(xh("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rf(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Cr.i)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Rf(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Hr),Of=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new _f(e),r}return Object(Cr.d)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new $r(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Fh(n._,r,new ui(t)))},e.Ad=function(t,n,r){return new e(n,new Fh(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Nf(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nf(this.firestore,$h(this._,t))}catch(t){throw Cf(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Hr&&(t=t._),t instanceof Fh&&Hh(this._,t)},e.prototype.set=function(t,e){e=xh("DocumentReference.set",e);try{return function(t,e,n){t=Rh(t,Fh);var r=Rh(t.firestore,Rd),i=ef(t.v_,e,n);return ff(r,[Jh(Zh(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ho.Wt())])}(this._,t,e)}catch(t){throw Cf(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?hf(this._,t):hf.apply(void 0,Object(Cr.i)([this._,t,e],n))}catch(t){throw Cf(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ff(Rh((t=this._).firestore,Rd),[new os(t.S_,Ho.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sf(e),i=Tf(e,(function(e){return new If(t.firestore,new of(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return df(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rh(t,Fh);var e=Rh(t.firestore,Rd),n=Pd(e),r=new lf(e);return function(t,e){var n=this,r=new va;return t.fs.ys((function(){return Object(Cr.b)(n,void 0,void 0,(function(){var n;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i;return Object(Cr.e)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Fi?n.resolve(i):i instanceof Ui?n.resolve(null):n.reject(new $r(Vr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=xa(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Td(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new of(e,r,t.S_,n,new rf(n instanceof Fi&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Rh(t,Fh);var e=Rh(t.firestore,Rd);return kd(Pd(e),t.S_,{source:"server"}).then((function(n){return pf(e,t,n)}))}(this._):function(t){t=Rh(t,Fh);var e=Rh(t.firestore,Rd);return kd(Pd(e),t.S_).then((function(n){return pf(e,t,n)}))}(this._)).then((function(t){return new If(e.firestore,new of(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Hr);function Cf(t,e,n){return t.message=t.message.replace(e,n),t}function Sf(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!tf(r))return r}return{}}function Tf(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=tf(t[0])?t[0]:tf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var If=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Of(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return cf(this._,t._)},e}(Hr),xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(If),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new _f(e),r}return Object(Cr.d)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,zd(this._,function(t,e,n){var r=e,i=$d("where",t);return new Bd(i,r,n)}(t,n,r)))}catch(t){throw Cf(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zd(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=$d("orderBy",t);return new Gd(r,n)}(t,n)))}catch(t){throw Cf(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zd(this._,function(t){return Ph("limit",t),new Wd("limit",t,"F")}(t)))}catch(t){throw Cf(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zd(this._,function(t){return Ph("limitToLast",t),new Wd("limitToLast",t,"L")}(t)))}catch(t){throw Cf(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kd("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Cf(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kd("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Cf(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qd("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Cf(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qd("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Cf(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return zh(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Rd),n=Pd(e),r=new lf(e);return function(t,e){var n=this,r=new va;return t.fs.ys((function(){return Object(Cr.b)(n,void 0,void 0,(function(){var n;return Object(Cr.e)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Cr.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Cr.e)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,gc(t,e,!0)];case 1:return a=u.sent(),r=new Ul(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=xa(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Td(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new af(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Rd),n=Pd(e),r=new lf(e);return Ad(n,t.C_,{source:"server"}).then((function(n){return new af(e,r,t,n)}))}(this._):function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Rd),n=Pd(e),r=new lf(e);return qd(t.C_),Ad(n,t.C_).then((function(n){return new af(e,r,t,n)}))}(this._)).then((function(t){return new Af(e.firestore,new af(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sf(e),i=Tf(e,(function(e){return new Af(t.firestore,new af(t.firestore._,t.Hf,t._,e.ud))}));return df(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Hr),kf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xf(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Hr),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new jf(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new xf(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new kf(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new xf(n.zf,r))}))},e.prototype.isEqual=function(t){return cf(this._,t._)},e}(Hr),Nf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Cr.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Of(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Of(this.firestore,void 0===t?qh(this._):qh(this._,t))}catch(t){throw Cf(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Rh(t.firestore,Rd),r=qh(t),i=ef(t.v_,e);return ff(n,[Jh(Zh(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ho.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Of(e.firestore,t)}))},e.prototype.isEqual=function(t){return Hh(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(jf);function Rf(t){return t instanceof Hr&&(t=t._),Rh(t,Fh)}var Pf=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Sh.bind.apply(Sh,Object(Cr.i)([void 0],e))))||this}return Object(Cr.d)(e,t),e.documentId=function(){return new e(ai.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Hr&&(t=t._),t instanceof Sh&&this._.d_.isEqual(t.d_)},e}(Hr),Df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Cr.d)(e,t),e.serverTimestamp=function(){var t=new nd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new td("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rd("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new id("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new od("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Hr);!function(){function t(){this.Pd={},this.yd=new va,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Lf,Mf=n("/6Yf"),Ff={Firestore:bf,GeoPoint:Bh,Timestamp:ni,Blob:Gr,Transaction:wf,WriteBatch:Ef,DocumentReference:Of,DocumentSnapshot:If,Query:jf,QueryDocumentSnapshot:xf,QuerySnapshot:Af,CollectionReference:Nf,FieldPath:Pf,FieldValue:Df,setLogLevel:function(t){Sr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Mf.a("firestore",(function(t){return function(t,e){return new bf(t,new Rd(t,e),new yf)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ff)))})(Lf=w.a),Lf.registerVersion("@firebase/firestore","2.1.1");var Uf=n("VRCc");function Vf(t,e){return function(t,e=i.b){return new o.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function $f(t,e){return Vf(t,e).pipe(Object(f.a)(t=>({payload:t,type:"query"})))}function qf(t,e){return $f(t,e).pipe(Object(u.a)(void 0),l(),Object(f.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Hf(t,e,n){return qf(t,n).pipe(Object(p.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return zf(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return zf(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zf(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(g.a)(),Object(f.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function zf(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Bf(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Gf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=qf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(f.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(u.a)(void 0),l(),Object(v.a)(([t,e])=>e.length>0||!t),Object(f.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Bf(t);return Hf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $f(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(m.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Wf(this.ref.doc(t),this.afs)}}class Wf{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Jf(n,e);return new Gf(r,i,this.afs)}snapshotChanges(){return Vf(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(void 0),l(),Object(f.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(f.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(s.a)(this.ref.get(t)).pipe(Object(m.b)(this.afs.schedulers.insideAngular))}}class Kf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qf(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(v.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):qf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Bf(t);return Hf(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $f(this.query,this.afs.schedulers.outsideAngular).pipe(Object(f.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(m.b)(this.afs.schedulers.insideAngular))}}const Qf=new r.q("angularfire2.enableFirestorePersistence"),Yf=new r.q("angularfire2.firestore.persistenceSettings"),Xf=new r.q("angularfire2.firestore.settings"),Zf=new r.q("angularfire2.firestore.use-emulator");function Jf(t,e=(t=>t)){return{query:e(t),ref:t}}let tp=(()=>{class t{constructor(t,e,n,r,i,o,u,c,l){this.schedulers=new y.e(o),this.keepUnstableUntilFirst=Object(y.i)(this.schedulers);const h=Object(y.h)(t,o,e);!_.a.auth&&l&&Object(y.k)();const d=c;[this.firestore,this.persistenceEnabled$]=Object(y.g)(h.name+".firestore","AngularFirestore",h,()=>{const t=o.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),d&&t.useEmulator(...d),n&&!Object(b.v)(i)){const e=()=>{try{return Object(s.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Lf){return"undefined"!=typeof console&&console.warn(Lf),Object(a.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[r,d,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Jf(n,e),o=this.schedulers.ngZone.run(()=>r);return new Gf(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Kf(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Wf(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=Object(r.ac)({factory:function(){return new t(Object(r.bc)(y.c),Object(r.bc)(y.b,8),Object(r.bc)(Qf,8),Object(r.bc)(Xf,8),Object(r.bc)(r.B),Object(r.bc)(r.z),Object(r.bc)(Yf,8),Object(r.bc)(Zf,8),Object(r.bc)(Uf.h,8))},token:t,providedIn:"any"}),t})();class ep{static enablePersistence(t){return{ngModule:ep,providers:[{provide:Qf,useValue:!0},{provide:Yf,useValue:t}]}}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xSm1:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("KOl+");function i(t,e,n,i){return Object(r.d)(t,e,n).apply(this,i)}},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgBC:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c}));var r=n("8Y7J"),i=n("SVse"),o=n("oAJy"),s=n("uzCt");let a=class{constructor(t,e){this.platformId=e,this._driver=null,this._dbPromise=new Promise((e,n)=>{if(Object(i.v)(this.platformId)){const t=function(){const t=()=>{};return{getItem:t,setItem:t,removeItem:t,clear:t,length:()=>0,keys:()=>[],iterate:t}}();return void e(t)}let r;const a=Object.assign({name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]},t||{});Object(o.defineDriver)(s).then(()=>{r=Object(o.createInstance)(a)}).then(()=>r.setDriver(this._getDriverOrder(a.driverOrder))).then(()=>{this._driver=r.driver(),e(r)}).catch(t=>n(t))})}get driver(){return this._driver}ready(){return this._dbPromise}_getDriverOrder(t){return t.map(t=>{switch(t){case"sqlite":return s._driver;case"indexeddb":return o.INDEXEDDB;case"websql":return o.WEBSQL;case"localstorage":return o.LOCALSTORAGE}})}get(t){return this._dbPromise.then(e=>e.getItem(t))}set(t,e){return this._dbPromise.then(n=>n.setItem(t,e))}remove(t){return this._dbPromise.then(e=>e.removeItem(t))}clear(){return this._dbPromise.then(t=>t.clear())}length(){return this._dbPromise.then(t=>t.length())}keys(){return this._dbPromise.then(t=>t.keys())}forEach(t){return this._dbPromise.then(e=>e.iterate(t))}};const u=new r.q("STORAGE_CONFIG_TOKEN");function c(t,e){return new a(t||{name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]},e)}var l;let h=l=class{static forRoot(t=null){return{ngModule:l,providers:[{provide:u,useValue:t},{provide:a,useFactory:c,deps:[u,r.B]}]}}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("DH7j"),o=n("n6bG"),s=n("lJxs");function a(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?a(t,e,n).pipe(Object(s.a)(t=>Object(i.a)(t)?u(...t):u(t))):new r.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}},y08P:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));class r{constructor(t,e,n,r,i){this.id=e,this.name=n,this.disableScroll=i,this.priority=1e6*r+e,this.ctrl=t}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class i{constructor(t,e,n,r){this.id=e,this.disable=n,this.disableScroll=r,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const o=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){return new r(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)}createBlocker(t={}){return new i(this,this.newID(),t.disable,!!t.disableScroll)}start(t,e,n){return this.canStart(t)?(this.requestedStart.set(e,n),!0):(this.requestedStart.delete(e),!1)}capture(t,e,n){if(!this.start(t,e,n))return!1;const r=this.requestedStart;let i=-1e4;if(r.forEach(t=>{i=Math.max(i,t)}),i===n){this.capturedId=e,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(n),!0}return r.delete(e),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,e){let n=this.disabledGestures.get(t);void 0===n&&(n=new Set,this.disabledGestures.set(t,n)),n.add(e)}enableGesture(t,e){const n=this.disabledGestures.get(t);void 0!==n&&n.delete(e)}disableScroll(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add("backdrop-no-scroll")}enableScroll(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove("backdrop-no-scroll")}canStart(t){return void 0===this.capturedId&&!this.isDisabled(t)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const e=this.disabledGestures.get(t);return!!(e&&e.size>0)}newID(){return this.gestureId++,this.gestureId}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z1RL:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("QPqR");let i;const o=t=>{if(void 0===i){const e=void 0!==t.style.webkitAnimationName;i=void 0===t.style.animationName&&e?"-webkit-":""}return i},s=(t,e,n)=>{const r=e.startsWith("animation")?o(t):"";t.style.setProperty(r+e,n)},a=(t,e)=>{const n=e.startsWith("animation")?o(t):"";t.style.removeProperty(n+e)},u=[],c=(t=[],e)=>{if(void 0!==e){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},l=t=>{let e,n,i,l,h,d,f,p,g,v,m,y,b,_=[],w=[],E=[],O=!1,C={},S=[],T=[],I={},x=0,j=!1,k=!1,A=!0,N=!1,R=!0;const P=t,D=[],L=[],M=[],F=[],U=[],V=[],$=[],q=[],H=[],z=[],B="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&B,W=(t,e)=>((e&&e.oneTimeCallback?L:D).push({c:t,o:e}),b),K=()=>{if(G)z.forEach(t=>{t.cancel()}),z.length=0;else{const t=M.slice();Object(r.p)(()=>{t.forEach(t=>{a(t,"animation-name"),a(t,"animation-duration"),a(t,"animation-timing-function"),a(t,"animation-iteration-count"),a(t,"animation-delay"),a(t,"animation-play-state"),a(t,"animation-fill-mode"),a(t,"animation-direction")})})}},Q=()=>{U.forEach(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}),U.length=0},Y=()=>void 0!==h?h:f?f.getFill():"both",X=()=>void 0!==g?g:void 0!==d?d:f?f.getDirection():"normal",Z=()=>j?"linear":void 0!==i?i:f?f.getEasing():"linear",J=()=>k?0:void 0!==v?v:void 0!==n?n:f?f.getDuration():0,tt=()=>void 0!==l?l:f?f.getIterations():1,et=()=>void 0!==m?m:void 0!==e?e:f?f.getDelay():0,nt=()=>{0!==x&&(x--,0===x&&((()=>{lt(),q.forEach(t=>t()),H.forEach(t=>t());const t=A?1:0,e=S,n=T,r=I;M.forEach(t=>{const i=t.classList;e.forEach(t=>i.add(t)),n.forEach(t=>i.remove(t));for(const e in r)r.hasOwnProperty(e)&&s(t,e,r[e])}),D.forEach(e=>e.c(t,b)),L.forEach(e=>e.c(t,b)),L.length=0,R=!0,A&&(N=!0),A=!0})(),f&&f.animationFinish()))},rt=(e=!0)=>{(()=>{V.forEach(t=>t()),$.forEach(t=>t());const t=w,e=E,n=C;M.forEach(r=>{const i=r.classList;t.forEach(t=>i.add(t)),e.forEach(t=>i.remove(t));for(const t in n)n.hasOwnProperty(t)&&s(r,t,n[t])})})(),_.length>0&&(G?(M.forEach(t=>{const e=t.animate(_,{id:P,delay:et(),duration:J(),easing:Z(),iterations:tt(),fill:Y(),direction:X()});e.pause(),z.push(e)}),z.length>0&&(z[0].onfinish=()=>{nt()})):((e=!0)=>{Q();const n=((i=_).forEach(t=>{for(const e in t)if(t.hasOwnProperty(e)){const n=t[e];if("easing"===e)t["animation-timing-function"]=n,delete t[e];else{const r=e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();r!==e&&(t[r]=n,delete t[e])}}}),i);var i;M.forEach(i=>{if(n.length>0){const a=((t=[])=>t.map(t=>{const e=t.offset,n=[];for(const r in t)t.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${t[r]};`);return`${100*e}% { ${n.join(" ")} }`}).join(" "))(n);y=void 0!==t?t:(t=>{let e=u.indexOf(t);return e<0&&(e=u.push(t)-1),"ion-animation-"+e})(a);const c=((t,e,n)=>{const r=(t=>{const e=t.getRootNode();return e.head||e})(n),i=o(n),s=r.querySelector("#"+t);if(s)return s;const a=(n.ownerDocument||document).createElement("style");return a.id=t,a.textContent=`@${i}keyframes ${t} { ${e} } @${i}keyframes ${t}-alt { ${e} }`,r.appendChild(a),a})(y,a,i);U.push(c),s(i,"animation-duration",J()+"ms"),s(i,"animation-timing-function",Z()),s(i,"animation-delay",et()+"ms"),s(i,"animation-fill-mode",Y()),s(i,"animation-direction",X());const l=tt()===1/0?"infinite":tt().toString();s(i,"animation-iteration-count",l),s(i,"animation-play-state","paused"),e&&s(i,"animation-name",c.id+"-alt"),Object(r.p)(()=>{s(i,"animation-name",c.id||null)})}})})(e)),O=!0},it=t=>{if(t=Math.min(Math.max(t,0),.9999),G)z.forEach(e=>{e.currentTime=e.effect.getComputedTiming().delay+J()*t,e.pause()});else{const e=`-${J()*t}ms`;M.forEach(t=>{_.length>0&&(s(t,"animation-delay",e),s(t,"animation-play-state","paused"))})}},ot=t=>{z.forEach(t=>{t.effect.updateTiming({delay:et(),duration:J(),easing:Z(),iterations:tt(),fill:Y(),direction:X()})}),void 0!==t&&it(t)},st=(t=!0,e)=>{Object(r.p)(()=>{M.forEach(n=>{s(n,"animation-name",y||null),s(n,"animation-duration",J()+"ms"),s(n,"animation-timing-function",Z()),s(n,"animation-delay",void 0!==e?`-${e*J()}ms`:et()+"ms"),s(n,"animation-fill-mode",Y()||null),s(n,"animation-direction",X()||null);const i=tt()===1/0?"infinite":tt().toString();s(n,"animation-iteration-count",i),t&&s(n,"animation-name",y+"-alt"),Object(r.p)(()=>{s(n,"animation-name",y||null)})})})},at=(t=!1,e=!0,n)=>(t&&F.forEach(r=>{r.update(t,e,n)}),G?ot(n):st(e,n),b),ut=()=>{O&&(G?z.forEach(t=>{t.pause()}):M.forEach(t=>{s(t,"animation-play-state","paused")}))},ct=()=>{p=void 0,nt()},lt=()=>{p&&clearTimeout(p)},ht=t=>new Promise(e=>{t&&t.sync&&(k=!0,W(()=>k=!1,{oneTimeCallback:!0})),O||rt(),N&&(G?(it(0),ot()):st(),N=!1),R&&(x=F.length+1,R=!1),W(()=>e(),{oneTimeCallback:!0}),F.forEach(t=>{t.play()}),G?(z.forEach(t=>{t.play()}),0!==_.length&&0!==M.length||nt()):(()=>{if(lt(),Object(r.p)(()=>{M.forEach(t=>{_.length>0&&s(t,"animation-play-state","running")})}),0===_.length||0===M.length)nt();else{const t=et()||0,e=J()||0,n=tt()||1;isFinite(n)&&(p=setTimeout(ct,t+e*n+100)),((t,e)=>{let n;const i={passive:!0},o=e=>{t===e.target&&(n&&n(),lt(),Object(r.p)(()=>{M.forEach(t=>{a(t,"animation-duration"),a(t,"animation-delay"),a(t,"animation-play-state")}),Object(r.p)(nt)}))};t&&(t.addEventListener("webkitAnimationEnd",o,i),t.addEventListener("animationend",o,i),n=()=>{t.removeEventListener("webkitAnimationEnd",o,i),t.removeEventListener("animationend",o,i)})})(M[0])}})()}),dt=(t,e)=>{const n=_[0];return void 0===n||void 0!==n.offset&&0!==n.offset?_=[{offset:0,[t]:e},..._]:n[t]=e,b};return b={parentAnimation:f,elements:M,childAnimations:F,id:P,animationFinish:nt,from:dt,to:(t,e)=>{const n=_[_.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?_=[..._,{offset:1,[t]:e}]:n[t]=e,b},fromTo:(t,e,n)=>dt(t,e).to(t,n),parent:t=>(f=t,b),play:ht,pause:()=>(F.forEach(t=>{t.pause()}),ut(),b),stop:()=>{F.forEach(t=>{t.stop()}),O&&(K(),O=!1),j=!1,k=!1,R=!0,g=void 0,v=void 0,m=void 0,x=0,N=!1,A=!0},destroy:t=>(F.forEach(e=>{e.destroy(t)}),(t=>{K(),t&&Q()})(t),M.length=0,F.length=0,_.length=0,D.length=0,L.length=0,O=!1,R=!0,b),keyframes:t=>(_=t,b),addAnimation:t=>{if(null!=t)if(Array.isArray(t))for(const e of t)e.parent(b),F.push(e);else t.parent(b),F.push(t);return b},addElement:t=>{if(null!=t)if(1===t.nodeType)M.push(t);else if(t.length>=0)for(let e=0;e<t.length;e++)M.push(t[e]);else console.error("Invalid addElement value");return b},update:at,fill:t=>(h=t,at(!0),b),direction:t=>(d=t,at(!0),b),iterations:t=>(l=t,at(!0),b),duration:t=>(G||0!==t||(t=1),n=t,at(!0),b),easing:t=>(i=t,at(!0),b),delay:t=>(e=t,at(!0),b),getWebAnimations:()=>z,getKeyframes:()=>_,getFill:Y,getDirection:X,getDelay:et,getIterations:tt,getEasing:Z,getDuration:J,afterAddRead:t=>(q.push(t),b),afterAddWrite:t=>(H.push(t),b),afterClearStyles:(t=[])=>{for(const e of t)I[e]="";return b},afterStyles:(t={})=>(I=t,b),afterRemoveClass:t=>(T=c(T,t),b),afterAddClass:t=>(S=c(S,t),b),beforeAddRead:t=>(V.push(t),b),beforeAddWrite:t=>($.push(t),b),beforeClearStyles:(t=[])=>{for(const e of t)C[e]="";return b},beforeStyles:(t={})=>(C=t,b),beforeRemoveClass:t=>(E=c(E,t),b),beforeAddClass:t=>(w=c(w,t),b),onFinish:W,progressStart:(t=!1,e)=>(F.forEach(n=>{n.progressStart(t,e)}),ut(),j=t,O?at(!1,!0,e):rt(),b),progressStep:t=>(F.forEach(e=>{e.progressStep(t)}),it(t),b),progressEnd:(t,e,n)=>(j=!1,F.forEach(r=>{r.progressEnd(t,e,n)}),void 0!==n&&(v=n),N=!1,A=!0,0===t?(g="reverse"===X()?"normal":"reverse","reverse"===g&&(A=!1),G?(at(),it(1-e)):(m=(1-e)*J()*-1,at(!1,!1))):1===t&&(G?(at(),it(e)):(m=e*J()*-1,at(!1,!1))),void 0!==t&&(W(()=>{v=void 0,g=void 0,m=void 0},{oneTimeCallback:!0}),f||ht()),b)}}},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.k)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.j)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.i)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.i)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.l)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.j)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(v){u={error:v}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.l)(e,t)},createSubscribe:s.j,ErrorFactory:s.b,deepExtend:s.l}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.p)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.v)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("AytR");class o{}var s,a=n("mrSG"),u=n("a3Cf"),c=(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.show=function(){return Object(u.cordova)(this,"show",{sync:!0},arguments)},e.prototype.hide=function(){return Object(u.cordova)(this,"hide",{sync:!0},arguments)},e.pluginName="SplashScreen",e.plugin="cordova-plugin-splashscreen",e.pluginRef="navigator.splashscreen",e.repo="https://github.com/apache/cordova-plugin-splashscreen",e.platforms=["Amazon Fire OS","Android","iOS","Windows"],e}(u.IonicNativePlugin),h=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.overlaysWebView=function(t){return Object(u.cordova)(this,"overlaysWebView",{sync:!0},arguments)},e.prototype.styleDefault=function(){return Object(u.cordova)(this,"styleDefault",{sync:!0},arguments)},e.prototype.styleLightContent=function(){return Object(u.cordova)(this,"styleLightContent",{sync:!0},arguments)},e.prototype.styleBlackTranslucent=function(){return Object(u.cordova)(this,"styleBlackTranslucent",{sync:!0},arguments)},e.prototype.styleBlackOpaque=function(){return Object(u.cordova)(this,"styleBlackOpaque",{sync:!0},arguments)},e.prototype.backgroundColorByName=function(t){return Object(u.cordova)(this,"backgroundColorByName",{sync:!0},arguments)},e.prototype.backgroundColorByHexString=function(t){return Object(u.cordova)(this,"backgroundColorByHexString",{sync:!0},arguments)},e.prototype.hide=function(){return Object(u.cordova)(this,"hide",{sync:!0},arguments)},e.prototype.show=function(){return Object(u.cordova)(this,"show",{sync:!0},arguments)},Object.defineProperty(e.prototype,"isVisible",{get:function(){return Object(u.cordovaPropertyGet)(this,"isVisible")},set:function(t){Object(u.cordovaPropertySet)(this,"isVisible",t)},enumerable:!0,configurable:!0}),e.pluginName="StatusBar",e.plugin="cordova-plugin-statusbar",e.pluginRef="StatusBar",e.repo="https://github.com/apache/cordova-plugin-statusbar",e.platforms=["Android","iOS","Windows"],e}(u.IonicNativePlugin),f=n("X+KH");class p{constructor(t,e,n,r,i,o,s,a,u,c){this.menu=t,this.platform=e,this.router=n,this.splashScreen=r,this.statusBar=i,this.storage=o,this.userData=s,this.swUpdate=a,this.toastCtrl=u,this.afMessaging=c,this.appPages=[{title:"Schedule",url:"/app/tabs/schedule",icon:"calendar"},{title:"Speakers",url:"/app/tabs/speakers",icon:"people"},{title:"Map",url:"/app/tabs/map",icon:"map"},{title:"About",url:"/app/tabs/about",icon:"information-circle"}],this.loggedIn=!1,this.dark=!1,this.initializeApp()}ngOnInit(){return Object(a.b)(this,void 0,void 0,(function*(){this.checkLoginStatus(),this.listenForLoginEvents(),this.swUpdate.available.subscribe(t=>Object(a.b)(this,void 0,void 0,(function*(){const t=yield this.toastCtrl.create({message:"Update available!",position:"bottom",buttons:[{role:"cancel",text:"Reload"}]});yield t.present(),t.onDidDismiss().then(()=>this.swUpdate.activateUpdate()).then(()=>window.location.reload())})))}))}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide(),this.requestPushNotificationPermission()})}checkLoginStatus(){return this.userData.isLoggedIn().then(t=>this.updateLoggedInStatus(t))}updateLoggedInStatus(t){setTimeout(()=>{this.loggedIn=t},300)}listenForLoginEvents(){window.addEventListener("user:login",()=>{this.updateLoggedInStatus(!0)}),window.addEventListener("user:signup",()=>{this.updateLoggedInStatus(!0)}),window.addEventListener("user:logout",()=>{this.updateLoggedInStatus(!1)})}logout(){this.userData.logout().then(()=>this.router.navigateByUrl("/app/tabs/schedule"))}openTutorial(){this.menu.enable(!1),this.storage.set("ion_did_tutorial",!1),this.router.navigateByUrl("/tutorial")}requestPushNotificationPermission(){this.afMessaging.getToken.subscribe(t=>{t?console.log("Token is:"+t):this.requestUserPermission()},t=>{console.error(t)})}requestUserPermission(){this.afMessaging.requestToken.subscribe(t=>{console.log("Permission granted! Save to the server!",t),this.afMessaging.getToken.subscribe(t=>{console.log("Updated toeken is :",t)})},t=>{console.error(t)})}}var g=n("pMnS"),v=n("MKJQ"),m=n("sZkV"),y=n("iInd"),b=n("SVse"),_=n("s7LF"),w=n("xgBC"),E=n("NXyV"),O=n("z6cu"),C=n("xgIS"),S=n("LRne"),T=n("GyhO"),I=n("XNiG"),x=n("HDdC"),j=n("KqfI");const k=new x.a(j.a);var A=n("VRyK"),N=n("lJxs"),R=n("pLZG"),P=n("eIep"),D=n("oB13"),L=n("IzEk"),M=n("vkgz"),F=n("D0XW"),U=n("7o/Q"),V=n("WMd4");class ${constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new q(t,this.delay,this.scheduler))}}class q extends U.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(q.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new H(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(V.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(V.a.createComplete()),this.unsubscribe()}}class H{constructor(t,e){this.time=t,this.notification=e}}const z="Service workers are disabled or not supported by this browser";class B{constructor(t){if(this.serviceWorker=t,t){const e=Object(C.a)(t,"controllerchange").pipe(Object(N.a)(()=>t.controller)),n=Object(E.a)(()=>Object(S.a)(t.controller)),r=Object(T.a)(n,e);this.worker=r.pipe(Object(R.a)(t=>!!t)),this.registration=this.worker.pipe(Object(P.a)(()=>t.getRegistration()));const i=Object(C.a)(t,"message").pipe(Object(N.a)(t=>t.data)).pipe(Object(R.a)(t=>t&&t.type)).pipe(Object(D.a)(new I.a));i.connect(),this.events=i}else this.worker=this.events=this.registration=Object(E.a)(()=>Object(O.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(Object(L.a)(1),Object(M.a)(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(Object(R.a)(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Object(L.a)(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(Object(R.a)(e=>e.nonce===t),Object(L.a)(1),Object(N.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}class G{constructor(t){if(this.sw=t,this.subscriptionChanges=new I.a,!t.isEnabled)return this.messages=k,this.notificationClicks=k,void(this.subscription=k);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(N.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(N.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object(N.a)(t=>t.pushManager));const e=this.pushManager.pipe(Object(P.a)(t=>t.getSubscription()));this.subscription=Object(A.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(z));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(Object(P.a)(t=>t.subscribe(e)),Object(L.a)(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Object(L.a)(1),Object(P.a)(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(z))}decodeBase64(t){return atob(t)}}class W{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=k,void(this.activated=k);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(z));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(z));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}class K{}const Q=new r.q("NGSW_REGISTER_SCRIPT");function Y(t,e,n,i){return()=>{if(!Object(b.u)(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{const[e,...i]=(n.registrationStrategy||"registerWhenStable").split(":");switch(e){case"registerImmediately":o=Object(S.a)(null);break;case"registerWithDelay":o=Object(S.a)(null).pipe(function(t,e=F.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new $(r,e))}(+i[0]||0));break;case"registerWhenStable":o=t.get(r.g).isStable.pipe(Object(R.a)(t=>t));break;default:throw new Error("Unknown ServiceWorker registration strategy: "+n.registrationStrategy)}}o.pipe(Object(L.a)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t)))}}function X(t,e){return new B(Object(b.u)(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class Z{static register(t,e={}){return{ngModule:Z,providers:[{provide:Q,useValue:t},{provide:K,useValue:e},{provide:B,useFactory:X,deps:[K,r.B]},{provide:r.d,useFactory:Y,deps:[r.r,Q,K,r.B],multi:!0}]}}}function J(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}var tt=n("Jgta"),et=n("EY2u"),nt=n("tf+s"),rt=n("pxpQ"),it=n("UXun"),ot=n("aGrj"),st=n("JIr8"),at=n("5+tZ"),ut=n("xbPD"),ct=n("jmUF");const lt=new r.q("angularfire2.messaging.vapid-key"),ht=new r.q("angularfire2.messaging.service-worker-registeration"),dt=parseInt(tt.a.SDK_VERSION,10)<8;let ft=(()=>{class t{constructor(t,e,r,i,o,s){const a=new ct.e(i),u=s,c=Object(S.a)(void 0).pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(()=>Object(b.v)(r)?et.a:n.e(15).then(n.bind(null,"dB9c"))),Object(N.a)(()=>Object(ct.h)(t,i,e)),Object(P.a)(t=>Object(ct.g)(t.name+".messaging","AngularFireMessaging",t,()=>J(this,void 0,void 0,(function*(){const e=t.messaging();return dt&&(o&&e.usePublicVapidKey(o),u&&e.useServiceWorker(yield u)),e})),[o,u])),Object(it.a)({bufferSize:1,refCount:!1}));this.requestPermission=c.pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(t=>tt.a.messaging.isSupported()?t.requestPermission():Object(O.a)("Not supported."))),this.getToken=c.pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(t=>J(this,void 0,void 0,(function*(){if(tt.a.messaging.isSupported()&&"granted"===Notification.permission){if(dt)return yield t.getToken();{const e=u?yield u:null;return yield t.getToken({vapidKey:o,serviceWorkerRegistration:e})}}return null}))));const l=new x.a(t=>{navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=()=>t.next()})}),h=c.pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(ot.a)(l),Object(ot.a)(this.getToken));return this.tokenChanges=c.pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(()=>tt.a.messaging.isSupported()?Object(T.a)(this.getToken,h):et.a)),this.messages=c.pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(t=>tt.a.messaging.isSupported()?new x.a(e=>t.onMessage(t=>e.next(t),t=>e.error(t),()=>e.complete())):et.a)),this.requestToken=Object(S.a)(void 0).pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(()=>this.requestPermission),Object(st.a)(()=>Object(S.a)(null)),Object(at.a)(()=>this.tokenChanges)),this.deleteToken=t=>c.pipe(Object(nt.a)(a.outsideAngular),Object(rt.b)(a.insideAngular),Object(P.a)(e=>e.deleteToken(t||void 0)),Object(ut.a)(!1)),Object(ct.j)(this,c,i)}}return t.\u0275prov=Object(r.ac)({factory:function(){return new t(Object(r.bc)(ct.c),Object(r.bc)(ct.b,8),Object(r.bc)(r.B),Object(r.bc)(r.z),Object(r.bc)(lt,8),Object(r.bc)(ht,8))},token:t,providedIn:"any"}),t})();class pt{}var gt=r.vb({encapsulation:2,styles:[["ion-menu ion-content{--padding-top:20px;--padding-bottom:20px;--background:var(--ion-item-background,var(--ion-background-color,#fff))}ion-menu ion-item{--transition:none}ion-item.selected{--color:var(--ion-color-primary)}ion-menu.md ion-list{padding:20px 0}ion-menu.md ion-list-header{padding-left:18px;padding-right:18px;text-transform:uppercase;letter-spacing:.1em;font-weight:450}ion-menu.md ion-item{--padding-start:18px;margin-right:10px;border-radius:0 50px 50px 0;font-weight:500}ion-menu.md ion-item.selected{--background:rgba(var(--ion-color-primary-rgb),0.14)}ion-menu.md ion-item.selected ion-icon{color:var(--ion-color-primary)}ion-menu.md ion-item ion-icon,ion-menu.md ion-list-header{color:var(--ion-color-step-650,#5f6368)}ion-menu.md ion-list:not(:last-of-type){border-bottom:1px solid var(--ion-color-step-150,#d7d8da)}ion-menu.ios ion-list-header{padding-left:16px;padding-right:16px;margin-bottom:8px}ion-menu.ios ion-list{padding:20px 0 0}ion-menu.ios ion-item{--padding-start:16px;--min-height:50px}ion-menu.ios ion-item ion-icon{font-size:24px;color:#73849a}ion-menu.ios ion-item.selected ion-icon{color:var(--ion-color-primary)}"]],data:{}});function vt(t){return r.Zb(0,[(t()(),r.xb(0,0,null,null,91,"ion-app",[],[[2,"dark-theme",null]],null,null,v.eb,v.a)),r.wb(1,49152,null,0,m.f,[r.h,r.l,r.z],null,null),(t()(),r.xb(2,0,null,0,89,"ion-split-pane",[["contentId","main-content"]],null,null,null,v.Zb,v.V)),r.wb(3,49152,null,0,m.rb,[r.h,r.l,r.z],{contentId:[0,"contentId"]},null),(t()(),r.xb(4,0,null,0,85,"ion-menu",[["contentId","main-content"]],null,null,null,v.Nb,v.H)),r.wb(5,49152,null,0,m.R,[r.h,r.l,r.z],{contentId:[0,"contentId"]},null),(t()(),r.xb(6,0,null,0,83,"ion-content",[],null,null,null,v.sb,v.o)),r.wb(7,49152,null,0,m.v,[r.h,r.l,r.z],null,null),(t()(),r.xb(8,0,null,0,18,"ion-list",[["lines","none"]],null,null,null,v.Kb,v.F)),r.wb(9,49152,null,0,m.P,[r.h,r.l,r.z],{lines:[0,"lines"]},null),(t()(),r.xb(10,0,null,0,2,"ion-list-header",[],null,null,null,v.Jb,v.G)),r.wb(11,49152,null,0,m.Q,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Pnk Shopping "])),(t()(),r.xb(13,0,null,0,13,"ion-menu-toggle",[["autoHide","false"]],null,null,null,v.Mb,v.J)),r.wb(14,49152,null,0,m.T,[r.h,r.l,r.z],{autoHide:[0,"autoHide"]},null),(t()(),r.xb(15,0,null,0,11,"ion-item",[["detail","false"],["routerDirection","root"],["routerLink","app/tabs/market"],["routerLinkActive","selected"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Mb(t,16).onClick()&&i),"click"===e&&(i=!1!==r.Mb(t,21).onClick(n)&&i),i}),v.Hb,v.y)),r.wb(16,16384,[[1,4]],0,y.n,[y.m,y.a,[8,null],r.D,r.l],{routerLink:[0,"routerLink"]},null),r.wb(17,1720320,null,2,y.o,[y.m,r.l,r.D,[2,y.n],[2,y.p]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Sb(603979776,1,{links:1}),r.Sb(603979776,2,{linksWithHrefs:1}),r.wb(20,49152,null,0,m.I,[r.h,r.l,r.z],{detail:[0,"detail"],routerDirection:[1,"routerDirection"]},null),r.wb(21,737280,null,0,m.Lb,[b.j,m.Gb,r.l,y.m,[2,y.n]],{routerDirection:[0,"routerDirection"]},null),(t()(),r.xb(22,0,null,0,1,"ion-icon",[["name","earth-outline"],["slot","start"]],null,null,null,v.Ab,v.w)),r.wb(23,49152,null,0,m.D,[r.h,r.l,r.z],{name:[0,"name"]},null),(t()(),r.xb(24,0,null,0,2,"ion-label",[],null,null,null,v.Ib,v.E)),r.wb(25,49152,null,0,m.O,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Market Place "])),(t()(),r.xb(27,0,null,0,62,"ion-list",[["lines","none"]],null,null,null,v.Kb,v.F)),r.wb(28,49152,null,0,m.P,[r.h,r.l,r.z],{lines:[0,"lines"]},null),(t()(),r.xb(29,0,null,0,2,"ion-list-header",[],null,null,null,v.Jb,v.G)),r.wb(30,49152,null,0,m.Q,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Account "])),(t()(),r.xb(32,0,null,0,13,"ion-menu-toggle",[["autoHide","false"]],null,null,null,v.Mb,v.J)),r.wb(33,49152,null,0,m.T,[r.h,r.l,r.z],{autoHide:[0,"autoHide"]},null),(t()(),r.xb(34,0,null,0,11,"ion-item",[["detail","false"],["routerDirection","root"],["routerLink","/app/tabs/login"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Mb(t,35).onClick()&&i),"click"===e&&(i=!1!==r.Mb(t,40).onClick(n)&&i),i}),v.Hb,v.y)),r.wb(35,16384,[[3,4]],0,y.n,[y.m,y.a,[8,null],r.D,r.l],{routerLink:[0,"routerLink"]},null),r.wb(36,1720320,null,2,y.o,[y.m,r.l,r.D,[2,y.n],[2,y.p]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Sb(603979776,3,{links:1}),r.Sb(603979776,4,{linksWithHrefs:1}),r.wb(39,49152,null,0,m.I,[r.h,r.l,r.z],{detail:[0,"detail"],routerDirection:[1,"routerDirection"]},null),r.wb(40,737280,null,0,m.Lb,[b.j,m.Gb,r.l,y.m,[2,y.n]],{routerDirection:[0,"routerDirection"]},null),(t()(),r.xb(41,0,null,0,1,"ion-icon",[["name","person"],["slot","start"]],null,null,null,v.Ab,v.w)),r.wb(42,49152,null,0,m.D,[r.h,r.l,r.z],{name:[0,"name"]},null),(t()(),r.xb(43,0,null,0,2,"ion-label",[],null,null,null,v.Ib,v.E)),r.wb(44,49152,null,0,m.O,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Account "])),(t()(),r.xb(46,0,null,0,13,"ion-menu-toggle",[["autoHide","false"]],null,null,null,v.Mb,v.J)),r.wb(47,49152,null,0,m.T,[r.h,r.l,r.z],{autoHide:[0,"autoHide"]},null),(t()(),r.xb(48,0,null,0,11,"ion-item",[["detail","false"],["routerDirection","root"],["routerLink","/app/tabs/myorder"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Mb(t,49).onClick()&&i),"click"===e&&(i=!1!==r.Mb(t,54).onClick(n)&&i),i}),v.Hb,v.y)),r.wb(49,16384,[[5,4]],0,y.n,[y.m,y.a,[8,null],r.D,r.l],{routerLink:[0,"routerLink"]},null),r.wb(50,1720320,null,2,y.o,[y.m,r.l,r.D,[2,y.n],[2,y.p]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Sb(603979776,5,{links:1}),r.Sb(603979776,6,{linksWithHrefs:1}),r.wb(53,49152,null,0,m.I,[r.h,r.l,r.z],{detail:[0,"detail"],routerDirection:[1,"routerDirection"]},null),r.wb(54,737280,null,0,m.Lb,[b.j,m.Gb,r.l,y.m,[2,y.n]],{routerDirection:[0,"routerDirection"]},null),(t()(),r.xb(55,0,null,0,1,"ion-icon",[["name","documents-outline"],["slot","start"]],null,null,null,v.Ab,v.w)),r.wb(56,49152,null,0,m.D,[r.h,r.l,r.z],{name:[0,"name"]},null),(t()(),r.xb(57,0,null,0,2,"ion-label",[],null,null,null,v.Ib,v.E)),r.wb(58,49152,null,0,m.O,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Orders "])),(t()(),r.xb(60,0,null,0,13,"ion-menu-toggle",[["autoHide","false"]],null,null,null,v.Mb,v.J)),r.wb(61,49152,null,0,m.T,[r.h,r.l,r.z],{autoHide:[0,"autoHide"]},null),(t()(),r.xb(62,0,null,0,11,"ion-item",[["detail","false"],["routerDirection","root"],["routerLink","/support"],["routerLinkActive","active"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Mb(t,63).onClick()&&i),"click"===e&&(i=!1!==r.Mb(t,68).onClick(n)&&i),i}),v.Hb,v.y)),r.wb(63,16384,[[7,4]],0,y.n,[y.m,y.a,[8,null],r.D,r.l],{routerLink:[0,"routerLink"]},null),r.wb(64,1720320,null,2,y.o,[y.m,r.l,r.D,[2,y.n],[2,y.p]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Sb(603979776,7,{links:1}),r.Sb(603979776,8,{linksWithHrefs:1}),r.wb(67,49152,null,0,m.I,[r.h,r.l,r.z],{detail:[0,"detail"],routerDirection:[1,"routerDirection"]},null),r.wb(68,737280,null,0,m.Lb,[b.j,m.Gb,r.l,y.m,[2,y.n]],{routerDirection:[0,"routerDirection"]},null),(t()(),r.xb(69,0,null,0,1,"ion-icon",[["name","help"],["slot","start"]],null,null,null,v.Ab,v.w)),r.wb(70,49152,null,0,m.D,[r.h,r.l,r.z],{name:[0,"name"]},null),(t()(),r.xb(71,0,null,0,2,"ion-label",[],null,null,null,v.Ib,v.E)),r.wb(72,49152,null,0,m.O,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Support "])),(t()(),r.xb(74,0,null,0,15,"ion-menu-toggle",[["autoHide","false"]],null,null,null,v.Mb,v.J)),r.wb(75,49152,null,0,m.T,[r.h,r.l,r.z],{autoHide:[0,"autoHide"]},null),(t()(),r.xb(76,0,null,0,13,"ion-item",[],null,null,null,v.Hb,v.y)),r.wb(77,49152,null,0,m.I,[r.h,r.l,r.z],null,null),(t()(),r.xb(78,0,null,0,1,"ion-icon",[["name","moon-outline"],["slot","start"]],null,null,null,v.Ab,v.w)),r.wb(79,49152,null,0,m.D,[r.h,r.l,r.z],{name:[0,"name"]},null),(t()(),r.xb(80,0,null,0,2,"ion-label",[],null,null,null,v.Ib,v.E)),r.wb(81,49152,null,0,m.O,[r.h,r.l,r.z],null,null),(t()(),r.Wb(-1,0,[" Dark Mode "])),(t()(),r.xb(83,0,null,0,6,"ion-toggle",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(t,e,n){var i=!0,o=t.component;return"ionBlur"===e&&(i=!1!==r.Mb(t,84)._handleBlurEvent(n.target)&&i),"ionChange"===e&&(i=!1!==r.Mb(t,84)._handleIonChange(n.target)&&i),"ngModelChange"===e&&(i=!1!==(o.dark=n)&&i),i}),v.gc,v.cb)),r.wb(84,4341760,null,0,m.d,[r.r,r.l],null,null),r.Rb(1024,null,_.g,(function(t){return[t]}),[m.d]),r.wb(86,671744,null,0,_.l,[[8,null],[8,null],[8,null],[6,_.g]],{model:[0,"model"]},{update:"ngModelChange"}),r.Rb(2048,null,_.h,null,[_.l]),r.wb(88,16384,null,0,_.i,[[4,_.h]],null,null),r.wb(89,49152,null,0,m.zb,[r.h,r.l,r.z],null,null),(t()(),r.xb(90,16777216,null,0,1,"ion-router-outlet",[["id","main-content"]],null,null,null,null,null)),r.wb(91,212992,null,0,m.gb,[y.b,r.P,r.j,[8,null],[8,null],m.e,m.Gb,b.i,r.l,y.m,r.z,y.a,[3,m.gb]],null,null)],(function(t,e){var n=e.component;t(e,3,0,"main-content"),t(e,5,0,"main-content"),t(e,9,0,"none"),t(e,14,0,"false"),t(e,16,0,"app/tabs/market"),t(e,17,0,"selected"),t(e,20,0,"false","root"),t(e,21,0,"root"),t(e,23,0,"earth-outline"),t(e,28,0,"none"),t(e,33,0,"false"),t(e,35,0,"/app/tabs/login"),t(e,36,0,"active"),t(e,39,0,"false","root"),t(e,40,0,"root"),t(e,42,0,"person"),t(e,47,0,"false"),t(e,49,0,"/app/tabs/myorder"),t(e,50,0,"active"),t(e,53,0,"false","root"),t(e,54,0,"root"),t(e,56,0,"documents-outline"),t(e,61,0,"false"),t(e,63,0,"/support"),t(e,64,0,"active"),t(e,67,0,"false","root"),t(e,68,0,"root"),t(e,70,0,"help"),t(e,75,0,"false"),t(e,79,0,"moon-outline"),t(e,86,0,n.dark),t(e,91,0)}),(function(t,e){t(e,0,0,e.component.dark),t(e,83,0,r.Mb(e,88).ngClassUntouched,r.Mb(e,88).ngClassTouched,r.Mb(e,88).ngClassPristine,r.Mb(e,88).ngClassDirty,r.Mb(e,88).ngClassValid,r.Mb(e,88).ngClassInvalid,r.Mb(e,88).ngClassPending)}))}function mt(t){return r.Zb(0,[(t()(),r.xb(0,0,null,null,1,"app-root",[],null,null,null,vt,gt)),r.wb(1,114688,null,0,p,[m.Eb,m.Jb,y.m,l,d,w.b,f.a,W,m.Ob,ft],null,null)],(function(t,e){t(e,1,0)}),null)}var yt=r.tb("app-root",p,mt,{},{},[]);class bt extends b.w{constructor(){super()}supportsDOMEvents(){return!0}}class _t extends bt{static makeCurrent(){Object(b.A)(new _t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Et||(Et=document.querySelector("base"),Et)?Et.getAttribute("href"):null;return null==e?null:(n=e,wt||(wt=document.createElement("a")),wt.setAttribute("href",n),"/"===wt.pathname.charAt(0)?wt.pathname:"/"+wt.pathname);var n}resetBaseElement(){Et=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(b.z)(document.cookie,t)}}let wt,Et=null;const Ot=new r.q("TRANSITION_ID"),Ct=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Object(b.y)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ot,b.e,r.r],multi:!0}];class St{static init(){Object(r.X)(new St)}addToWindow(t){r.Db.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.Db.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.Db.getAllAngularRootElements=()=>t.getAllRootElements(),r.Db.frameworkStabilizers||(r.Db.frameworkStabilizers=[]),r.Db.frameworkStabilizers.push(t=>{const e=r.Db.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(b.y)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function Tt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.Db.ng=r.Db.ng||{})[t]=e)}const It=(()=>({ApplicationRef:r.g,NgZone:r.z}))();function xt(t){return Object(r.zb)(t)}const jt=new r.q("EventManagerPlugins");class kt{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class At{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(b.y)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class Nt{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Rt extends Nt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(b.y)().remove(t))}}const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dt=/%COMP%/g;function Lt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Lt(t,i,n):(i=i.replace(Dt,t),n.push(i))}return n}function Mt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Ft{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ut(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new $t(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Lt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Ut{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Pt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Pt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Pt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Mt(n)):this.eventManager.addEventListener(t,e,Mt(n))}}class Vt extends Ut{constructor(t,e,n,r){super(t),this.component=n;const i=Lt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Dt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Dt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class $t extends Ut{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Lt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}class qt extends At{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}const Ht={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},zt=new r.q("HammerGestureConfig"),Bt=new r.q("HammerLoader");class Gt{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Wt extends At{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Ht.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Kt=["alt","control","meta","shift"],Qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Zt extends At{constructor(t){super(t)}supports(t){return null!=Zt.parseEventName(t)}addEventListener(t,e,n){const r=Zt.parseEventName(e),i=Zt.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(b.y)().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Zt._normalizeKey(e.pop());let i="";if(Kt.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yt.hasOwnProperty(e)&&(e=Yt[e]))}return Qt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Kt.forEach(r=>{r!=n&&(0,Xt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{Zt.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}let Jt=(()=>{class t{}return t.\u0275prov=Object(r.ac)({factory:function(){return Object(r.bc)(te)},token:t,providedIn:"root"}),t})(),te=(()=>{class t extends Jt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.fb)(e,"HTML")?Object(r.Yb)(e):Object(r.cb)(this._doc,String(e));case r.H.STYLE:return Object(r.fb)(e,"Style")?Object(r.Yb)(e):Object(r.db)(e);case r.H.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.Yb)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.Cb)(e),Object(r.fb)(e,"URL")?Object(r.Yb)(e):Object(r.eb)(String(e));case r.H.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.Yb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.ob)(t)}bypassSecurityTrustStyle(t){return Object(r.rb)(t)}bypassSecurityTrustScript(t){return Object(r.qb)(t)}bypassSecurityTrustUrl(t){return Object(r.sb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.pb)(t)}}return t.\u0275prov=Object(r.ac)({factory:function(){return t=Object(r.bc)(r.o),new te(t.get(b.e));var t},token:t,providedIn:"root"}),t})();function ee(){return new r.m}const ne=[{provide:r.B,useValue:b.x},{provide:r.C,useValue:function(){_t.makeCurrent(),St.init()},multi:!0},{provide:b.e,useFactory:function(){return Object(r.Ub)(document),document},deps:[]}],re=Object(r.S)(r.W,"browser",ne);class ie{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:ie,providers:[{provide:r.c,useValue:t.appId},{provide:Ot,useExisting:r.c},Ct]}}}"undefined"!=typeof window&&window;var oe=n("IheW"),se=n("VRCc"),ae=n("w1tV"),ue=n("Kqap"),ce=n("/uUt"),le=n("l7GE"),he=n("ZUHj");class de{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new fe(t,this.observables,this.project))}}class fe extends le.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(Object(he.a)(this,t,void 0,i))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class pe{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new ge(t,this.predicate))}}class ge extends U.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function ve(t){return null==t}function me(t){return"function"==typeof t.set}function ye(t,e){return me(e)?e:t.ref(e)}function be(t,e){if("string"==typeof t)return e.stringCase();if(me(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function _e(t,e,n="on",r=F.b){return new x.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(N.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(ae.a)())}function we(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Ee(t,e){const{payload:n,prevKey:r,key:i}=e,o=we(t,i),s=function(t,e){if(ve(e))return 0;{const n=we(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Oe(t){return(ve(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Ce(t,e,n){return function(t,e,n){return _e(t,"value","once",n).pipe(Object(P.a)(r=>{const i=[Object(S.a)(r)];return e.forEach(e=>i.push(_e(t,e,"on",n))),Object(A.a)(...i).pipe(Object(ue.a)(Ee,[]))}),Object(ce.a)())}(t,e=Oe(e),n)}function Se(t,e,n){const r=(e=Oe(e)).map(e=>_e(t,e,"on",n));return Object(A.a)(...r)}function Te(t,e){return function(n,r){return be(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Ie(t,e){return function(){return _e(t,"value","on",e)}}n("6Uf2");const xe=new r.q("angularfire2.realtimeDatabaseURL"),je=new r.q("angularfire2.database.use-emulator");let ke=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ct.e(i),this.keepUnstableUntilFirst=Object(ct.i)(this.schedulers);const a=o,u=Object(ct.h)(t,i,e);!tt.a.auth&&s&&Object(ct.k)(),this.database=Object(ct.g)(`${u.name}.database.${n}`,"AngularFireDatabase",u,()=>{const t=i.runOutsideAngular(()=>u.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>ye(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Te(r,"update"),set:Te(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?be(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>Ce(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>Se(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return _e(t,"value","on",e).pipe(Object(N.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new de(t,n))}}(e),Object(N.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new pe(r))),Object(N.a)(t=>t.actions));var r}(t,Se(t,e).pipe(Object(ue.a)((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>Ce(t,r,n).pipe(Object(N.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>ye(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>Ie(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Ie(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(N.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275prov=Object(r.ac)({factory:function(){return new t(Object(r.bc)(ct.c),Object(r.bc)(ct.b,8),Object(r.bc)(xe,8),Object(r.bc)(r.B),Object(r.bc)(r.z),Object(r.bc)(je,8),Object(r.bc)(se.h,8))},token:t,providedIn:"any"}),t})();class Ae{}var Ne=n("Cfvw");class Re{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Pe(t,this.dueTime,this.scheduler))}}class Pe extends U.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(De,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function De(t){t.debouncedNext()}var Le=n("zIRd"),Me=n("qOnz"),Fe=n("/6Yf"),Ue=function(t){function e(n,r){var i=t.call(this,Ve(n),"Firebase Storage: "+r+" ("+Ve(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(a.d)(e,t),e.prototype.codeEquals=function(t){return Ve(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Me.c);function Ve(t){return"storage/"+t}function $e(){return new Ue("unknown","An unknown error occurred, please check the error payload for server response.")}function qe(){return new Ue("canceled","User canceled the upload/download.")}function He(){return new Ue("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ze(t){return new Ue("invalid-argument",t)}function Be(){return new Ue("app-deleted","The Firebase app was deleted.")}function Ge(t){return new Ue("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function We(t,e){return new Ue("invalid-format","String does not match format '"+t+"': "+e)}function Ke(t){throw new Ue("internal-error","Internal error: "+t)}var Qe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ye=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Xe(t,e){switch(t){case Qe.RAW:return new Ye(Ze(e));case Qe.BASE64:case Qe.BASE64URL:return new Ye(Je(t,e));case Qe.DATA_URL:return new Ye((n=new tn(e)).base64?Je(Qe.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw We(Qe.DATA_URL,"Malformed data URL.")}return Ze(e)}(n.rest),function(t){return new tn(t).contentType}(e))}var n;throw $e()}function Ze(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Je(t,e){switch(t){case Qe.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw We(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Qe.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw We(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw We(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var tn=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw We(Qe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),en={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nn(t){switch(t){case"running":case"pausing":case"canceling":return en.RUNNING;case"paused":return en.PAUSED;case"success":return en.SUCCESS;case"canceled":return en.CANCELED;case"error":default:return en.ERROR}}var rn=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),on=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=rn.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=rn.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=rn.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Ke("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Ke("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Ke("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Ke("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),sn=function(){function t(){}return t.prototype.createXhrIo=function(){return new on},t}();function an(t){return"string"==typeof t||t instanceof String}function un(t){return cn()&&t instanceof Blob}function cn(){return"undefined"!=typeof Blob}function ln(t,e,n,r){if(r<e)throw new Ue("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Ue("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function hn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=hn();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(cn())return new Blob(t);throw new Ue("unsupported-environment","This browser doesn't seem to support creating Blobs")}var fn=function(){function t(t,e){var n=0,r="";un(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(un(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(cn()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(dn.apply(null,r))}var i=e.map((function(t){return an(t)?Xe(Qe.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),pn=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Ue("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new Ue("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function gn(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function vn(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mn(t){return"https://firebasestorage.googleapis.com/v0"+t}function yn(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function bn(t,e){return e}var _n=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||bn}}(),wn=null;function En(){if(wn)return wn;var t=[];t.push(new _n("bucket")),t.push(new _n("generation")),t.push(new _n("metageneration")),t.push(new _n("name","fullPath",!0));var e=new _n("name");e.xform=function(t,e){return function(t){return!an(t)||t.length<2?t:vn(t)}(e)},t.push(e);var n=new _n("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new _n("timeCreated")),t.push(new _n("updated")),t.push(new _n("md5Hash",null,!0)),t.push(new _n("cacheControl",null,!0)),t.push(new _n("contentDisposition",null,!0)),t.push(new _n("contentEncoding",null,!0)),t.push(new _n("contentLanguage",null,!0)),t.push(new _n("contentType",null,!0)),t.push(new _n("metadata","customMetadata",!0)),wn=t}function On(t,e,n){var r=gn(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new pn(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Cn(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Sn=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Tn(t){if(!t)throw $e()}function In(t,e){return function(n,r){var i=On(t,r,e);return Tn(null!==i),i}}function xn(t){return function(e,n){var r;return(r=401===e.getStatus()?new Ue("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Ue("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Ue("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function jn(t){var e=xn(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Ue("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function kn(t,e,n){var r=mn(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Sn(r,"GET",In(t,n),i);return o.errorHandler=jn(e),o}function An(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Nn=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Rn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Tn(!1)}return Tn(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Pn=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Dn=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Ln(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Mn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=En(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=An(e,r,i),a={name:s.fullPath},u=mn(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Cn(s,n),h=new Sn(u,"POST",(function(t){var e;Rn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Tn(!1)}return Tn(an(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=xn(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new Sn(n,"POST",(function(t){var e=Rn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Tn(!1)}n||Tn(!1);var i=Number(n);return Tn(!isNaN(i)),new Nn(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=xn(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Nn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Nn(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ue("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw He();var p=new Sn(n,"POST",(function(t,n){var i,s=Rn(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?In(e,o)(t,n):null,new Nn(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=xn(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition("error")}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=kn(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=An(e,r,i),c=Cn(u,n),l=fn.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw He();var h={name:u.fullPath},d=mn(o),f=t.maxUploadRetryTime,p=new Sn(d,"POST",In(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=xn(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=qe(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=nn(this._state);return new Dn(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Pn(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(nn(this._state)){case en.SUCCESS:Ln(this._resolve.bind(null,this.snapshot))();break;case en.CANCELED:case en.ERROR:Ln(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(nn(this._state)){case en.RUNNING:case en.PAUSED:t.next&&Ln(t.next.bind(t,this.snapshot))();break;case en.SUCCESS:t.complete&&Ln(t.complete.bind(t))();break;case en.CANCELED:case en.ERROR:t.error&&Ln(t.error.bind(t,this._error))();break;default:t.error&&Ln(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Fn=function(){function t(t,e){this._service=t,this._location=e instanceof pn?e:pn.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new pn(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return vn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new pn(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Ge(t)},t}();function Un(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i;return Object(a.e)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&ln("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=mn(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Sn(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=gn(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new pn(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new pn(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Tn(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=xn(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function Vn(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new pn(t._location.bucket,n);return new Fn(t.storage,r)}var $n=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),qn=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new $n(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new $n(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new $n(t,i,i._ref))}:{next:e.next?function(t){return e.next(new $n(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Hn=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new zn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new zn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),zn=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Vn(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new qn(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Mn(t,new fn(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Qe.RAW),this._throwIfRoot("putString"),new qn(function(t,e,n,r){void 0===n&&(n=Qe.RAW),t._throwIfRoot("putString");var i=Xe(n,e),o=Object(a.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Mn(t,new fn(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o,s;return Object(a.e)(this,(function(a){switch(a.label){case 0:return[4,Un(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new Hn(t,n.storage)}))},t.prototype.list=function(t){var e=this;return Un(this._delegate,t).then((function(t){return new Hn(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n;return Object(a.e)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=kn(t.storage,t._location,En()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r;return Object(a.e)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=mn(e.fullServerUrl()),o=Cn(n,r),s=t.maxOperationRetryTime,a=new Sn(i,"PATCH",In(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=jn(e),a}(t.storage,t._location,e,En()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n;return Object(a.e)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=mn(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Sn(r,"GET",function(t,e){return function(n,r){var i=On(t,r,e);return Tn(null!==i),function(t,e){var n=gn(e);if(null===n)return null;if(!an(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return mn("/b/"+i(t.bucket)+"/o/"+i(n))+yn({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=jn(e),o}(t.storage,t._location,En()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Ue("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n;return Object(a.e)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=mn(e.fullServerUrl()),r=new Sn(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=jn(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Ge(t)},t}(),Bn=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Gn=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=$e()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Be():qe():new Ue("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Wn(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,u=0;function c(){return 2===u}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function d(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Wn(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===rn.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Wn(s,n))}else{var a=n.getErrorCode()===rn.ABORT;e(!1,new Wn(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,c())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,Object(a.i)([null,t],e));else{var r,o=c()||s;o?h.call.apply(h,Object(a.i)([null,t],e)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),d(r))}}var p=!1;function g(t){p||(p=!0,l||(null!==o?(t||(u=2),clearTimeout(o),d(0)):t||(u=1)))}return d(0),setTimeout((function(){s=!0,g(!0)}),r),g}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Wn=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Kn(t){return/^[A-Za-z]+:\/\//.test(t)}function Qn(t,e){if(e&&Kn(e)){if(t instanceof Zn)return new Fn(t,e);throw ze("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof Zn){var r=e;if(null==r._bucket)throw new Ue("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new Fn(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw ze('`path` param cannot contain ".."');return Vn(e,n)}return e}(t,e)}var Yn,Xn,Zn=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?pn.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:pn.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){ln("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){ln("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e;return Object(a.e)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Fn(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Bn(Be());var r=function(t,e,n,r){var i=yn(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Le.a?Le.a.SDK_VERSION:"AppManager")}(s),new Gn(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),Jn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Kn(t))throw ze("ref() expected a child path but got a URL, use refFromURL instead.");return new zn(Qn(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Kn(t))throw ze("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pn.makeFromUrl(t)}catch(e){throw ze("refFromUrl() expected a valid full URL but got an invalid one.")}return new zn(Qn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function tr(t){const e=function(t){return new x.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=F.a){return n=>n.lift(new Re(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(N.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function er(t,e,n){return{getDownloadURL:()=>Object(S.a)(void 0).pipe(Object(rt.b)(e.outsideAngular),Object(P.a)(()=>t.getDownloadURL()),n),getMetadata:()=>Object(S.a)(void 0).pipe(Object(rt.b)(e.outsideAngular),Object(P.a)(()=>t.getMetadata()),n),delete:()=>Object(Ne.a)(t.delete()),child:r=>er(t.child(r),e,n),updateMetadata:e=>Object(Ne.a)(t.updateMetadata(e)),put:(e,n)=>tr(t.put(e,n)),putString:(e,n,r)=>tr(t.putString(e,n,r)),listAll:()=>Object(Ne.a)(t.listAll())}}Xn={TaskState:en,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Qe,Storage:Zn,Reference:zn},(Yn=Le.a).INTERNAL.registerComponent(new Fe.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Jn(n,new Zn(n,r,new sn,e))}),"PUBLIC").setServiceProps(Xn).setMultipleInstances(!0)),Yn.registerVersion("@firebase/storage","0.4.2");const nr=new r.q("angularfire2.storageBucket"),rr=new r.q("angularfire2.storage.maxUploadRetryTime"),ir=new r.q("angularfire2.storage.maxOperationRetryTime");let or=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new ct.e(i),this.keepUnstableUntilFirst=Object(ct.i)(this.schedulers);const a=Object(ct.h)(t,i,e);this.storage=Object(ct.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return er(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return er(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return er(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275prov=Object(r.ac)({factory:function(){return new t(Object(r.bc)(ct.c),Object(r.bc)(ct.b,8),Object(r.bc)(nr,8),Object(r.bc)(r.B),Object(r.bc)(r.z),Object(r.bc)(rr,8),Object(r.bc)(ir,8))},token:t,providedIn:"any"}),t})();class sr{}class ar{}var ur=n("wD+u"),cr=n("9B/o");const lr=()=>n.e(17).then(n.bind(null,"8k80")).then(t=>t.AccountModuleNgFactory),hr=()=>n.e(26).then(n.bind(null,"w4GT")).then(t=>t.SupportModuleNgFactory),dr=()=>n.e(18).then(n.bind(null,"/yGZ")).then(t=>t.LoginModuleNgFactory),fr=()=>n.e(23).then(n.bind(null,"4cNi")).then(t=>t.SignUpModuleNgFactory),pr=()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"iZDH")).then(t=>t.TabsModuleNgFactory),gr=()=>n.e(27).then(n.bind(null,"GDlp")).then(t=>t.TutorialModuleNgFactory),vr=()=>Promise.all([n.e(2),n.e(3),n.e(0)]).then(n.bind(null,"dZtr")).then(t=>t.PhoneLoginPageModuleNgFactory),mr=()=>Promise.all([n.e(2),n.e(3),n.e(0)]).then(n.bind(null,"dZtr")).then(t=>t.PhoneLoginPageModuleNgFactory);class yr{}var br=r.ub(o,[p],(function(t){return r.Jb([r.Kb(512,r.j,r.Y,[[8,[g.a,yt]],[3,r.j],r.x]),r.Kb(5120,r.u,r.kb,[[3,r.u]]),r.Kb(4608,b.o,b.n,[r.u]),r.Kb(5120,r.nb,r.lb,[r.z]),r.Kb(5120,r.c,r.hb,[]),r.Kb(5120,r.s,r.ib,[]),r.Kb(5120,r.t,r.jb,[]),r.Kb(4608,Jt,te,[b.e]),r.Kb(6144,r.G,null,[Jt]),r.Kb(4608,zt,Gt,[]),r.Kb(5120,jt,(function(t,e,n,r,i,o,s,a){return[new qt(t,e,n),new Zt(r),new Wt(i,o,s,a)]}),[b.e,r.z,r.B,b.e,b.e,zt,r.Z,[2,Bt]]),r.Kb(4608,kt,kt,[jt,r.z]),r.Kb(135680,Rt,Rt,[b.e]),r.Kb(4608,Ft,Ft,[kt,Rt,r.c]),r.Kb(6144,r.E,null,[Ft]),r.Kb(6144,Nt,null,[Rt]),r.Kb(4608,r.M,r.M,[r.z]),r.Kb(5120,y.a,y.B,[y.m]),r.Kb(4608,y.e,y.e,[]),r.Kb(6144,y.h,null,[y.e]),r.Kb(135680,y.s,y.s,[y.m,r.w,r.i,r.r,y.h]),r.Kb(4608,y.g,y.g,[]),r.Kb(5120,y.G,y.x,[y.m,b.s,y.i]),r.Kb(5120,y.j,y.E,[y.C]),r.Kb(5120,r.b,(function(t){return[t]}),[y.j]),r.Kb(4608,oe.i,oe.s,[b.e,r.B,oe.q]),r.Kb(4608,oe.t,oe.t,[oe.i,oe.r]),r.Kb(5120,oe.n,oe.o,[]),r.Kb(4608,oe.j,oe.j,[oe.n,b.e]),r.Kb(5120,oe.a,(function(t,e){return[t,new oe.k(e)]}),[oe.t,oe.j]),r.Kb(4608,oe.p,oe.p,[]),r.Kb(6144,oe.l,null,[oe.p]),r.Kb(4608,oe.h,oe.h,[oe.l]),r.Kb(6144,oe.b,null,[oe.h]),r.Kb(4608,oe.g,oe.m,[oe.b,r.r]),r.Kb(4608,oe.c,oe.c,[oe.g]),r.Kb(4608,_.q,_.q,[]),r.Kb(5120,ct.d,ct.h,[ct.c,r.z,[2,ct.b]]),r.Kb(4608,se.a,se.a,[ct.c,[2,ct.b],r.B,r.z,[2,se.h],[2,se.e],[2,se.f],[2,se.c],[2,se.g],[2,se.d]]),r.Kb(4608,ke,ke,[ct.c,[2,ct.b],[2,xe],r.B,r.z,[2,je],[2,se.h]]),r.Kb(4608,or,or,[ct.c,[2,ct.b],[2,nr],r.B,r.z,[2,rr],[2,ir]]),r.Kb(4608,ur.a,ur.a,[ct.c,[2,ct.b],[2,ur.c],[2,ur.e],r.B,r.z,[2,ur.d],[2,ur.f],[2,se.h]]),r.Kb(4608,ft,ft,[ct.c,[2,ct.b],r.B,r.z,[2,lt],[2,ht]]),r.Kb(4608,m.c,m.c,[r.z,r.g]),r.Kb(4608,m.Fb,m.Fb,[m.c,r.j,r.r]),r.Kb(4608,m.Kb,m.Kb,[m.c,r.j,r.r]),r.Kb(5120,B,X,[K,r.B]),r.Kb(4608,G,G,[B]),r.Kb(4608,W,W,[B]),r.Kb(5120,w.b,w.d,[w.c,r.B]),r.Kb(4608,cr.a,cr.a,[]),r.Kb(4608,l,l,[]),r.Kb(4608,d,d,[]),r.Kb(1073742336,b.c,b.c,[]),r.Kb(1024,r.m,ee,[]),r.Kb(1024,r.y,(function(){return[y.w()]}),[]),r.Kb(512,y.C,y.C,[r.r]),r.Kb(256,m.Pb,void 0,[]),r.Kb(256,Q,"combined-sw.js",[]),r.Kb(256,K,{enabled:!0},[]),r.Kb(1024,r.d,(function(t,e,n,r,i,o,s,a,u){return[(c=t,Tt("probe",xt),Tt("coreTokens",Object.assign(Object.assign({},It),(c||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>xt),y.D(e),m.Qb(n,r,i),Y(o,s,a,u)];var c}),[[2,r.y],y.C,m.Pb,b.e,r.z,r.r,Q,K,r.B]),r.Kb(512,r.e,r.e,[[2,r.d]]),r.Kb(131584,r.g,r.g,[r.z,r.Z,r.r,r.m,r.j,r.e]),r.Kb(1073742336,r.f,r.f,[r.g]),r.Kb(1073742336,ie,ie,[[3,ie]]),r.Kb(1024,y.v,y.z,[[3,y.m]]),r.Kb(512,y.u,y.c,[]),r.Kb(512,y.b,y.b,[]),r.Kb(256,y.i,{},[]),r.Kb(1024,b.j,y.y,[b.r,[2,b.a],y.i]),r.Kb(512,b.i,b.i,[b.j,b.r]),r.Kb(512,r.i,r.i,[]),r.Kb(512,r.w,r.J,[r.i,[2,r.K]]),r.Kb(1024,y.k,(function(){return[[{path:"",redirectTo:"/app/tabs/market",pathMatch:"full"},{path:"account",loadChildren:lr},{path:"support",loadChildren:hr},{path:"login",loadChildren:dr},{path:"signup",loadChildren:fr},{path:"app",loadChildren:pr},{path:"tutorial",loadChildren:gr},{path:"phone-login",loadChildren:vr},{path:"phone-login",loadChildren:mr}]]}),[]),r.Kb(1024,y.m,y.A,[y.u,y.b,b.i,r.r,r.w,r.i,y.k,y.i,[2,y.t],[2,y.l]]),r.Kb(1073742336,y.q,y.q,[[2,y.v],[2,y.m]]),r.Kb(1073742336,yr,yr,[]),r.Kb(1073742336,oe.f,oe.f,[]),r.Kb(1073742336,oe.e,oe.e,[]),r.Kb(1073742336,_.p,_.p,[]),r.Kb(1073742336,_.e,_.e,[]),r.Kb(1073742336,ct.a,ct.a,[r.B]),r.Kb(1073742336,se.b,se.b,[]),r.Kb(1073742336,Ae,Ae,[]),r.Kb(1073742336,sr,sr,[]),r.Kb(1073742336,ar,ar,[]),r.Kb(1073742336,ur.b,ur.b,[]),r.Kb(1073742336,oe.d,oe.d,[]),r.Kb(1073742336,pt,pt,[]),r.Kb(1073742336,m.Cb,m.Cb,[]),r.Kb(1073742336,w.a,w.a,[]),r.Kb(1073742336,Z,Z,[]),r.Kb(1073742336,o,o,[]),r.Kb(256,r.k,r.mb,[]),r.Kb(256,r.ab,"root",[]),r.Kb(256,oe.q,"XSRF-TOKEN",[]),r.Kb(256,oe.r,"X-XSRF-TOKEN",[]),r.Kb(256,ct.c,{apiKey:"AIzaSyCW-NoLT7fu2dS_WGsbPYrWNabEdDElcF8",authDomain:"pnkshop-adb8e.firebaseapp.com",databaseURL:"https://pnkshop-adb8e.firebaseio.com",projectId:"pnkshop-adb8e",storageBucket:"pnkshop-adb8e.appspot.com",messagingSenderId:"858321314978",appId:"1:858321314978:web:9f649c995b8a3b98ce23fb",measurementId:"G-Y6LVPT1C5Y"},[]),r.Kb(256,ct.b,void 0,[]),r.Kb(256,ur.c,!0,[]),r.Kb(256,ur.d,void 0,[]),r.Kb(256,w.c,null,[])])}));i.a.production&&Object(r.T)(),re().bootstrapModuleFactory(br).catch(t=>console.log(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,1]]]);