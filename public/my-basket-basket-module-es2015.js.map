{"version":3,"sources":["./src/app/pages/my-basket/basket.html","./src/app/pages/my-basket/basket-routing.module.ts","./src/app/pages/my-basket/basket.module.ts","./src/app/pages/my-basket/basket.scss","./src/app/pages/my-basket/basket.ts"],"names":[],"mappings":"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","file":"my-basket-basket-module-es2015.js","sourcesContent":["export default \"\\r\\n<ion-header>\\r\\n\\t<ion-toolbar color=\\\"crimson\\\">\\r\\n\\t  <ion-buttons slot=\\\"start\\\">\\r\\n\\t\\t<ion-button (click)=\\\"backButton()\\\"><ion-icon name=\\\"arrow-back\\\"></ion-icon></ion-button>\\r\\n\\t  </ion-buttons>\\r\\n\\t <ion-title>\\r\\n\\tMy Basket\\r\\n\\t  </ion-title>\\r\\n\\t</ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n<ion-content class=\\\"basket-content\\\">\\r\\n\\t<div *ngIf=\\\"basketItems | async as myBasket\\\">\\r\\n\\t<ion-card>\\r\\n\\t\\t<ion-card-header class=\\\"card-header\\\">Cart Summary</ion-card-header>\\r\\n\\r\\n\\t\\t\\t<ion-grid class=\\\"text-center\\\">\\r\\n\\t\\t\\t\\t<ion-row class=\\\"text-center\\\">\\r\\n\\t\\t\\t\\t\\t<ion-col col-3>\\r\\n\\t\\t\\t\\t\\t\\tProduct Name\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-3>\\r\\n\\t\\t\\t\\t\\t\\tPrice\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-3>\\r\\n\\t\\t\\t\\t\\t\\tQty\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-2>\\r\\n\\t\\t\\t\\t\\t\\tTotal\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t<ion-col col-1>\\r\\n\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t<hr class=\\\"hr-divider\\\" />\\r\\n\\t\\t\\t\\t<div *ngFor=\\\"let item of myBasket.items\\\">\\r\\n\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t<ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"item.productImageUrl != null; then customImage;else defaultImage\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ng-template #customImage>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"item.productImageUrl\\\" />\\r\\n\\t\\t\\t  </ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #defaultImage>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img\\r\\n\\t\\t\\t\\t  src=\\\"../../../assets/img/default.jpg\\\"\\r\\n\\t\\t\\t\\t/>\\r\\n\\t\\t\\t  </ng-template>\\r\\n\\t\\t\\t\\t \\r\\n\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{item.name}}\\r\\n\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ion-col col-3>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{item.pricePerQuantity  | currency:'INR'}}\\r\\n\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ion-col col-3>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col >\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tqty:{{item.quantity}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"add-circle\\\" style=\\\"margin-bottom:8px;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"addQuantity(item)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"remove-circle\\\" (click)=\\\"removeQuantity(item)\\\"></ion-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ion-col col-2>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{item.totalPrice  | currency:'INR'}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t<ion-col col-1>\\r\\n\\t\\t\\t\\t  <ion-icon name=\\\"trash\\\" (click)=\\\"removeEntireProduct(item)\\\"></ion-icon>\\r\\n\\t\\t\\t\\t</ion-col>\\r\\n\\t\\r\\n\\t\\t\\t\\t\\t</ion-row>\\r\\n\\t\\r\\n\\t\\t\\t\\t\\t<hr class=\\\"hr-divider\\\" />\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t<ion-col col-6>\\r\\n\\t\\t\\t\\t\\t\\tTotal\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col style=\\\"font-weight:Bold\\\">\\r\\n\\t\\t\\t\\t   {{basketTotalAmount | currency:'INR'}}\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-1>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t<ion-col col-6>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col style=\\\"font-weight:Bold\\\">\\r\\n\\t\\t\\t\\t         +\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-1>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t<ion-col col-6>\\r\\n\\t\\t\\t\\t\\t\\tDelivery fee\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col style=\\\"font-weight:Bold\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{myBasket.deliveryOrderConfig.deliveryCharge | currency:'INR'}}\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-1>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t<ion-col col-6>\\r\\n\\t\\t\\t\\t\\t\\tNet Total\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col style=\\\"font-weight:Bold\\\">\\r\\n\\t\\t\\t\\t   {{(basketTotalAmount + myBasket.deliveryOrderConfig.deliveryCharge) | currency:'INR'}}\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col col-1>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\r\\n\\t\\t\\t</ion-grid>\\r\\n\\r\\n\\t\\t\\r\\n\\r\\n\\r\\n\\t<ng-template #emptyCart>\\r\\n\\t\\tYour cart is empty. Please add product into your cart.\\r\\n\\t</ng-template>\\r\\n\\t</ion-card>\\r\\n\\r\\n\\t<ion-card >\\r\\n\\t\\t<ion-card-header class=\\\"card-header\\\">Checkout \\t<ion-icon name=\\\"checkmark-circle\\\"></ion-icon></ion-card-header>\\r\\n\\t\\t<ion-card-content>\\r\\n\\t\\t\\t<div  *ngIf=\\\"((basketTotalAmount + myBasket.deliveryOrderConfig.deliveryCharge) < myBasket.deliveryOrderConfig.minimumOrderValue); let lessTrue\\\">\\r\\n\\t\\t\\t\\t<ion-chip color=\\\"crimson\\\" >\\r\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"close-circle\\\"></ion-icon>\\r\\n\\t\\t\\t\\t\\t<ion-label>Minimum Order value : <strong> {{myBasket.deliveryOrderConfig.minimumOrderValue | currency :'INR'}} </strong></ion-label>\\r\\n\\t\\t\\t\\t</ion-chip>\\r\\n               \\r\\n            \\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div *ngIf=\\\"(myBasket.totalItemsCount > myBasket.deliveryOrderConfig.maximumQuantity) let maxQuantityTrue\\\">\\r\\n\\t\\t\\t\\t<ion-chip color=\\\"crimson\\\" >\\r\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"close-circle\\\"></ion-icon>\\r\\n\\t\\t\\t\\t\\t<ion-label>Maximum Item Count : <strong> {{myBasket.deliveryOrderConfig.maximumQuantity }} </strong></ion-label>\\r\\n\\t\\t\\t\\t</ion-chip>\\r\\n\\t\\t\\t   </div>\\r\\n\\t\\t\\t<div *ngIf=\\\"((basketTotalAmount + myBasket.deliveryOrderConfig.deliveryCharge) > myBasket.deliveryOrderConfig.maximumOrderValue) let maxOrderTrue\\\">\\r\\n\\t\\t\\t\\t<ion-chip color=\\\"crimson\\\" >\\r\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"close-circle\\\"></ion-icon>\\r\\n\\t\\t\\t\\t\\t<ion-label>Maximum Order value : <strong> {{myBasket.deliveryOrderConfig.maximumOrderValue | currency :'INR'}} </strong></ion-label>\\r\\n\\t\\t\\t\\t</ion-chip>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\r\\n\\t\\t\\t<div *ngIf=\\\"((basketTotalAmount + myBasket.deliveryOrderConfig.deliveryCharge) > myBasket.deliveryOrderConfig.minimumOrderValue) \\r\\n\\t\\t\\t\\t&& ((basketTotalAmount + myBasket.deliveryOrderConfig.deliveryCharge) < myBasket.deliveryOrderConfig.maximumOrderValue)\\r\\n\\t\\t\\t\\\">\\r\\n\\r\\n\\t\\t    <ng-container *ngIf=\\\"isLoggedIn; then showOrderNow; else showLogin\\\">\\r\\n\\r\\n\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t<ng-template #showOrderNow>\\r\\n\\t\\t\\t\\t<div class=\\\"text-center\\\" *ngIf=\\\"showOrderNowButton\\\">\\r\\n\\t\\t\\t\\t\\t<!-- check customer postal code and shop service area postal code-->\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"isServiceAvailable | async as isAvailable ; else noService\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-button class=\\\"order-now\\\" fill=\\\"outline\\\" *ngIf=\\\"isAvailable=='true'\\\" round color=\\\"crimson\\\" (click)=\\\"createOrderButtonClicked()\\\"> Order Now</ion-button>\\r\\n\\t\\t\\t\\t\\t    <ion-card  *ngIf=\\\"isAvailable=='false'\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-header color=\\\"crimson\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t No Service  <ion-icon name=\\\"alert\\\"></ion-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ion-card-header>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-content>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-label><strong>Sorry this store doesn't have delivery service at your pincode. \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tWe are expanding our service, soon we will cover your location.</strong> </ion-label>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ion-card-content>\\r\\n\\t\\t\\t\\t\\t\\t</ion-card>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<ng-template #noService>\\r\\n\\t\\t\\t\\t\\t\\t<ion-spinner   name=\\\"bubbles\\\" >\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t</ion-spinner>\\r\\n\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t   </div>\\r\\n\\t\\t\\t</ng-template>\\r\\n\\t<!--Below button should take the user to login -->\\t\\t\\r\\n\\t\\t<ng-template #showLogin>\\r\\n\\t\\t\\t<div class=\\\"text-center\\\">\\r\\n\\t\\t\\t\\t<ion-button class=\\\"order-now\\\" fill=\\\"outline\\\" routerLink=\\\"/app/tabs/login\\\" round color=\\\"crimson\\\">Login to Check out </ion-button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</ng-template>\\r\\n\\t\\t \\r\\n\\t</div>\\r\\n\\t\\t</ion-card-content>\\r\\n\\t </ion-card>\\r\\n\\t\\r\\n</div>\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport {RouterModule,  Routes } from '@angular/router';\r\nimport { BasketPage } from './basket';\r\n\r\n\r\n\r\nconst routes:Routes=[\r\n  {\r\n  path:'',\r\n  component:BasketPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [ RouterModule.forChild(routes)],\r\n  exports:[RouterModule],\r\n})\r\nexport class BasketPageRoutingModule { }","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { IonicModule } from \"@ionic/angular\";\r\nimport { BasketPage } from \"./basket\";\r\nimport { BasketPageRoutingModule } from \"./basket-routing.module\";\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule,BasketPageRoutingModule],\r\n  declarations: [BasketPage],\r\n  entryComponents: [BasketPage]\r\n})\r\nexport class BasketPageModule {}\r\n","export default \".basket-content {\\n  background-color: crimson;\\n  color: white;\\n}\\n\\n.hr-divider {\\n  border-top: 2px solid crimson;\\n  width: 800px;\\n}\\n\\n.order-now {\\n  color: white;\\n  font-weight: bold;\\n}\\n\\n.text-center {\\n  text-align: center;\\n}\\n\\nion-card-header {\\n  background-color: #b94545;\\n  color: white;\\n}\\n\\nion-toolbar {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbXktYmFza2V0L0M6XFxJb25pY1Byb2plY3RcXHBuay1zaG9wcGluZy1pb25pYzUvc3JjXFxhcHBcXHBhZ2VzXFxteS1iYXNrZXRcXGJhc2tldC5zY3NzIiwic3JjL2FwcC9wYWdlcy9teS1iYXNrZXQvYmFza2V0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFRSx5QkFBQTtFQUNBLFlBQUE7QUNBRjs7QURFQztFQUVFLDZCQUFBO0VBQ0MsWUFBQTtBQ0FKOztBREVBO0VBRUUsWUFBQTtFQUNBLGlCQUFBO0FDQUY7O0FERUE7RUFFRSxrQkFBQTtBQ0FGOztBREdBO0VBRUUseUJBQUE7RUFDQSxZQUFBO0FDREY7O0FESUE7RUFFSSxZQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9teS1iYXNrZXQvYmFza2V0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmFza2V0LWNvbnRlbnRcclxue1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247XHJcbiAgY29sb3I6d2hpdGU7XHJcbn1cclxuIC5oci1kaXZpZGVyXHJcbiB7XHJcbiAgIGJvcmRlci10b3A6IDJweCBzb2xpZCBjcmltc29uO1xyXG4gICAgd2lkdGg6IDgwMHB4O1xyXG4gfVxyXG4ub3JkZXItbm93XHJcbntcclxuICBjb2xvcjp3aGl0ZTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4udGV4dC1jZW50ZXJcclxue1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuaW9uLWNhcmQtaGVhZGVyXHJcbntcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjk0NTQ1O1xyXG4gIGNvbG9yOndoaXRlO1xyXG59XHJcblxyXG5pb24tdG9vbGJhclxyXG57XHJcbiAgICBjb2xvcjp3aGl0ZTtcclxufSIsIi5iYXNrZXQtY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmhyLWRpdmlkZXIge1xuICBib3JkZXItdG9wOiAycHggc29saWQgY3JpbXNvbjtcbiAgd2lkdGg6IDgwMHB4O1xufVxuXG4ub3JkZXItbm93IHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnRleHQtY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5pb24tY2FyZC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjk0NTQ1O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgY29sb3I6IHdoaXRlO1xufSJdfQ== */\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { AngularFireAuth } from \"@angular/fire/auth\";\r\nimport { ActivatedRoute,Router } from \"@angular/router\";\r\nimport { AlertController, NavController, NavParams, ToastController } from \"@ionic/angular\";\r\nimport { Observable, Subscription } from \"rxjs\";\r\nimport { catchError, concatMap, finalize, first, map, shareReplay } from \"rxjs/operators\";\r\nimport { BasketObj, OrderItem } from \"../../interfaces/basket-interface\";\r\nimport { AccountProvider } from \"../../providers/account-provider\";\r\nimport { AppService } from \"../../providers/app.service\";\r\nimport { BasketProvider } from \"../../providers/basket-provider\";\r\nimport { OrderProvider } from \"../../providers/order-provider\";\r\n\r\n\r\n@Component({\r\n  selector: \"page-basket\",\r\n  templateUrl: \"basket.html\",\r\n  styleUrls: [\"basket.scss\"]\r\n})\r\nexport class BasketPage   implements OnInit {\r\n  showOrderNowButton:boolean = true;\r\n  basketItems: Observable<BasketObj>;\r\n  storecode: string;\r\n  basketTotalAmount: number = 0;\r\n  userLoggedSubscription:Subscription;\r\n  isLoggedIn:boolean= false;\r\n  isServiceAvailable:Observable<string>\r\n  orderRef:Subscription;\r\n  public loading$ = this.appService.loading.asObservable();   // get the subject value.\r\n\r\npublic navParams = new NavParams();\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public basketProvider: BasketProvider,public alert:AlertController,\r\n   public angularFireAuth: AngularFireAuth,\r\n   public accountProvider:AccountProvider,\r\n   private orderProvider:OrderProvider,\r\n   public appService:AppService,\r\n   public toastController: ToastController,\r\n   public activatedRoute:ActivatedRoute,\r\n   public router:Router\r\n  ) {\r\n   \r\n  }\r\n\r\n  ngOnInit(){\r\n  this.basketItems  = this.basketProvider.getBasketForOrder();  // load basket Items\r\n  this.updateTotal();\r\n  }\r\n  ionViewWillEnter()\r\n  {\r\n    this.getLoggedInUser();\r\n  }\r\n\r\n  addQuantity(item: OrderItem) {\r\n    console.log(\"Item id is:\" + item.productId);\r\n    this.basketProvider.addItemToBasketOverload(item);\r\n    this.updateTotal();\r\n  }\r\n\r\n  caluclateTotalAmount(items: OrderItem[]): number {\r\n    let totalAmount = 0;\r\n    items.forEach(i => {\r\n      totalAmount = totalAmount + i.totalPrice;\r\n    });\r\n    return totalAmount;\r\n  }\r\n  removeQuantity(item: OrderItem) {\r\n    this.basketProvider.removeItemFromBasket(item);\r\n    this.updateTotal();\r\n  }\r\n\r\n  removeEntireProduct(item:OrderItem)\r\n  {\r\n     this.basketProvider.emptyProductAllQuantity(item);\r\n     this.updateTotal();\r\n  }\r\n\r\n  emptyWholeBasket()\r\n  {\r\n    this.basketProvider.emptyBasket();\r\n  }\r\n  async presentAlert(errorMessage:any,componenet:string) {\r\n    const alert = await this.alert.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Alert',\r\n      subHeader: 'Error Occurred:'+errorMessage,\r\n      message: 'Error:'+componenet,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n   backButton()\r\n   {\r\n     this.navCtrl.pop();\r\n   }\r\nupdateTotal()\r\n{\r\n  this.basketProvider.getBasketForOrder().subscribe(result=>{\r\n    this.basketTotalAmount =  this.caluclateTotalAmount(result.items);    // perform total\r\n    });\r\n}\r\ngetLoggedInUser()\r\n{\r\n this.userLoggedSubscription = this.angularFireAuth.authState.pipe(first()).subscribe(user =>\r\n  {\r\n    if(user)\r\n    {\r\n      this.isLoggedIn = true;\r\n      // check for shop service area pincode and customer location pin code.\r\n       \r\n      console.log(\"Logged in User :\"+user.phoneNumber);\r\n    }\r\n    else{\r\n      this.isLoggedIn = false;\r\n      console.log(\"anonymous user\");\r\n    }\r\n  });\r\n\r\n this.isServiceAvailable = this.angularFireAuth.authState.pipe(first(),\r\n  concatMap(user => \r\n    this.accountProvider.getCustomer(user.phoneNumber)\r\n    .pipe(first(),\r\n  concatMap(customer => this.basketProvider.getBasketForOrder().pipe(first(),map(result =>  {\r\n      let isFound = \"false\";\r\n      console.log(result);\r\n     const re =  result.serviceArea.forEach(serviceArea =>{\r\n                  if(serviceArea.pincode==customer.postCode)\r\n                  {\r\n                    isFound = \"true\";\r\n                    return;\r\n                  }\r\n                      \r\n    })\r\n    return isFound; \r\n  }))))),\r\n  );\r\n\r\n}\r\nngOnDestroy()\r\n{\r\n  if( this.userLoggedSubscription != undefined){\r\n   // this.userLoggedSubscription.unsubscribe();\r\n  }\r\n if(  this.orderRef != undefined)\r\n {\r\n  //this.orderRef.unsubscribe();\r\n }\r\n}\r\n\r\nasync presentConfirmOrderAlert() {\r\n  const alert = await this.alert.create({\r\n    cssClass: 'my-custom-class',\r\n    header: 'Order Confirmation!',\r\n    message: '<strong>Would you like to place the order?</strong>!!!',\r\n    buttons: [\r\n      {\r\n        text: 'Cancel',\r\n        role: 'cancel',\r\n        cssClass: 'secondary',\r\n        handler: () => {\r\n         // do nothing.\r\n        }\r\n      }, {\r\n        text: 'Okay',\r\n        handler: () => {\r\n          // create order.\r\n          this.createOrder();\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  await alert.present();\r\n}\r\nasync createOrderButtonClicked()\r\n{\r\n await this.presentConfirmOrderAlert();\r\n}\r\n\r\nasync createOrder()\r\n{\r\n  const createOrderRef = this.angularFireAuth.authState.pipe(first(),\r\n  concatMap(user => \r\n    this.accountProvider.getCustomer(user.phoneNumber)\r\n    .pipe(first(),\r\n  concatMap(customer => this.basketProvider.getBasketForOrder().pipe(first(),concatMap(basket =>\r\n    this.orderProvider.placeOrder(basket,customer)))))));  \r\n    // prsent pop\r\n\r\n    const processingOrder = await this.alert.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Placing your order!',\r\n      message: '<strong>Please kindly wait...!!!</strong>',\r\n    });\r\n    processingOrder.present();\r\n\r\n\r\n   this.orderRef= createOrderRef.subscribe(result =>{\r\n      if(result){\r\n      // order successfully placed.\r\n       // show toast\r\n      console.log(\"Order success:\"+result);\r\n\r\n      // dismiss it here\r\n      processingOrder.dismiss();\r\n      this.presentCustomerOrderSuccessToast();\r\n      // navigate to order page.\r\n      this.navCtrl.navigateRoot('/app/tabs/market').then(()=>{\r\n        this.router.navigate(['/app/tabs/myorder']);\r\n      })\r\n   \r\n      }\r\n      else{\r\n      processingOrder.dismiss();\r\n      console.error(\"Order failed\");\r\n      this.presentAlert(\"Order failed.\",\"createOrder\");\r\n      }\r\n\r\n    });\r\n                            \r\n}\r\n\r\n\r\nasync presentCustomerOrderSuccessToast() {\r\n  const toast = await this.toastController.create({\r\n    message: 'Your order has been successfully placed.',\r\n    duration: 2000,\r\n    position:'top',\r\n    color:\"success\"\r\n  });\r\n  toast.present();\r\n}\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}