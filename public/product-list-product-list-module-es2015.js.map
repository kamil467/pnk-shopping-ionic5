{"version":3,"sources":["./src/app/pages/product-list/product-list.html","./src/app/pages/product-list/product-list-routing.module.ts","./src/app/pages/product-list/product-list.module.ts","./src/app/pages/product-list/product-list.scss","./src/app/pages/product-list/product-list.ts","./src/app/providers/product-list.provider.ts"],"names":[],"mappings":"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","file":"product-list-product-list-module-es2015.js","sourcesContent":["export default \"<!--\\r\\n  Generated template for the ProductListPage page.\\r\\n\\r\\n  See http://ionicframework.com/docs/components/#navigation for more info on\\r\\n  Ionic pages and navigation.\\r\\n-->\\r\\n<ion-header>\\r\\n  <ion-toolbar color=\\\"crimson\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button [defaultHref]=\\\"defaultHref\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n   <ion-title>\\r\\n      Product List\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"card-background-page\\\">\\r\\n\\t<div *ngIf=\\\"basketObjObservable | async as myBasket ; else loadingErrorTemplate\\\">\\r\\n\\t\\t<div *ngIf = \\\"myBasket.totalItemsCount != 0\\\">\\r\\n\\r\\n\\t\\t\\r\\n\\t\\t<ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" >\\r\\n\\t\\t\\t<ion-fab-button  routerLink=\\\"/app/tabs/market/my-basket\\\">\\r\\n\\t\\t\\t\\t<ion-badge  >{{myBasket.totalItemsCount}}</ion-badge>\\r\\n\\t\\t\\t\\t<ion-icon name=\\\"cart-sharp\\\"></ion-icon></ion-fab-button>\\r\\n\\t\\t  </ion-fab>\\r\\n\\t</div>\\r\\n</div>\\r\\n  <div *ngIf=\\\"allProductsAbservable | async as allProductOb; else loadingErrorTemplate \\\">\\r\\n  <ion-grid>\\r\\n\\t\\r\\n\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t<ion-col col-6 *ngFor=\\\"let product of allProductOb\\\" size=\\\"6\\\">\\r\\n\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"product != undefined; then productcard;\\\"></ng-container>\\r\\n\\t\\t\\t\\t\\t<ng-template #productcard>\\r\\n\\t\\t\\t\\t\\t\\t<ion-card>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"product.productImageUrl != null; then customImage;else defaultImage\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ng-template #customImage>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<img [src]=\\\"product.productImageUrl\\\" />\\r\\n              </ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #defaultImage>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img\\r\\n                  src=\\\"../../../assets/img/default.jpg\\\"\\r\\n                />\\r\\n              </ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col-10>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div>{{product.name}}</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col-2>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"information-circle\\\"></ion-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-note>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{product.size}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-note>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"product.inStock == true\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col class=\\\"col-end-align\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-badge color=\\\"secondary\\\">stock</ion-badge>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"product.inStock == false\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col class=\\\"col-end-align\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-badge color=\\\"danger\\\">no stock</ion-badge>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"product.price != 0; then displayOld;\\\"></ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #displayOld>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong><del>{{product.price  | currency:'INR'}}</del></strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col class=\\\"newprice\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong><ins>{{product.offeredPrice  | currency:'INR'}}</ins></strong>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"product.inStock == true; then addCart; else showOutOfStock\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #addCart>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col-12 align-self-center text-center class=\\\"cart-button\\\" (click)=\\\"addToBasket(product)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"basket\\\"></ion-icon> Add\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #showOutOfStock>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-col col-12 align-self-center text-center class=\\\"cart-button out-stock\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"basket\\\"></ion-icon> Add\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t\\t\\t</ion-card>\\r\\n\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t</ion-row>\\r\\n\\t</ion-grid>\\r\\n</div>\\r\\n<ng-template #loadingErrorTemplate>\\r\\n\\t<div class=\\\"spin\\\"> <ion-spinner name=\\\"bubbles\\\"></ion-spinner>\\r\\n\\t  </div>\\r\\n\\t  \\r\\n  </ng-template>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport {RouterModule,  Routes } from '@angular/router';\r\nimport { ProductListPage } from './product-list';\r\n\r\n\r\n\r\nconst routes:Routes=[\r\n  {\r\n  path:'',\r\n  component:ProductListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [ RouterModule.forChild(routes)],\r\n  exports:[RouterModule],\r\n})\r\nexport class ProductListRoutingModule { }","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { IonicModule } from \"@ionic/angular\";\r\nimport { ProductListPage } from \"./product-list\";\r\nimport { ProductListRoutingModule } from \"./product-list-routing.module\";\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule,ProductListRoutingModule],\r\n  declarations: [ProductListPage],\r\n  entryComponents: [ProductListPage]\r\n})\r\nexport class ProductListModule {}\r\n","export default \".card-background-page {\\n  background-color: #b94545;\\n}\\n.card-background-page .newprice {\\n  text-align: end;\\n}\\n.card-background-page .cart-button {\\n  background-color: crimson;\\n  color: white;\\n}\\n.card-background-page .stockin {\\n  background-color: crimson;\\n  color: #f7f4f4;\\n}\\n.card-background-page .out-stock {\\n  opacity: 0.5;\\n}\\n.card-background-page .col-end-align {\\n  text-align: end;\\n}\\nion-toolbar {\\n  color: white;\\n}\\n.spin {\\n  position: fixed;\\n  left: 50%;\\n  top: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcHJvZHVjdC1saXN0L0M6XFxJb25pY1Byb2plY3RcXHBuay1zaG9wcGluZy1pb25pYzUvc3JjXFxhcHBcXHBhZ2VzXFxwcm9kdWN0LWxpc3RcXHByb2R1Y3QtbGlzdC5zY3NzIiwic3JjL2FwcC9wYWdlcy9wcm9kdWN0LWxpc3QvcHJvZHVjdC1saXN0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSx5QkFBQTtBQ0FKO0FERUk7RUFDRSxlQUFBO0FDQU47QURFSTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtBQ0FOO0FERUk7RUFDRSx5QkFBQTtFQUNBLGNBQUE7QUNBTjtBREVJO0VBQ0UsWUFBQTtBQ0FOO0FERUk7RUFDRSxlQUFBO0FDQU47QURHQTtFQUVJLFlBQUE7QUNESjtBREdBO0VBRUUsZUFBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wcm9kdWN0LWxpc3QvcHJvZHVjdC1saXN0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvL3BhZ2UtcHJvZHVjdC1saXN0IHtcclxuICAuY2FyZC1iYWNrZ3JvdW5kLXBhZ2Uge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2I5NDU0NTtcclxuICBcclxuICAgIC5uZXdwcmljZSB7XHJcbiAgICAgIHRleHQtYWxpZ246IGVuZDtcclxuICAgIH1cclxuICAgIC5jYXJ0LWJ1dHRvbiB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIH1cclxuICAgIC5zdG9ja2luIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogY3JpbXNvbjtcclxuICAgICAgY29sb3I6IHJnYigyNDcsIDI0NCwgMjQ0KTtcclxuICAgIH1cclxuICAgIC5vdXQtc3RvY2sge1xyXG4gICAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICB9XHJcbiAgICAuY29sLWVuZC1hbGlnbiB7XHJcbiAgICAgIHRleHQtYWxpZ246IGVuZDtcclxuICAgIH1cclxuICB9XHJcbmlvbi10b29sYmFyXHJcbntcclxuICAgIGNvbG9yOndoaXRlO1xyXG59XHJcbi5zcGluXHJcbntcclxuICBwb3NpdGlvbjpmaXhlZDtcclxuICBsZWZ0OjUwJTtcclxuICB0b3A6NTAlO1xyXG59XHJcbi8vfVxyXG4iLCIuY2FyZC1iYWNrZ3JvdW5kLXBhZ2Uge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjk0NTQ1O1xufVxuLmNhcmQtYmFja2dyb3VuZC1wYWdlIC5uZXdwcmljZSB7XG4gIHRleHQtYWxpZ246IGVuZDtcbn1cbi5jYXJkLWJhY2tncm91bmQtcGFnZSAuY2FydC1idXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBjcmltc29uO1xuICBjb2xvcjogd2hpdGU7XG59XG4uY2FyZC1iYWNrZ3JvdW5kLXBhZ2UgLnN0b2NraW4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBjcmltc29uO1xuICBjb2xvcjogI2Y3ZjRmNDtcbn1cbi5jYXJkLWJhY2tncm91bmQtcGFnZSAub3V0LXN0b2NrIHtcbiAgb3BhY2l0eTogMC41O1xufVxuLmNhcmQtYmFja2dyb3VuZC1wYWdlIC5jb2wtZW5kLWFsaWduIHtcbiAgdGV4dC1hbGlnbjogZW5kO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnNwaW4ge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGxlZnQ6IDUwJTtcbiAgdG9wOiA1MCU7XG59Il19 */\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { AlertController, LoadingController } from \"@ionic/angular\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\nimport {  BasketObj } from \"../../interfaces/basket-interface\";\r\nimport { Product } from \"../../interfaces/product-category\";\r\nimport { BasketProvider } from \"../../providers/basket-provider\";\r\nimport { ProductListProvider } from \"../../providers/product-list.provider\";\r\n\r\n/**\r\n * Generated class for the ShoplistPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: \"page-product-list\",\r\n  templateUrl: \"product-list.html\",\r\n    styleUrls: [\"product-list.scss\"]\r\n})\r\nexport class ProductListPage implements OnInit {\r\nallProductsAbservable:Observable<Product[]>\r\nbasketObjObservable:Observable<BasketObj>\r\n  defaultHref='';\r\nconstructor(public productListProvider:ProductListProvider,public basketProvider: BasketProvider,\r\npublic loader:LoadingController,public alert:AlertController,\r\nprivate route: ActivatedRoute)\r\n{\r\n\r\n}\r\n   ionViewDidEnter() {\r\n    this.defaultHref = `/app/tabs/market/product-category-list`;\r\n    this.getBasketFromMemory();\r\n  }\r\n\r\n  // call product-list API to load active products. \r\n ngOnInit() { \r\nconst storeCode = this.route\r\n                 .snapshot\r\n                 .paramMap\r\n                 .get('storeCode'); //get the shopcode from params\r\nconst productCategoryCode = this.route\r\n                            .snapshot\r\n                            .paramMap\r\n                            .get('productCategoryCode');  // get the productcategoryCode.\r\n                            \r\n this.allProductsAbservable=  this.productListProvider\r\n                             .getActiveProductList(productCategoryCode,storeCode); // observable will be called on template  \r\n    this.getBasketFromMemory();\r\n}\r\n\r\n// get latest basket from in-memory.\r\n getBasketFromMemory()\r\n{\r\n  this.basketObjObservable = this.basketProvider\r\n  .getBasketForOrder()\r\n  .pipe(map( basket => {                                    \r\n    let totalItemsCount =  0;\r\n    if(basket != undefined){\r\n     basket.items.forEach(item => \r\n   {\r\n  totalItemsCount = totalItemsCount+ item.quantity;\r\n       });\r\n      }\r\nreturn ({...basket,totalItemsCount:totalItemsCount})\r\n} ))\r\n\r\n}\r\n  async presentAlert(errorMessage:any,componenet:string) {\r\n    const alert = await this.alert.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Alert',\r\n      subHeader: 'Error Occurred:'+errorMessage,\r\n      message: 'Error:'+componenet,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  addToBasket(product: Product) {\r\n    console.log(\"add to basket clicked\"+product.name);\r\n    // build orderItem.\r\n     this.basketProvider.addItemToBasket(product);\r\n     this.getBasketFromMemory();\r\n  // refresh the basket everytim.// local call - no expensive service call.\r\n  }\r\n\r\n}","import { HttpClient, HttpErrorResponse, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable, Optional } from \"@angular/core\";\r\nimport { of, Observable,throwError, from  } from \"rxjs\";\r\nimport { catchError, first, mergeMap, retry, toArray } from 'rxjs/operators';\r\nimport { map } from \"rxjs/operators\";\r\nimport { Product, ProductCategoryProductMapping } from \"../interfaces/product-category\";\r\nimport { environment } from '../../environments/environment'\r\nimport { AngularFirestore } from \"@angular/fire/firestore\";\r\n@Injectable({ providedIn: \"root\" })\r\nexport class ProductListProvider {\r\n  \r\n  /* Data Initialization */\r\n  constructor(public http: HttpClient,\r\n    private angularFireCloudStore: AngularFirestore) {}\r\n\r\n  getProductsByCategory(categroyCode:string):Observable<Product[]>\r\n  {\r\n    return this.http.get<Product[]>(environment.productListAPI)\r\n    .pipe(\r\n   retry(3),\r\n   catchError(err =>this.handleError(err))\r\n    );\r\n      }\r\n\r\n getActiveProductMappingListByCategoryCode(categorCode:string,shopCode:string):Observable<ProductCategoryProductMapping[]>\r\n {\r\n\r\n   const productsMapResult = this.angularFireCloudStore\r\n                         .collection(environment.SHOP_LIST_COLLECTION)\r\n                         .doc(shopCode)\r\n                         .collection<ProductCategoryProductMapping>(environment.PRODUCT_CATEGORY_MAPPING, ref => ref.where(\"categoryId\",\"==\",categorCode))\r\n                         .valueChanges()\r\n                         .pipe(catchError(err => this.handleError(err,\"getActiveProductMappingListByCategoryCode\")));                   \r\nreturn productsMapResult;\r\n }\r\n\r\n\r\n getActiveProduct(productId:string,shopCode:string):Observable<Product>\r\n {\r\n  const productRef = this.angularFireCloudStore.collection(environment.SHOP_LIST_COLLECTION)\r\n                     .doc(shopCode)\r\n                     .collection<Product>(environment.PRODUCT_LIST,ref => ref.where(\"status\",\"==\",\"a\"))\r\n                     .doc(productId)\r\n                      .valueChanges()\r\n                      .pipe(map(finalData => {\r\n                        console.log(\"data is :\"+finalData.name);\r\n                        return ({...finalData,id:productId})   // load the id.\r\n                      }),\r\n                        catchError(err => this.handleError(err,\"getActiveProduct\")));\r\n                     return productRef;\r\n  \r\n }\r\n\r\n\r\n getActiveProductList(categoryCode:string,shopCode:string):Observable<Product[]>\r\n {\r\n   const productList = this.getActiveProductMappingListByCategoryCode(categoryCode,shopCode)\r\n                      .pipe(\r\n                       mergeMap((productMapping:ProductCategoryProductMapping[]) => \r\n                       from(productMapping).pipe(\r\n                        mergeMap(\r\n                          pMap => this.getActiveProduct(pMap.productId,shopCode)\r\n                          .pipe(map(\r\n                           product =>  ({...product})\r\n                          ),first()\r\n                          ) \r\n                        ),toArray(),\r\n                       ),\r\n                       ),\r\n                       catchError(err => this.handleError(err,\"getActiveProductList\"))\r\n                      );\r\n                      return productList;\r\n }\r\n\r\n  private handleError(error: HttpErrorResponse,caller:string= null) {\r\n  if (error.error instanceof ErrorEvent) {\r\n    // A client-side or network error occurred. Handle it accordingly.\r\n    console.error('An error occurred:', error.error.message);\r\n  } else {\r\n    // The backend returned an unsuccessful response code.\r\n    // The response body may contain clues as to what went wrong.\r\n    console.error(\r\n      `Backend returned code ${error.status}, ` +\r\n      `body was: ${error.error}`);\r\n      console.error(\"Detailed error is :\"+error +\"and caller is:\"+caller);\r\n  }\r\n  // Return an observable with a user-facing error message.\r\n  return throwError(\r\n    'Something bad happened; please try again later.');\r\n}\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}